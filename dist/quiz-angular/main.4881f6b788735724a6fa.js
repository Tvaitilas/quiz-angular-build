(self.webpackChunkquiz_angular=self.webpackChunkquiz_angular||[]).push([[179],{8255:je=>{function Ee(L){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+L+"'");throw h.code="MODULE_NOT_FOUND",h})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,je.exports=Ee},7716:(je,Ee,L)=>{"use strict";L.d(Ee,{deG:()=>gd,tb:()=>tI,AFp:()=>mS,ip1:()=>CE,CZH:()=>Sp,hGG:()=>cu,z2F:()=>a_,sBO:()=>Pm,Sil:()=>xr,_Vd:()=>mh,EJc:()=>rI,SBq:()=>ws,qLn:()=>Wo,vpe:()=>Ya,gxx:()=>zl,tBr:()=>Lo,XFs:()=>Fe,OlP:()=>Qt,zs3:()=>en,ZZ4:()=>yh,aQg:()=>Rm,soG:()=>r_,YKP:()=>jw,v3s:()=>WP,h0i:()=>iu,PXZ:()=>MS,R0b:()=>qi,FiY:()=>Vo,Lbi:()=>eI,g9A:()=>wE,Qsj:()=>$R,FYo:()=>Sm,JOm:()=>_,Tiy:()=>Nv,q3G:()=>En,tp0:()=>Vn,EAV:()=>uu,Rgc:()=>lp,dDg:()=>lI,DyG:()=>Bi,q4F:()=>kw,GfV:()=>nA,s_b:()=>cp,ifc:()=>Re,eFA:()=>pI,G48:()=>DS,Gpc:()=>B,X6Q:()=>AE,_c5:()=>TI,VLi:()=>IS,c2e:()=>nI,zSh:()=>Ba,wAp:()=>Ge,vHH:()=>ye,EiD:()=>Xu,mCW:()=>jo,qzn:()=>Ml,JVY:()=>sg,pB0:()=>Zu,eBb:()=>rf,L6k:()=>nf,LAX:()=>Ks,cg1:()=>mv,Tjo:()=>VS,kL8:()=>_v,yhl:()=>wd,dqk:()=>nt,sIi:()=>ql,CqO:()=>ah,QGY:()=>Jy,F4k:()=>Xy,RDi:()=>xs,AaK:()=>Y,z3N:()=>Zs,qOj:()=>hc,TTD:()=>Br,_Bn:()=>qa,xp6:()=>RC,uIk:()=>Ly,ekj:()=>iv,Suo:()=>lE,Xpm:()=>Kn,lG2:()=>yu,Yz7:()=>Kt,cJS:()=>nn,oAB:()=>Ps,Yjl:()=>Lr,Y36:()=>kf,_UZ:()=>Sb,GkF:()=>Yy,qZA:()=>Zy,TgZ:()=>qy,EpF:()=>Qy,n5z:()=>El,Ikx:()=>Yf,LFG:()=>Xt,$8M:()=>fd,NdJ:()=>sm,CRH:()=>Ym,oxw:()=>Nb,ALo:()=>Gm,lcZ:()=>Ep,xi3:()=>N0,Hsn:()=>Ga,F$t:()=>ev,Q6J:()=>Ff,MGl:()=>Lf,iGM:()=>Km,MAs:()=>Mf,CHM:()=>cl,LSH:()=>af,kYT:()=>el,Udp:()=>$f,YNc:()=>rh,W1O:()=>Sh,_uU:()=>lh,Oqu:()=>Wf,hij:()=>pm,AsE:()=>uv});var h=L(9765),ee=L(5319),k=L(7574),ue=L(6682),ne=L(8819);function K(r){for(let i in r)if(r[i]===K)return i;throw Error("Could not find renamed property on target object.")}function pe(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Y(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Y).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function J(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const F=K({__forward_ref__:K});function B(r){return r.__forward_ref__=B,r.toString=function(){return Y(this())},r}function H(r){return oe(r)?r():r}function oe(r){return"function"==typeof r&&r.hasOwnProperty(F)&&r.__forward_ref__===B}class ye extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function te(r){return"string"==typeof r?r:null==r?"":String(r)}function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():te(r)}function mt(r,i){const o=i?` in ${i}`:"";throw new ye("201",`No provider for ${de(r)} found${o}`)}function Ot(r,i){null==r&&function(r,i,o,a){throw new Error(`ASSERTION ERROR: ${r}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}(i,r,null,"!=")}function Kt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function nn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Sn(r){return Rt(r,_i)||Rt(r,kn)}function Rt(r,i){return r.hasOwnProperty(i)?r[i]:null}function Qr(r){return r&&(r.hasOwnProperty(we)||r.hasOwnProperty(bn))?r[we]:null}const _i=K({\u0275prov:K}),we=K({\u0275inj:K}),kn=K({ngInjectableDef:K}),bn=K({ngInjectorDef:K});var Fe=(()=>((Fe=Fe||{})[Fe.Default=0]="Default",Fe[Fe.Host=1]="Host",Fe[Fe.Self=2]="Self",Fe[Fe.SkipSelf=4]="SkipSelf",Fe[Fe.Optional=8]="Optional",Fe))();let kt;function ur(r){const i=kt;return kt=r,i}function ze(r,i,o){const a=Sn(r);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Fe.Optional?null:void 0!==i?i:void mt(Y(r),"Injector")}function _t(r){return{toString:r}.toString()}var yt=(()=>((yt=yt||{})[yt.OnPush=0]="OnPush",yt[yt.Default=1]="Default",yt))(),Re=(()=>((Re=Re||{})[Re.Emulated=0]="Emulated",Re[Re.None=2]="None",Re[Re.ShadowDom=3]="ShadowDom",Re))();const We="undefined"!=typeof globalThis&&globalThis,mu="undefined"!=typeof window&&window,es="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,nt=We||"undefined"!=typeof global&&global||mu||es,G={},j=[],Z=K({\u0275cmp:K}),ve=K({\u0275dir:K}),ie=K({\u0275pipe:K}),Oe=K({\u0275mod:K}),rt=K({\u0275loc:K}),Pt=K({\u0275fac:K}),dn=K({__NG_ELEMENT_ID__:K});let hn=0;function Kn(r){return _t(()=>{const o={},a={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===yt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||j,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Re.Emulated,id:"c",styles:r.styles||j,_:null,setInput:null,schemas:r.schemas||null,tView:null},u=r.directives,d=r.features,m=r.pipes;return a.id+=hn++,a.inputs=Ms(r.inputs,o),a.outputs=Ms(r.outputs),d&&d.forEach(y=>y(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(jn):null,a.pipeDefs=m?()=>("function"==typeof m?m():m).map(Rs):null,a})}function jn(r){return Rn(r)||function(r){return r[ve]||null}(r)}function Rs(r){return function(r){return r[ie]||null}(r)}const Xa={};function Ps(r){return _t(()=>{const i={type:r.type,bootstrap:r.bootstrap||j,declarations:r.declarations||j,imports:r.imports||j,exports:r.exports||j,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Xa[r.id]=r.type),i})}function el(r,i){return _t(()=>{const o=Vr(r,!0);o.declarations=i.declarations||j,o.imports=i.imports||j,o.exports=i.exports||j})}function Ms(r,i){if(null==r)return G;const o={};for(const a in r)if(r.hasOwnProperty(a)){let u=r[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),o[u]=a,i&&(i[u]=d)}return o}const yu=Kn;function Lr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Rn(r){return r[Z]||null}function Vr(r,i){const o=r[Oe]||null;if(!o&&!0===i)throw new Error(`Type ${Y(r)} does not have '\u0275mod' property.`);return o}function Yt(r){return Array.isArray(r)&&"object"==typeof r[1]}function Wn(r){return Array.isArray(r)&&!0===r[1]}function Gc(r){return 0!=(8&r.flags)}function na(r){return 2==(2&r.flags)}function tl(r){return 1==(1&r.flags)}function ei(r){return null!==r.template}function ti(r){return 0!=(512&r[2])}function yi(r,i){return r.hasOwnProperty(Pt)?r[Pt]:null}class la{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Br(){return ua}function ua(r){return r.type.prototype.ngOnChanges&&(r.setInput=Jn),Wp}function Wp(){const r=bu(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===G)r.previous=i;else for(let a in i)o[a]=i[a];r.current=null,this.ngOnChanges(i)}}function Jn(r,i,o,a){const u=bu(r)||function(r,i){return r[vi]=i}(r,{previous:G,current:null}),d=u.current||(u.current={}),m=u.previous,y=this.declaredInputs[o],C=m[y];d[y]=new la(C&&C.currentValue,i,m===G),r[a]=i}Br.ngInherit=!0;const vi="__ngSimpleChanges__";function bu(r){return r[vi]||null}let wo;function xs(r){wo=r}function Gt(r){return!!r.listen}const Ei={createRenderer:(r,i)=>void 0!==wo?wo:"undefined"!=typeof document?document:void 0};function Bt(r){for(;Array.isArray(r);)r=r[0];return r}function ks(r,i){return Bt(i[r])}function Dr(r,i){return Bt(i[r.index])}function is(r,i){return r.data[i]}function ss(r,i){return r[i]}function Gn(r,i){const o=i[r];return Yt(o)?o:o[0]}function ol(r){return 4==(4&r[2])}function al(r){return 128==(128&r[2])}function pn(r,i){return null==i?null:r[i]}function da(r){r[18]=0}function ha(r,i){r[5]+=i;let o=r,a=r[3];for(;null!==a&&(1===i&&1===o[5]||-1===i&&0===o[5]);)a[5]+=i,o=a,a=a[3]}const Ze={lFrame:Ru(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function fa(){return Ze.bindingsEnabled}function Ce(){return Ze.lFrame.lView}function ut(){return Ze.lFrame.tView}function cl(r){return Ze.lFrame.contextLView=r,r[8]}function qt(){let r=dl();for(;null!==r&&64===r.type;)r=r.parent;return r}function dl(){return Ze.lFrame.currentTNode}function Xn(r,i){const o=Ze.lFrame;o.currentTNode=r,o.isParent=i}function Do(){return Ze.lFrame.isParent}function pa(){Ze.lFrame.isParent=!1}function To(){return Ze.isInCheckNoChangesMode}function Ao(r){Ze.isInCheckNoChangesMode=r}function gn(){const r=Ze.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function jr(){return Ze.lFrame.bindingIndex}function $r(){return Ze.lFrame.bindingIndex++}function er(r){const i=Ze.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function ma(r,i){const o=Ze.lFrame;o.bindingIndex=o.bindingRootIndex=r,_a(i)}function _a(r){Ze.lFrame.currentDirectiveIndex=r}function fl(){return Ze.lFrame.currentQueryIndex}function So(r){Ze.lFrame.currentQueryIndex=r}function Ro(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Su(r,i,o){if(o&Fe.SkipSelf){let u=i,d=r;for(;!(u=u.parent,null!==u||o&Fe.Host||(u=Ro(d),null===u||(d=d[15],10&u.type))););if(null===u)return!1;i=u,r=d}const a=Ze.lFrame=id();return a.currentTNode=i,a.lView=r,!0}function Fs(r){const i=id(),o=r[1];Ze.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function id(){const r=Ze.lFrame,i=null===r?null:r.child;return null===i?Ru(r):i}function Ru(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function sd(){const r=Ze.lFrame;return Ze.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const od=sd;function Fi(){const r=sd();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Pn(){return Ze.lFrame.selectedIndex}function Po(r){Ze.lFrame.selectedIndex=r}function sn(){const r=Ze.lFrame;return is(r.tView,r.selectedIndex)}function pl(r,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:A}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function as(r,i,o){Mu(r,i,3,o)}function Ea(r,i,o,a){(3&r[2])===o&&Mu(r,i,o,a)}function un(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Mu(r,i,o,a){const d=null!=a?a:-1,m=i.length-1;let y=0;for(let C=void 0!==a?65535&r[18]:0;C<m;C++)if("number"==typeof i[C+1]){if(y=i[C],null!=a&&y>=a)break}else i[C]<0&&(r[18]+=65536),(y<d||-1==d)&&(zh(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function zh(r,i,o,a){const u=o[a]<0,d=o[a+1],y=r[u?-o[a]:o[a]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class No{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function ud(r,i,o){const a=Gt(r);let u=0;for(;u<o.length;){const d=o[u];if("number"==typeof d){if(0!==d)break;u++;const m=o[u++],y=o[u++],C=o[u++];a?r.setAttribute(i,y,C,m):i.setAttributeNS(m,y,C)}else{const m=d,y=o[++u];Vi(m)?a&&r.setProperty(i,m,y):a?r.setAttribute(i,m,y):i.setAttribute(m,y),u++}}return u}function qh(r){return 3===r||4===r||6===r}function Vi(r){return 64===r.charCodeAt(0)}function gl(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?o=u:0===o||Zh(r,o,u,null,-1===o||2===o?i[++a]:null)}}return r}function Zh(r,i,o,a,u){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===a)return void(null!==u&&(r[d+1]=u));if(a===r[d+1])return void(r[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,o),null!==a&&r.splice(d++,0,a),null!==u&&r.splice(d++,0,u)}function xu(r){return-1!==r}function us(r){return 32767&r}function Tr(r,i){let o=function(r){return r>>16}(r),a=i;for(;o>0;)a=a[15],o--;return a}let Ca=!0;function xo(r){const i=Ca;return Ca=r,i}let hd=0;function ba(r,i){const o=cn(r,i);if(-1!==o)return o;const a=i[1];a.firstCreatePass&&(r.injectorIndex=i.length,Ls(a.data,r),Ls(i,null),Ls(a.blueprint,null));const u=Be(r,i),d=r.injectorIndex;if(xu(u)){const m=us(u),y=Tr(u,i),C=y[1].data;for(let I=0;I<8;I++)i[d+I]=y[m+I]|C[m+I]}return i[d+8]=u,d}function Ls(r,i){r.push(0,0,0,0,0,0,0,0,i)}function cn(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Be(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,a=null,u=i;for(;null!==u;){const d=u[1],m=d.type;if(a=2===m?d.declTNode:1===m?u[6]:null,null===a)return-1;if(o++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function Hr(r,i,o){!function(r,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(dn)&&(a=o[dn]),null==a&&(a=o[dn]=hd++);const u=255&a;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function pr(r,i,o){if(o&Fe.Optional)return r;mt(i,"NodeInjector")}function Vs(r,i,o,a){if(o&Fe.Optional&&void 0===a&&(a=null),0==(o&(Fe.Self|Fe.Host))){const u=r[9],d=ur(void 0);try{return u?u.get(i,a,o&Fe.Optional):ze(i,a,o&Fe.Optional)}finally{ur(d)}}return pr(a,i,o)}function _l(r,i,o,a=Fe.Default,u){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(dn)?r[dn]:void 0;return"number"==typeof i?i>=0?255&i:yl:i}(o);if("function"==typeof d){if(!Su(i,r,a))return a&Fe.Host?pr(u,o,a):Vs(i,o,a,u);try{const m=d(a);if(null!=m||a&Fe.Optional)return m;mt(o)}finally{od()}}else if("number"==typeof d){let m=null,y=cn(r,i),C=-1,I=a&Fe.Host?i[16][6]:null;for((-1===y||a&Fe.SkipSelf)&&(C=-1===y?Be(r,i):i[y+8],-1!==C&&wa(a,!1)?(m=i[1],y=us(C),i=Tr(C,i)):y=-1);-1!==y;){const A=i[1];if(vl(d,y,A.data)){const M=Zp(y,i,o,m,a,I);if(M!==Jt)return M}C=i[y+8],-1!==C&&wa(a,i[1].data[y+8]===I)&&vl(d,y,i)?(m=A,y=us(C),i=Tr(C,i)):y=-1}}}return Vs(i,o,a,u)}const Jt={};function yl(){return new ds(qt(),Ce())}function Zp(r,i,o,a,u,d){const m=i[1],y=m.data[r+8],A=cs(y,m,o,null==a?na(y)&&Ca:a!=m&&0!=(3&y.type),u&Fe.Host&&d===y);return null!==A?tr(i,m,A,y):Jt}function cs(r,i,o,a,u){const d=r.providerIndexes,m=i.data,y=1048575&d,C=r.directiveStart,A=d>>20,N=u?y+A:r.directiveEnd;for(let $=a?y:y+A;$<N;$++){const q=m[$];if($<C&&o===q||$>=C&&q.type===o)return $}if(u){const $=m[C];if($&&ei($)&&$.type===o)return C}return null}function tr(r,i,o,a){let u=r[o];const d=i.data;if(function(r){return r instanceof No}(u)){const m=u;m.resolving&&function(r,i){throw new ye("200",`Circular dependency in DI detected for ${r}`)}(de(d[o]));const y=xo(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?ur(m.injectImpl):null;Su(r,a,Fe.Default);try{u=r[o]=m.factory(void 0,d,r,a),i.firstCreatePass&&o>=a.directiveStart&&function(r,i,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=i.type.prototype;if(a){const m=ua(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==C&&ur(C),xo(y),m.resolving=!1,od()}}return u}function vl(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function wa(r,i){return!(r&Fe.Self||r&Fe.Host&&i)}class ds{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return _l(this._tNode,this._lView,i,a,o)}}function El(r){return _t(()=>{const i=r.prototype.constructor,o=i[Pt]||Ia(i),a=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==a;){const d=u[Pt]||Ia(u);if(d&&d!==o)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Ia(r){return oe(r)?()=>{const i=Ia(H(r));return i&&i()}:yi(r)}function fd(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const d=o[u];if(qh(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(d===i)return o[u+1];u+=2}}}return null}(qt(),r)}const Ui="__parameters__";function si(r,i,o){return _t(()=>{const a=function(r){return function(...o){if(r){const a=r(...o);for(const u in a)this[u]=a[u]}}}(i);function u(...d){if(this instanceof u)return a.apply(this,d),this;const m=new u(...d);return y.annotation=m,y;function y(C,I,A){const M=C.hasOwnProperty(Ui)?C[Ui]:Object.defineProperty(C,Ui,{value:[]})[Ui];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(m),C}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class Qt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Kt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gd=new Qt("AnalyzeForEntryComponents"),Bi=Function;function Ar(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let a=r[o];Array.isArray(a)?(i===r&&(i=r.slice(0,o)),Ar(a,i)):i!==r&&i.push(a)}return i}function bi(r,i){r.forEach(o=>Array.isArray(o)?bi(o,i):i(o))}function Da(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Gr(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ji(r,i){const o=[];for(let a=0;a<r;a++)o.push(i);return o}function Mn(r,i,o){let a=Fo(r,i);return a>=0?r[1|a]=o:(a=~a,function(r,i,o,a){let u=r.length;if(u==i)r.push(o,a);else if(1===u)r.push(a,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=a}}(r,a,i,o)),a}function Nn(r,i){const o=Fo(r,i);if(o>=0)return r[1|o]}function Fo(r,i){return function(r,i,o){let a=0,u=r.length>>o;for(;u!==a;){const d=a+(u-a>>1),m=r[d<<o];if(i===m)return d<<o;m>i?u=d:a=d+1}return~(u<<o)}(r,i,1)}const Ct={},zt="__NG_DI_FLAG__",vn="ngTempTokenPath",On=/\n/gm,Ws="__source",oi=K({provide:String,useValue:K});let ai;function Qe(r){const i=ai;return ai=r,i}function Qh(r,i=Fe.Default){if(void 0===ai)throw new Error("inject() must be called from an injection context");return null===ai?ze(r,void 0,i):ai.get(r,i&Fe.Optional?null:void 0,i)}function Xt(r,i=Fe.Default){return(kt||Qh)(H(r),i)}function Ta(r){const i=[];for(let o=0;o<r.length;o++){const a=H(r[o]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,d=Fe.Default;for(let m=0;m<a.length;m++){const y=a[m],C=Jh(y);"number"==typeof C?-1===C?u=y.token:d|=C:u=y}i.push(Xt(u,d))}else i.push(Xt(a))}return i}function Aa(r,i){return r[zt]=i,r.prototype[zt]=i,r}function Jh(r){return r[zt]}function li(r,i,o,a){const u=r[vn];throw i[Ws]&&u.unshift(i[Ws]),r.message=function(r,i,o,a=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let u=Y(i);if(Array.isArray(i))u=i.map(Y).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];d.push(m+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}u=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${r.replace(On,"\n  ")}`}("\n"+r.message,u,o,a),r.ngTokenPath=u,r[vn]=null,r}const Lo=Aa(si("Inject",r=>({token:r})),-1),Vo=Aa(si("Optional"),8),Vn=Aa(si("SkipSelf"),4);let Sl;function qs(r){var i;return(null===(i=function(){if(void 0===Sl&&(Sl=null,nt.trustedTypes))try{Sl=nt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Sl}())||void 0===i?void 0:i.createHTML(r))||r}class Ra{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class N_ extends Ra{getTypeName(){return"HTML"}}class O_ extends Ra{getTypeName(){return"Style"}}class bd extends Ra{getTypeName(){return"Script"}}class x_ extends Ra{getTypeName(){return"URL"}}class k_ extends Ra{getTypeName(){return"ResourceURL"}}function Zs(r){return r instanceof Ra?r.changingThisBreaksApplicationSecurity:r}function Ml(r,i){const o=wd(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function wd(r){return r instanceof Ra&&r.getTypeName()||null}function sg(r){return new N_(r)}function nf(r){return new O_(r)}function rf(r){return new bd(r)}function Ks(r){return new x_(r)}function Zu(r){return new k_(r)}class og{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(qs(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class F_{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=qs(i),o;const a=this.inertDocument.createElement("body");return a.innerHTML=qs(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(i){const o=i.attributes;for(let u=o.length-1;0<u;u--){const m=o.item(u).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let a=i.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ag=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jo(r){return(r=String(r)).match(ag)||r.match(Dd)?r:"unsafe:"+r}function wi(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function Pa(...r){const i={};for(const o of r)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const Nl=wi("area,br,col,hr,img,wbr"),ug=wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ol=wi("rp,rt"),sf=Pa(Nl,Pa(ug,wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pa(Ol,wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pa(Ol,ug)),Ku=wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ui=wi("srcset"),Yu=Pa(Ku,ui,wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),V_=wi("script,style,template");class Qu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!sf.hasOwnProperty(o))return this.sanitizedSomething=!0,!V_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let u=0;u<a.length;u++){const d=a.item(u),m=d.name,y=m.toLowerCase();if(!Yu.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let C=d.value;Ku[y]&&(C=jo(C)),ui[y]&&(r=C,C=(r=String(r)).split(",").map(i=>jo(i.trim())).join(", ")),this.buf.push(" ",m,'="',Ad(C),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();sf.hasOwnProperty(o)&&!Nl.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Ad(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const U_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B_=/([^\#-~ |!])/g;function Ad(r){return r.replace(/&/g,"&amp;").replace(U_,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(B_,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ju;function Xu(r,i){let o=null;try{Ju=Ju||function(r){const i=new F_(r);return function(){try{return!!(new window.DOMParser).parseFromString(qs(""),"text/html")}catch(r){return!1}}()?new og(i):i}(r);let a=i?String(i):"";o=Ju.getInertBodyElement(a);let u=5,d=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=d,d=o.innerHTML,o=Ju.getInertBodyElement(a)}while(a!==d);return qs((new Qu).sanitizeChildren(ec(o)||o))}finally{if(o){const a=ec(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ec(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var En=(()=>((En=En||{})[En.NONE=0]="NONE",En[En.HTML=1]="HTML",En[En.STYLE=2]="STYLE",En[En.SCRIPT=3]="SCRIPT",En[En.URL=4]="URL",En[En.RESOURCE_URL=5]="RESOURCE_URL",En))();function af(r){const i=function(){const r=Ce();return r&&r[12]}();return i?i.sanitize(En.URL,r)||"":Ml(r,"URL")?Zs(r):jo(te(r))}const Ma="__ngContext__";function nr(r,i){r[Ma]=i}function hf(r){const i=function(r){return r[Ma]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Ho(r){return r.ngOriginalError}function _f(r,...i){r.error(...i)}class Wo{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),a=this._findContext(i),u=(r=i)&&r.ngErrorLogger||_f;var r;u(this._console,"ERROR",i),o&&u(this._console,"ORIGINAL ERROR",o),a&&u(this._console,"ERROR CONTEXT",a)}_findContext(i){return i?i.ngDebugContext||this._findContext(Ho(i)):null}_findOriginalError(i){let o=i&&Ho(i);for(;o&&Ho(o);)o=Ho(o);return o||null}}const Eg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nt))();function Ii(r){return r instanceof Function?r():r}var _=(()=>((_=_||{})[_.Important=1]="Important",_[_.DashCase=2]="DashCase",_))();function p(r,i){return undefined(r,i)}function R(r){const i=r[3];return Wn(i)?i[3]:i}function Se(r){return ke(r[13])}function De(r){return ke(r[4])}function ke(r){for(;null!==r&&!Wn(r);)r=r[4];return r}function ct(r,i,o,a,u){if(null!=a){let d,m=!1;Wn(a)?d=a:Yt(a)&&(m=!0,a=a[0]);const y=Bt(a);0===r&&null!==o?null==u?CC(i,o,y):Ul(i,o,y,u||null,!0):1===r&&null!==o?Ul(i,o,y,u||null,!0):2===r?function(r,i,o){const a=Ag(r,i);a&&function(r,i,o,a){Gt(r)?r.removeChild(i,o,a):i.removeChild(o)}(r,a,i,o)}(i,y,m):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,a,u){const d=o[7];d!==Bt(o)&&ct(i,r,a,d,u);for(let y=10;y<o.length;y++){const C=o[y];lc(C[1],C,r,i,a,d)}}(i,r,d,o,u)}}function rc(r,i,o){return Gt(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function sc(r,i){const o=r[9],a=o.indexOf(i),u=i[3];1024&i[2]&&(i[2]&=-1025,ha(u,-1)),o.splice(a,1)}function xd(r,i){if(r.length<=10)return;const o=10+i,a=r[o];if(a){const u=a[17];null!==u&&u!==r&&sc(u,a),i>0&&(r[o-1][4]=a[4]);const d=Gr(r,10+i);!function(r,i){lc(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function kd(r,i){if(!(256&i[2])){const o=i[11];Gt(o)&&o.destroyNode&&lc(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return Go(r[1],r);for(;i;){let o=null;if(Yt(i))o=i[13];else{const a=i[10];a&&(o=a)}if(!o){for(;i&&!i[4]&&i!==r;)Yt(i)&&Go(i[1],i),i=i[3];null===i&&(i=r),Yt(i)&&Go(i[1],i),o=i&&i[4]}i=o}}(i)}}function Go(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let a=0;a<o.length;a+=2){const u=i[o[a]];if(!(u instanceof No)){const d=o[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const y=u[d[m]],C=d[m+1];try{C.call(y)}finally{}}else try{d.call(u)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,a=i[7];let u=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],y="function"==typeof m?m(i):Bt(i[m]),C=a[u=o[d+2]],I=o[d+3];"boolean"==typeof I?y.removeEventListener(o[d],C,I):I>=0?a[u=I]():a[u=-I].unsubscribe(),d+=2}else{const m=a[u=o[d+1]];o[d].call(m)}if(null!==a){for(let d=u+1;d<a.length;d++)a[d]();i[7]=null}}(r,i),1===i[1].type&&Gt(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Wn(i[3])){o!==i[3]&&sc(o,i);const a=i[19];null!==a&&a.detachView(r)}}}function vC(r,i,o){return function(r,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[0];if(2&a.flags){const u=r.data[a.directiveStart].encapsulation;if(u===Re.None||u===Re.Emulated)return null}return Dr(a,o)}(r,i.parent,o)}function Ul(r,i,o,a,u){Gt(r)?r.insertBefore(i,o,a,u):i.insertBefore(o,a,u)}function CC(r,i,o){Gt(r)?r.appendChild(i,o):i.appendChild(o)}function bC(r,i,o,a,u){null!==a?Ul(r,i,o,a,u):CC(r,i,o)}function Ag(r,i){return Gt(r)?r.parentNode(i):i.parentNode}function Rg(r,i,o){return ac(r,i,o)}let ac=function(r,i,o){return 40&r.type?Dr(r,o):null};function Fd(r,i,o,a){const u=vC(r,a,i),d=i[11],y=Rg(a.parent||i[6],a,i);if(null!=u)if(Array.isArray(o))for(let C=0;C<o.length;C++)bC(d,u,o[C],y,!1);else bC(d,u,o,y,!1)}function Pg(r,i){if(null!==i){const o=i.type;if(3&o)return Dr(i,r);if(4&o)return Z_(-1,r[i.index]);if(8&o){const a=i.child;if(null!==a)return Pg(r,a);{const u=r[i.index];return Wn(u)?Z_(-1,u):Bt(u)}}if(32&o)return p(i,r)()||Bt(r[i.index]);{const a=q_(r,i);return null!==a?Array.isArray(a)?a[0]:Pg(R(r[16]),a):Pg(r,i.next)}}return null}function q_(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Z_(r,i){const o=10+r+1;if(o<i.length){const a=i[o],u=a[1].firstChild;if(null!==u)return Pg(a,u)}return i[7]}function Mg(r,i,o,a,u,d,m){for(;null!=o;){const y=a[o.index],C=o.type;if(m&&0===i&&(y&&nr(Bt(y),a),o.flags|=4),64!=(64&o.flags))if(8&C)Mg(r,i,o.child,a,u,d,!1),ct(i,r,u,y,d);else if(32&C){const I=p(o,a);let A;for(;A=I();)ct(i,r,u,A,d);ct(i,r,u,y,d)}else 16&C?Bl(r,i,a,o,u,d):ct(i,r,u,y,d);o=m?o.projectionNext:o.next}}function lc(r,i,o,a,u,d){Mg(o,a,r.firstChild,i,u,d,!1)}function Bl(r,i,o,a,u,d){const m=o[16],C=m[6].projection[a.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)ct(i,r,u,C[I],d);else Mg(r,i,C,m[3],u,d,!0)}function DC(r,i,o){Gt(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function Y_(r,i,o){Gt(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Q_(r,i,o){let a=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const d=i.length;if(u+d===a||r.charCodeAt(u+d)<=32)return u}o=u+1}}const TC="ng-template";function KI(r,i,o){let a=0;for(;a<r.length;){let u=r[a++];if(o&&"class"===u){if(u=r[a],-1!==Q_(u.toLowerCase(),i,0))return!0}else if(1===u){for(;a<r.length&&"string"==typeof(u=r[a++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function J_(r){return 4===r.type&&r.value!==TC}function YI(r,i,o){return i===(4!==r.type||o?r.value:TC)}function QI(r,i,o){let a=4;const u=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(qh(r[i]))return i;return r.length}(u);let m=!1;for(let y=0;y<i.length;y++){const C=i[y];if("number"!=typeof C){if(!m)if(4&a){if(a=2|1&a,""!==C&&!YI(r,C,o)||""===C&&1===i.length){if(Xs(a))return!1;m=!0}}else{const I=8&a?C:i[++y];if(8&a&&null!==r.attrs){if(!KI(r.attrs,I,o)){if(Xs(a))return!1;m=!0}continue}const M=X_(8&a?"class":C,u,J_(r),o);if(-1===M){if(Xs(a))return!1;m=!0;continue}if(""!==I){let N;N=M>d?"":u[M+1].toLowerCase();const $=8&a?N:null;if($&&-1!==Q_($,I,0)||2&a&&I!==N){if(Xs(a))return!1;m=!0}}}}else{if(!m&&!Xs(a)&&!Xs(C))return!1;if(m&&Xs(C))continue;m=!1,a=C|1&a}}return Xs(a)||m}function Xs(r){return 0==(1&r)}function X_(r,i,o,a){if(null===i)return-1;let u=0;if(a||!o){let d=!1;for(;u<i.length;){const m=i[u];if(m===r)return u;if(3===m||6===m)d=!0;else{if(1===m||2===m){let y=i[++u];for(;"string"==typeof y;)y=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const a=r[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,r)}function AC(r,i,o=!1){for(let a=0;a<i.length;a++)if(QI(r,i[a],o))return!0;return!1}function yR(r,i){e:for(let o=0;o<i.length;o++){const a=i[o];if(r.length===a.length){for(let u=0;u<r.length;u++)if(r[u]!==a[u])continue e;return!0}}return!1}function ey(r,i){return r?":not("+i.trim()+")":i}function eD(r){let i=r[0],o=1,a=2,u="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&a){const y=r[++o];u+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!Xs(m)&&(i+=ey(d,u),u=""),a=m,d=d||!Xs(a);o++}return""!==u&&(i+=ey(d,u)),i}const it={};function RC(r){PC(ut(),Ce(),Pn()+r,To())}function PC(r,i,o,a){if(!a)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&as(i,d,o)}else{const d=r.preOrderHooks;null!==d&&Ea(i,d,0,o)}Po(o)}function Ng(r,i){return r<<17|i<<2}function eo(r){return r>>17&32767}function ny(r){return 2|r}function ka(r){return(131068&r)>>2}function Di(r,i){return-131069&r|i<<2}function NC(r){return 1|r}function FC(r,i){const o=r.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const u=o[a],d=o[a+1];if(-1!==d){const m=r.data[d];So(u),m.contentQueries(2,i[d],d)}}}function Hl(r,i,o,a,u,d,m,y,C,I){const A=i.blueprint.slice();return A[0]=u,A[2]=140|a,da(A),A[3]=A[15]=r,A[8]=o,A[10]=m||r&&r[10],A[11]=y||r&&r[11],A[12]=C||r&&r[12]||null,A[9]=I||r&&r[9]||null,A[6]=d,A[16]=2==i.type?r[16]:A,A}function ro(r,i,o,a,u){let d=r.data[i];if(null===d)d=function(r,i,o,a,u){const d=dl(),m=Do(),C=r.data[i]=function(r,i,o,a,u,d){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,i,a,u);return null===r.firstChild&&(r.firstChild=C),null!==d&&(m?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C)),C}(r,i,o,a,u),Ze.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=a,d.attrs=u;const m=function(){const r=Ze.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Xn(d,!0),d}function zo(r,i,o,a){if(0===o)return-1;const u=i.length;for(let d=0;d<o;d++)i.push(a),r.blueprint.push(a),r.data.push(null);return u}function vf(r,i,o){Fs(i);try{const a=r.viewQuery;null!==a&&$g(1,a,o);const u=r.template;null!==u&&Cf(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&FC(r,i),r.staticViewQueries&&$g(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)yD(r,i[o])}(i,d)}catch(a){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),a}finally{i[2]&=-5,Fi()}}function Bd(r,i,o,a){const u=i[2];if(256==(256&u))return;Fs(i);const d=To();try{da(i),function(r){Ze.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Cf(r,i,o,2,a);const m=3==(3&u);if(!d)if(m){const I=r.preOrderCheckHooks;null!==I&&as(i,I,null)}else{const I=r.preOrderHooks;null!==I&&Ea(i,I,0,null),un(i,0)}if(function(r){for(let i=Se(r);null!==i;i=De(i)){if(!i[2])continue;const o=i[9];for(let a=0;a<o.length;a++){const u=o[a],d=u[3];0==(1024&u[2])&&ha(d,1),u[2]|=1024}}}(i),function(r){for(let i=Se(r);null!==i;i=De(i))for(let o=10;o<i.length;o++){const a=i[o],u=a[1];al(a)&&Bd(u,a,u.template,a[8])}}(i),null!==r.contentQueries&&FC(r,i),!d)if(m){const I=r.contentCheckHooks;null!==I&&as(i,I)}else{const I=r.contentHooks;null!==I&&Ea(i,I,1),un(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const u=o[a];if(u<0)Po(~u);else{const d=u,m=o[++a],y=o[++a];ma(m,d),y(2,i[d])}}}finally{Po(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)_D(r,i[o])}(i,y);const C=r.viewQuery;if(null!==C&&$g(2,C,a),!d)if(m){const I=r.viewCheckHooks;null!==I&&as(i,I)}else{const I=r.viewHooks;null!==I&&Ea(i,I,2),un(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,ha(i[3],-1))}finally{Fi()}}function Ef(r,i,o,a){const u=i[10],d=!To(),m=ol(i);try{d&&!m&&u.begin&&u.begin(),m&&vf(r,i,a),Bd(r,i,o,a)}finally{d&&!m&&u.end&&u.end()}}function Cf(r,i,o,a,u){const d=Pn(),m=2&a;try{Po(-1),m&&i.length>20&&PC(r,i,20,To()),o(a,u)}finally{Po(d)}}function cy(r,i,o){if(Gc(i)){const u=i.directiveEnd;for(let d=i.directiveStart;d<u;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}function Vg(r,i,o){!fa()||(function(r,i,o,a){const u=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||ba(o,i),nr(a,i);const m=o.initialInputs;for(let y=u;y<d;y++){const C=r.data[y],I=ei(C);I&&gD(i,o,C);const A=tr(i,r,y,o);nr(A,i),null!==m&&Cy(0,y-u,A,C,0,m),I&&(Gn(o.index,i)[8]=A)}}(r,i,o,Dr(o,i)),128==(128&o.flags)&&function(r,i,o){const a=o.directiveStart,u=o.directiveEnd,m=o.index,y=Ze.lFrame.currentDirectiveIndex;try{Po(m);for(let C=a;C<u;C++){const I=r.data[C],A=i[C];_a(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&GC(I,A)}}finally{Po(-1),_a(y)}}(r,i,o))}function Ug(r,i,o=Dr){const a=i.localNames;if(null!==a){let u=i.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],y=-1===m?o(i,r):r[m];r[u++]=y}}}function dy(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=bf(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function bf(r,i,o,a,u,d,m,y,C,I){const A=20+a,M=A+u,N=function(r,i){const o=[];for(let a=0;a<i;a++)o.push(a<r?null:it);return o}(A,M),$="function"==typeof I?I():I;return N[1]={type:r,blueprint:N,template:o,queries:null,viewQuery:y,declTNode:i,data:N.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:$,incompleteFirstPass:!1}}function fy(r,i,o,a){const u=Ty(i);null===o?u.push(a):(u.push(o),r.firstCreatePass&&Ay(r).push(a,u.length-1))}function jC(r,i,o){for(let a in r)if(r.hasOwnProperty(a)){const u=r[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(i,u):o[a]=[i,u]}return o}function hi(r,i,o,a,u,d,m,y){const C=Dr(i,o);let A,I=i.inputs;!y&&null!=I&&(A=I[a])?(Ry(r,o,A,a,u),na(i)&&function(r,i){const o=Gn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(a=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(a),u=null!=m?m(u,i.value||"",a):u,Gt(d)?d.setProperty(C,a,u):Vi(a)||(C.setProperty?C.setProperty(a,u):C[a]=u))}function yy(r,i,o,a){let u=!1;if(fa()){const d=function(r,i,o){const a=r.directiveRegistry;let u=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];AC(o,m.selectors,!1)&&(u||(u=[]),Hr(ba(o,i),r,m.type),ei(m)?(zC(r,o),u.unshift(m)):u.push(m))}return u}(r,i,o),m=null===a?null:{"":-1};if(null!==d){u=!0,Ey(o,r.data.length,d.length);for(let A=0;A<d.length;A++){const M=d[A];M.providersResolver&&M.providersResolver(M)}let y=!1,C=!1,I=zo(r,i,d.length,null);for(let A=0;A<d.length;A++){const M=d[A];o.mergedAttrs=gl(o.mergedAttrs,M.hostAttrs),ZC(r,o,i,I,M),qC(I,M,m),null!==M.contentQueries&&(o.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=128);const N=M.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!C&&(N.ngOnChanges||N.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),C=!0),I++}!function(r,i){const a=i.directiveEnd,u=r.data,d=i.attrs,m=[];let y=null,C=null;for(let I=i.directiveStart;I<a;I++){const A=u[I],M=A.inputs,N=null===d||J_(i)?null:mD(M,d);m.push(N),y=jC(M,I,y),C=jC(A.outputs,I,C)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=C}(r,o)}m&&function(r,i,o){if(i){const a=r.localNames=[];for(let u=0;u<i.length;u+=2){const d=o[i[u+1]];if(null==d)throw new ye("301",`Export of name '${i[u+1]}' not found!`);a.push(i[u],d)}}}(o,a,m)}return o.mergedAttrs=gl(o.mergedAttrs,o.attrs),u}function vy(r,i,o,a,u,d){const m=d.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const C=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=C&&y.push(C),y.push(a,u,m)}}function GC(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function zC(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function qC(r,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=r;ei(i)&&(o[""]=r)}}function Ey(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function ZC(r,i,o,a,u){r.data[a]=u;const d=u.factory||(u.factory=yi(u.type)),m=new No(d,ei(u),null);r.blueprint[a]=m,o[a]=m,vy(r,i,0,a,zo(r,o,u.hostVars,it),u)}function gD(r,i,o){const a=Dr(i,r),u=dy(o),d=r[10],m=$d(r,Hl(r,u,null,o.onPush?64:16,a,i,d,d.createRenderer(a,o),null,null));r[i.index]=m}function qo(r,i,o,a,u,d){const m=Dr(r,i);!function(r,i,o,a,u,d,m){if(null==d)Gt(r)?r.removeAttribute(i,u,o):i.removeAttribute(u);else{const y=null==m?te(d):m(d,a||"",u);Gt(r)?r.setAttribute(i,u,y,o):o?i.setAttributeNS(o,u,y):i.setAttribute(u,y)}}(i[11],m,d,r.value,o,a,u)}function Cy(r,i,o,a,u,d){const m=d[i];if(null!==m){const y=a.setInput;for(let C=0;C<m.length;){const I=m[C++],A=m[C++],M=m[C++];null!==y?a.setInput(o,M,I,A):o[A]=M}}}function mD(r,i){let o=null,a=0;for(;a<i.length;){const u=i[a];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[a+1])),a+=2}else a+=2;else a+=4}return o}function jd(r,i,o,a){return new Array(r,!0,!1,i,null,0,a,o,null,null)}function _D(r,i){const o=Gn(i,r);if(al(o)){const a=o[1];80&o[2]?Bd(a,o,a.template,o[8]):o[5]>0&&wy(o)}}function wy(r){for(let a=Se(r);null!==a;a=De(a))for(let u=10;u<a.length;u++){const d=a[u];if(1024&d[2]){const m=d[1];Bd(m,d,m.template,d[8])}else d[5]>0&&wy(d)}const o=r[1].components;if(null!==o)for(let a=0;a<o.length;a++){const u=Gn(o[a],r);al(u)&&u[5]>0&&wy(u)}}function yD(r,i){const o=Gn(i,r),a=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(a,o),vf(a,o,o[8])}function $d(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Bg(r){for(;r;){r[2]|=64;const i=R(r);if(ti(r)&&!i)return r;r=i}return null}function Iy(r,i,o){const a=i[10];a.begin&&a.begin();try{Bd(r,i,r.template,o)}catch(u){throw Sy(i,u),u}finally{a.end&&a.end()}}function Dy(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],a=hf(o),u=a[1];Ef(u,a,u.template,o)}}(r[8])}function $g(r,i,o){So(0),i(r,o)}const QC=(()=>Promise.resolve(null))();function Ty(r){return r[7]||(r[7]=[])}function Ay(r){return r.cleanup||(r.cleanup=[])}function Sy(r,i){const o=r[9],a=o?o.get(Wo,null):null;a&&a.handleError(i)}function Ry(r,i,o,a,u){for(let d=0;d<o.length;){const m=o[d++],y=o[d++],C=i[m],I=r.data[m];null!==I.setInput?I.setInput(C,u,a,y):C[y]=u}}function At(r,i,o){const a=ks(i,r);!function(r,i,o){Gt(r)?r.setValue(i,o):i.textContent=o}(r[11],a,o)}function Vt(r,i,o){let a=o?r.styles:null,u=o?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?d=y:1==d?u=J(u,y):2==d&&(a=J(a,y+": "+i[++m]+";"))}o?r.styles=a:r.stylesWithoutHost=a,o?r.classes=u:r.classesWithoutHost=u}const zl=new Qt("INJECTOR",-1);class JC{get(i,o=Ct){if(o===Ct){const a=new Error(`NullInjectorError: No provider for ${Y(i)}!`);throw a.name="NullInjectorError",a}return o}}const Ba=new Qt("Set Injector scope."),Hd={},Cn={};let Et;function qr(){return void 0===Et&&(Et=new JC),Et}function Hg(r,i=null,o=null,a){return new ms(r,o,i||qr(),a)}class ms{constructor(i,o,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&bi(o,y=>this.processProvider(y,i,o)),bi([i],y=>this.processInjectorType(y,[],d)),this.records.set(zl,_s(void 0,this));const m=this.records.get(Ba);this.scope=null!=m?m.value:null,this.source=u||("object"==typeof i?null:Y(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Ct,a=Fe.Default){this.assertNotDestroyed();const u=Qe(this),d=ur(void 0);try{if(!(a&Fe.SkipSelf)){let y=this.records.get(i);if(void 0===y){const C=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Qt)&&Sn(i);y=C&&this.injectableDefInScope(C)?_s(Py(i),Hd):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(a&Fe.Self?qr():this.parent).get(i,o=a&Fe.Optional&&o===Ct?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[vn]=m[vn]||[]).unshift(Y(i)),u)throw m;return li(m,i,"R3InjectorError",this.source)}throw m}finally{ur(d),Qe(u)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((a,u)=>i.push(Y(u))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,a){if(!(i=H(i)))return!1;let u=Qr(i);const d=null==u&&i.ngModule||void 0,m=void 0===d?i:d,y=-1!==a.indexOf(m);if(void 0!==d&&(u=Qr(d)),null==u)return!1;if(null!=u.imports&&!y){let A;a.push(m);try{bi(u.imports,M=>{this.processInjectorType(M,o,a)&&(void 0===A&&(A=[]),A.push(M))})}finally{}if(void 0!==A)for(let M=0;M<A.length;M++){const{ngModule:N,providers:$}=A[M];bi($,q=>this.processProvider(q,N,$||j))}}this.injectorDefTypes.add(m);const C=yi(m)||(()=>new m);this.records.set(m,_s(C,Hd));const I=u.providers;if(null!=I&&!y){const A=i;bi(I,M=>this.processProvider(M,A,I))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,a){let u=Wd(i=H(i))?i:H(i&&i.provide);const d=Wg(r=i)?_s(void 0,r.useValue):_s(My(r),Hd);var r;if(Wd(i)||!0!==i.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=_s(void 0,Hd,!0),m.factory=()=>Ta(m.multi),this.records.set(u,m)),u=i,m.multi.push(i)}this.records.set(u,d)}hydrate(i,o){return o.value===Hd&&(o.value=Cn,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=H(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Py(r){const i=Sn(r),o=null!==i?i.factory:yi(r);if(null!==o)return o;if(r instanceof Qt)throw new Error(`Token ${Y(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const a=ji(i,"?");throw new Error(`Can't resolve all parameters for ${Y(r)}: (${a.join(", ")}).`)}const o=function(r){const i=r&&(r[_i]||r[kn]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function My(r,i,o){let a;if(Wd(r)){const u=H(r);return yi(u)||Py(u)}if(Wg(r))a=()=>H(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))a=()=>r.useFactory(...Ta(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))a=()=>Xt(H(r.useExisting));else{const u=H(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return yi(u)||Py(u);a=()=>new u(...Ta(r.deps))}return a}function _s(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Wg(r){return null!==r&&"object"==typeof r&&oi in r}function Wd(r){return"function"==typeof r}const It=function(r,i,o){return function(r,i=null,o=null,a){const u=Hg(r,i,o,a);return u._resolveInjectorDefTypes(),u}({name:o},i,r,o)};let en=(()=>{class r{static create(o,a){return Array.isArray(o)?It(o,a,""):It(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=Ct,r.NULL=new JC,r.\u0275prov=Kt({token:r,providedIn:"any",factory:()=>Xt(zl)}),r.__NG_ELEMENT_ID__=-1,r})();function cb(r,i){pl(hf(r)[1],qt())}function hc(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const a=[r];for(;i;){let u;if(ei(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");u=i.\u0275dir}if(u){if(o){a.push(u);const m=r;m.inputs=Rf(r.inputs),m.declaredInputs=Rf(r.declaredInputs),m.outputs=Rf(r.outputs);const y=u.hostBindings;y&&Jg(r,y);const C=u.viewQuery,I=u.contentQueries;if(C&&Pf(r,C),I&&FD(r,I),pe(r.inputs,u.inputs),pe(r.declaredInputs,u.declaredInputs),pe(r.outputs,u.outputs),ei(u)&&u.data.animation){const A=r.data;A.animation=(A.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let m=0;m<d.length;m++){const y=d[m];y&&y.ngInherit&&y(r),y===hc&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let a=r.length-1;a>=0;a--){const u=r[a];u.hostVars=i+=u.hostVars,u.hostAttrs=gl(u.hostAttrs,o=gl(o,u.hostAttrs))}}(a)}function Rf(r){return r===G?{}:r===j?[]:r}function Pf(r,i){const o=r.viewQuery;r.viewQuery=o?(a,u)=>{i(a,u),o(a,u)}:i}function FD(r,i){const o=r.contentQueries;r.contentQueries=o?(a,u,d)=>{i(a,u,d),o(a,u,d)}:i}function Jg(r,i){const o=r.hostBindings;r.hostBindings=o?(a,u)=>{i(a,u),o(a,u)}:i}let Zd=null;function Kd(){if(!Zd){const r=nt.Symbol;if(r&&r.iterator)Zd=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const a=i[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Zd=a)}}}return Zd}class io{constructor(i){this.wrapped=i}static wrap(i){return new io(i)}static unwrap(i){return io.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof io}}function ql(r){return!!Yd(r)&&(Array.isArray(r)||!(r instanceof Map)&&Kd()in r)}function Yd(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Yo(r,i,o){return r[i]=o}function Un(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function ja(r,i,o,a){const u=Un(r,i,o);return Un(r,i+1,a)||u}function Ly(r,i,o,a){const u=Ce();return Un(u,$r(),i)&&(ut(),qo(sn(),u,r,i,o,a)),Ly}function Jd(r,i,o,a){return Un(r,$r(),o)?i+te(o)+a:it}function rh(r,i,o,a,u,d,m,y){const C=Ce(),I=ut(),A=r+20,M=I.firstCreatePass?function(r,i,o,a,u,d,m,y,C){const I=i.consts,A=ro(i,r,4,m||null,pn(I,y));yy(i,o,A,pn(I,C)),pl(i,A);const M=A.tViews=bf(2,A,a,u,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,A),M.queries=i.queries.embeddedTView(A)),A}(A,I,C,i,o,a,u,d,m):I.data[A];Xn(M,!1);const N=C[11].createComment("");Fd(I,C,N,M),nr(N,C),$d(C,C[A]=jd(N,C,N,M)),tl(M)&&Vg(I,C,M),null!=m&&Ug(C,M,y)}function Mf(r){return ss(Ze.lFrame.contextLView,20+r)}function kf(r,i=Fe.Default){const o=Ce();return null===o?Xt(r,i):_l(qt(),o,H(r),i)}function Ff(r,i,o){const a=Ce();return Un(a,$r(),i)&&hi(ut(),sn(),a,r,i,a[11],o,!1),Ff}function zy(r,i,o,a,u){const m=u?"class":"style";Ry(r,o,i.inputs[m],m,a)}function qy(r,i,o,a){const u=Ce(),d=ut(),m=20+r,y=u[11],C=u[m]=rc(y,i,Ze.lFrame.currentNamespace),I=d.firstCreatePass?function(r,i,o,a,u,d,m){const y=i.consts,I=ro(i,r,2,u,pn(y,d));return yy(i,o,I,pn(y,m)),null!==I.attrs&&Vt(I,I.attrs,!1),null!==I.mergedAttrs&&Vt(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(m,d,u,0,i,o,a):d.data[m];Xn(I,!0);const A=I.mergedAttrs;null!==A&&ud(y,C,A);const M=I.classes;null!==M&&Y_(y,C,M);const N=I.styles;null!==N&&DC(y,C,N),64!=(64&I.flags)&&Fd(d,u,C,I),0===Ze.lFrame.elementDepthCount&&nr(C,u),Ze.lFrame.elementDepthCount++,tl(I)&&(Vg(d,u,I),cy(d,I,u)),null!==a&&Ug(u,I)}function Zy(){let r=qt();Do()?pa():(r=r.parent,Xn(r,!1));const i=r;Ze.lFrame.elementDepthCount--;const o=ut();o.firstCreatePass&&(pl(o,r),Gc(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&zy(o,i,Ce(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&zy(o,i,Ce(),i.stylesWithoutHost,!1)}function Sb(r,i,o,a){qy(r,i,o,a),Zy()}function Yy(r,i,o){(function(r,i,o){const a=Ce(),u=ut(),d=r+20,m=u.firstCreatePass?function(r,i,o,a,u){const d=i.consts,m=pn(d,a),y=ro(i,r,8,"ng-container",m);return null!==m&&Vt(y,m,!0),yy(i,o,y,pn(d,u)),null!==i.queries&&i.queries.elementStart(i,y),y}(d,u,a,i,o):u.data[d];Xn(m,!0);const y=a[d]=a[11].createComment("");Fd(u,a,y,m),nr(y,a),tl(m)&&(Vg(u,a,m),cy(u,m,a)),null!=o&&Ug(a,m)})(r,i,o),function(){let r=qt();const i=ut();Do()?pa():(r=r.parent,Xn(r,!1)),i.firstCreatePass&&(pl(i,r),Gc(r)&&i.queries.elementEnd(r))}()}function Qy(){return Ce()}function Jy(r){return!!r&&"function"==typeof r.then}function Xy(r){return!!r&&"function"==typeof r.subscribe}const ah=Xy;function sm(r,i,o,a){const u=Ce(),d=ut(),m=qt();return function(r,i,o,a,u,d,m,y){const C=tl(a),A=r.firstCreatePass&&Ay(r),M=i[8],N=Ty(i);let $=!0;if(3&a.type||y){const X=Dr(a,i),Te=y?y(X):X,_e=N.length,He=y?Je=>y(Bt(Je[a.index])):a.index;if(Gt(o)){let Je=null;if(!y&&C&&(Je=function(r,i,o,a){const u=r.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const m=u[d];if(m===o&&u[d+1]===a){const y=i[7],C=u[d+2];return y.length>C?y[C]:null}"string"==typeof m&&(d+=2)}return null}(r,i,u,a.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=d,Je.__ngLastListenerFn__=d,$=!1;else{d=am(a,i,M,d,!1);const Nt=o.listen(Te,u,d);N.push(d,Nt),A&&A.push(u,He,_e,_e+1)}}else d=am(a,i,M,d,!0),Te.addEventListener(u,d,m),N.push(d),A&&A.push(u,He,_e,m)}else d=am(a,i,M,d,!1);const q=a.outputs;let le;if($&&null!==q&&(le=q[u])){const X=le.length;if(X)for(let Te=0;Te<X;Te+=2){const lr=i[le[Te]][le[Te+1]].subscribe(d),Yi=N.length;N.push(d,lr),A&&A.push(u,a.index,Yi,-(Yi+1))}}}(d,u,u[11],m,r,i,!!o,a),sm}function om(r,i,o,a){try{return!1!==o(a)}catch(u){return Sy(r,u),!1}}function am(r,i,o,a,u){return function d(m){if(m===Function)return a;const y=2&r.flags?Gn(r.index,i):i;0==(32&i[2])&&Bg(y);let C=om(i,0,a,m),I=d.__ngNextListenerFn__;for(;I;)C=om(i,0,I,m)&&C,I=I.__ngNextListenerFn__;return u&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function Nb(r=1){return function(r){return(Ze.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,Ze.lFrame.contextLView))[8]}(r)}function iT(r,i){let o=null;const a=function(r){const i=r.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(r);for(let u=0;u<i.length;u++){const d=i[u];if("*"!==d){if(null===a?AC(r,d,!0):yR(a,d))return u}else o=u}return o}function ev(r){const i=Ce()[16][6];if(!i.projection){const a=i.projection=ji(r?r.length:1,null),u=a.slice();let d=i.child;for(;null!==d;){const m=r?iT(d,r):0;null!==m&&(u[m]?u[m].projectionNext=d:a[m]=d,u[m]=d),d=d.next}}}function Ga(r,i=0,o){const a=Ce(),u=ut(),d=ro(u,20+r,16,null,o||null);null===d.projection&&(d.projection=i),pa(),64!=(64&d.flags)&&function(r,i,o){Bl(i[11],0,i,o,vC(r,o,i),Rg(o.parent||i[6],o,i))}(u,a,d)}function Lf(r,i,o,a,u){const d=Ce(),m=Jd(d,i,o,a);return m!==it&&hi(ut(),sn(),d,r,m,d[11],u,!1),Lf}function Fb(r,i,o,a,u){const d=r[o+1],m=null===i;let y=a?eo(d):ka(d),C=!1;for(;0!==y&&(!1===C||m);){const A=r[y+1];sT(r[y],i)&&(C=!0,r[y+1]=a?NC(A):ny(A)),y=a?eo(A):ka(A)}C&&(r[o+1]=a?ny(d):NC(d))}function sT(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Fo(r,i)>=0}function $f(r,i,o){return Hi(r,i,o,!1),$f}function iv(r,i){return Hi(r,i,null,!0),iv}function Hi(r,i,o,a){const u=Ce(),d=ut(),m=er(2);d.firstUpdatePass&&function(r,i,o,a){const u=r.data;if(null===u[o+1]){const d=u[Pn()],m=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,a)&&null===i&&!m&&(i=!1),i=function(r,i,o,a){const u=function(r){const i=Ze.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(o=yc(o=Hf(null,r,i,o,a),i.attrs,a),d=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==u)if(o=Hf(u,r,i,o,a),null===d){let C=function(r,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==ka(a))return r[eo(a)]}(r,i,a);void 0!==C&&Array.isArray(C)&&(C=Hf(null,r,i,C[1],a),C=yc(C,i.attrs,a),function(r,i,o,a){r[eo(o?i.classBindings:i.styleBindings)]=a}(r,i,a,C))}else d=function(r,i,o){let a;const u=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<u;d++)a=yc(a,r[d].hostAttrs,o);return yc(a,i.attrs,o)}(r,i,a)}return void 0!==d&&(a?i.residualClasses=d:i.residualStyles=d),o}(u,d,i,a),function(r,i,o,a,u,d){let m=d?i.classBindings:i.styleBindings,y=eo(m),C=ka(m);r[a]=o;let A,I=!1;if(Array.isArray(o)){const M=o;A=M[1],(null===A||Fo(M,A)>0)&&(I=!0)}else A=o;if(u)if(0!==C){const N=eo(r[y+1]);r[a+1]=Ng(N,y),0!==N&&(r[N+1]=Di(r[N+1],a)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],a)}else r[a+1]=Ng(y,0),0!==y&&(r[y+1]=Di(r[y+1],a)),y=a;else r[a+1]=Ng(C,0),0===y?y=a:r[C+1]=Di(r[C+1],a),C=a;I&&(r[a+1]=ny(r[a+1])),Fb(r,A,a,!0),Fb(r,A,a,!1),function(r,i,o,a,u){const d=u?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&Fo(d,i)>=0&&(o[a+1]=NC(o[a+1]))}(i,A,r,a,d),m=Ng(y,C),d?i.classBindings=m:i.styleBindings=m}(u,d,i,o,m,a)}}(d,r,m,a),i!==it&&Un(u,m,i)&&function(r,i,o,a,u,d,m,y){if(!(3&i.type))return;const C=r.data,I=C[y+1];vc(function(r){return 1==(1&r)}(I)?Hb(C,i,o,u,ka(I),m):void 0)||(vc(d)||function(r){return 2==(2&r)}(I)&&(d=Hb(C,null,o,u,y,m)),function(r,i,o,a,u){const d=Gt(r);if(i)u?d?r.addClass(o,a):o.classList.add(a):d?r.removeClass(o,a):o.classList.remove(a);else{let m=-1===a.indexOf("-")?void 0:_.DashCase;if(null==u)d?r.removeStyle(o,a,m):o.style.removeProperty(a);else{const y="string"==typeof u&&u.endsWith("!important");y&&(u=u.slice(0,-10),m|=_.Important),d?r.setStyle(o,a,u,m):o.style.setProperty(a,u,y?"important":"")}}}(a,m,ks(Pn(),o),u,d))}(d,d.data[Pn()],u,u[11],r,u[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Y(Zs(r)))),r}(i,o),a,m)}function Hf(r,i,o,a,u){let d=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(d=i[y],a=yc(a,d.hostAttrs,u),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),a}function yc(r,i,o){const a=o?1:2;let u=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?u=m:u===a&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Mn(r,m,!!o||i[++d]))}return void 0===r?null:r}function Hb(r,i,o,a,u,d){const m=null===i;let y;for(;u>0;){const C=r[u],I=Array.isArray(C),A=I?C[1]:C,M=null===A;let N=o[u+1];N===it&&(N=M?j:void 0);let $=M?Nn(N,a):A===a?N:void 0;if(I&&!vc($)&&($=Nn(C,a)),vc($)&&(y=$,m))return y;const q=r[u+1];u=m?eo(q):ka(q)}if(null!==i){let C=d?i.residualClasses:i.residualStyles;null!=C&&(y=Nn(C,a))}return y}function vc(r){return void 0!==r}function lh(r,i=""){const o=Ce(),a=ut(),u=r+20,d=a.firstCreatePass?ro(a,u,1,i,null):a.data[u],m=o[u]=function(r,i){return Gt(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Fd(a,o,m,d),Xn(d,!1)}function Wf(r){return pm("",r,""),Wf}function pm(r,i,o){const a=Ce(),u=Jd(a,r,i,o);return u!==it&&At(a,Pn(),u),pm}function uv(r,i,o,a,u){const d=Ce(),m=function(r,i,o,a,u,d){const y=ja(r,jr(),o,u);return er(2),y?i+te(o)+a+te(u)+d:it}(d,r,i,o,a,u);return m!==it&&At(d,Pn(),m),uv}function Yf(r,i,o){const a=Ce();return Un(a,$r(),i)&&hi(ut(),sn(),a,r,i,a[11],o,!0),Yf}const Ec=void 0;var nw=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let dh={};function mv(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=iw(i);if(o)return o;const a=i.split("-")[0];if(o=iw(a),o)return o;if("en"===a)return nw;throw new Error(`Missing locale data for the locale "${r}".`)}function _v(r){return mv(r)[Ge.PluralCase]}function iw(r){return r in dh||(dh[r]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[r]),dh[r]}var Ge=(()=>((Ge=Ge||{})[Ge.LocaleId=0]="LocaleId",Ge[Ge.DayPeriodsFormat=1]="DayPeriodsFormat",Ge[Ge.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ge[Ge.DaysFormat=3]="DaysFormat",Ge[Ge.DaysStandalone=4]="DaysStandalone",Ge[Ge.MonthsFormat=5]="MonthsFormat",Ge[Ge.MonthsStandalone=6]="MonthsStandalone",Ge[Ge.Eras=7]="Eras",Ge[Ge.FirstDayOfWeek=8]="FirstDayOfWeek",Ge[Ge.WeekendRange=9]="WeekendRange",Ge[Ge.DateFormat=10]="DateFormat",Ge[Ge.TimeFormat=11]="TimeFormat",Ge[Ge.DateTimeFormat=12]="DateTimeFormat",Ge[Ge.NumberSymbols=13]="NumberSymbols",Ge[Ge.NumberFormats=14]="NumberFormats",Ge[Ge.CurrencyCode=15]="CurrencyCode",Ge[Ge.CurrencySymbol=16]="CurrencySymbol",Ge[Ge.CurrencyName=17]="CurrencyName",Ge[Ge.Currencies=18]="Currencies",Ge[Ge.Directionality=19]="Directionality",Ge[Ge.PluralCase=20]="PluralCase",Ge[Ge.ExtraData=21]="ExtraData",Ge))();const vm="en-US";let Xf=vm;function ep(r){Ot(r,"Expected localeId to be defined"),"string"==typeof r&&(Xf=r.toLowerCase().replace(/_/g,"-"))}function Tv(r,i,o,a,u){if(r=H(r),Array.isArray(r))for(let d=0;d<r.length;d++)Tv(r[d],i,o,a,u);else{const d=ut(),m=Ce();let y=Wd(r)?r:H(r.provide),C=My(r);const I=qt(),A=1048575&I.providerIndexes,M=I.directiveStart,N=I.providerIndexes>>20;if(Wd(r)||!r.multi){const $=new No(C,u,kf),q=Dm(y,i,u?A:A+N,M);-1===q?(Hr(ba(I,m),d,y),Av(d,r,i.length),i.push(y),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),o.push($),m.push($)):(o[q]=$,m[q]=$)}else{const $=Dm(y,i,A+N,M),q=Dm(y,i,A,A+N),le=$>=0&&o[$],X=q>=0&&o[q];if(u&&!X||!u&&!le){Hr(ba(I,m),d,y);const Te=function(r,i,o,a,u){const d=new No(r,o,kf);return d.multi=[],d.index=i,d.componentProviders=0,Pw(d,u,a&&!o),d}(u?YT:KT,o.length,u,a,C);!u&&X&&(o[q].providerFactory=Te),Av(d,r,i.length,0),i.push(y),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),o.push(Te),m.push(Te)}else Av(d,r,$>-1?$:q,Pw(o[u?q:$],C,!u&&a));!u&&a&&X&&o[q].componentProviders++}}}function Av(r,i,o,a){const u=Wd(i);if(u||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const C=y.indexOf(o);-1===C?y.push(o,[a,m]):y[C+1].push(a,m)}else y.push(o,m)}}}function Pw(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Dm(r,i,o,a){for(let u=o;u<a;u++)if(i[u]===r)return u;return-1}function KT(r,i,o,a){return Sv(this.multi,[])}function YT(r,i,o,a){const u=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=tr(o,o[1],this.providerFactory.index,a);d=y.slice(0,m),Sv(u,d);for(let C=m;C<y.length;C++)d.push(y[C])}else d=[],Sv(u,d);return d}function Sv(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function qa(r,i=[]){return o=>{o.providersResolver=(a,u)=>function(r,i,o){const a=ut();if(a.firstCreatePass){const u=ei(r);Tv(o,a.data,a.blueprint,u,!0),Tv(i,a.data,a.blueprint,u,!1)}}(a,u?u(r):r,i)}}class Pi{}const Mw="ngComponent";class JT{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Y(r)}. Did you add it to @NgModule.entryComponents?`);return i[Mw]=r,i}(i)}}let mh=(()=>{class r{}return r.NULL=new JT,r})();function Am(...r){}function _h(r,i){return new ws(Dr(r,i))}const Ow=function(){return _h(qt(),Ce())};let ws=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Ow,r})();function Pv(r){return r instanceof ws?r.nativeElement:r}class Sm{}let $R=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>HR(),r})();const HR=function(){const r=Ce(),o=Gn(qt().index,r);return function(r){return r[11]}(Yt(o)?o:r)};let Nv=(()=>{class r{}return r.\u0275prov=Kt({token:r,providedIn:"root",factory:()=>null}),r})();class nA{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const kw=new nA("12.2.13");class rA{constructor(){}supports(i){return ql(i)}create(i){return new zR(i)}}const GR=(r,i)=>i;class zR{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||GR}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,u=0,d=null;for(;o||a;){const m=!a||o&&o.currentIndex<Fw(a,u,d)?o:a,y=Fw(m,u,d),C=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{d||(d=[]);const I=y-u,A=C-u;if(I!=A){for(let N=0;N<I;N++){const $=N<d.length?d[N]:d[N]=0,q=$+N;A<=q&&q<I&&(d[N]=$+1)}d[m.previousIndex]=A-I}}y!==C&&i(m,y,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ql(i))throw new Error(`Error trying to diff '${Y(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,d,m,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],m=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,d,m,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,y),a=!0),o=o._next}else u=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Kd()]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,y=>{m=this._trackByFn(u,y),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,y,m,u)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,u){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,u)):i=this._addAfter(new qR(o,a),d,u),i}_verifyReinsertion(i,o,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?i=this._reinsertAfter(d,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,d=i._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ov),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ov),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class qR{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZR{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Ov{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new ZR,this.map.set(o,a)),a.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fw(r,i,o){const a=r.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+i+u}class Lw{constructor(){}supports(i){return i instanceof Map||Yd(i)}create(){return new vr}}class vr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Yd(i)))throw new Error(`Error trying to diff '${Y(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const d=u._prev,m=u._next;return d&&(d._next=m),m&&(m._prev=d),u._next=null,u._prev=null,u}const a=new lo(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class lo{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sp(){return new yh([new rA])}let yh=(()=>{class r{constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:a=>r.create(o,a||sp()),deps:[[r,new Vn,new Vo]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=Kt({token:r,providedIn:"root",factory:sp}),r})();function Vw(){return new Rm([new Lw])}let Rm=(()=>{class r{constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:a=>r.create(o,a||Vw()),deps:[[r,new Vn,new Vo]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=Kt({token:r,providedIn:"root",factory:Vw}),r})();function op(r,i,o,a,u=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&a.push(Bt(d)),Wn(d))for(let y=10;y<d.length;y++){const C=d[y],I=C[1].firstChild;null!==I&&op(C[1],C,I,a)}const m=o.type;if(8&m)op(r,i,o.child,a);else if(32&m){const y=p(o,i);let C;for(;C=y();)a.push(C)}else if(16&m){const y=q_(i,o);if(Array.isArray(y))a.push(...y);else{const C=R(i[16]);op(C[1],C,y,a,!0)}}o=u?o.projectionNext:o.next}return a}class ap{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return op(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Wn(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(xd(i,a),Gr(o,a))}this._attachedToViewContainer=!1}kd(this._lView[1],this._lView)}onDestroy(i){fy(this._lView[1],this._lView,null,i)}markForCheck(){Bg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Iy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Ao(!0);try{Iy(r,i,o)}finally{Ao(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,lc(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class sA extends ap{constructor(i){super(i),this._view=i}detectChanges(){Dy(this._view)}checkNoChanges(){!function(r){Ao(!0);try{Dy(r)}finally{Ao(!1)}}(this._view)}get context(){return null}}const fi=function(r){return function(r,i,o){if(na(r)&&!o){const a=Gn(r.index,i);return new ap(a,a)}return 47&r.type?new ap(i[16],i):null}(qt(),Ce(),16==(16&r))};let Pm=(()=>{class r{}return r.__NG_ELEMENT_ID__=fi,r})();const xv=[new Lw],kv=new yh([new rA]),Fv=new Rm(xv),uA=function(){return bc(qt(),Ce())};let lp=(()=>{class r{}return r.__NG_ELEMENT_ID__=uA,r})();const cA=lp,up=class extends cA{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(i){const o=this._declarationTContainer.tViews,a=Hl(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(o)),vf(o,a,i),new ap(a)}};function bc(r,i){return 4&r.type?new up(i,r,_h(r,i)):null}class iu{}class jw{}const hA=function(){return Hw(qt(),Ce())};let cp=(()=>{class r{}return r.__NG_ELEMENT_ID__=hA,r})();const $w=cp,Nm=class extends $w{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return _h(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const i=Be(this._hostTNode,this._hostLView);if(xu(i)){const o=Tr(i,this._hostLView),a=us(i);return new ds(o[1].data[a+8],o)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Vv(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,a){const u=i.createEmbeddedView(o||{});return this.insert(u,a),u}createComponent(i,o,a,u,d){const m=a||this.parentInjector;if(!d&&null==i.ngModule&&m){const C=m.get(iu,null);C&&(d=C)}const y=i.create(m,u,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const a=i._lView,u=a[1];if(Wn(a[3])){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const M=a[3],N=new Nm(M,M[6],M[3]);N.detach(N.indexOf(i))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,a){const u=10+a,d=o.length;a>0&&(o[u-1][4]=i),a<d-10?(i[4]=o[u],Da(o,10+a,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(u,a,m,d);const y=Z_(d,m),C=a[11],I=Ag(C,m[7]);return null!==I&&function(r,i,o,a,u,d){a[0]=u,a[6]=i,lc(r,a,o,1,u,d)}(u,m[6],C,a,I,y),i.attachToViewContainerRef(),Da(wc(m),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Vv(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=xd(this._lContainer,o);a&&(Gr(wc(this._lContainer),o),kd(a[1],a))}detach(i){const o=this._adjustIndex(i,-1),a=xd(this._lContainer,o);return a&&null!=Gr(wc(this._lContainer),o)?new ap(a):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Vv(r){return r[8]}function wc(r){return r[8]||(r[8]=[])}function Hw(r,i){let o;const a=i[r.index];if(Wn(a))o=a;else{let u;if(8&r.type)u=Bt(a);else{const d=i[11];u=d.createComment("");const m=Dr(r,i);Ul(d,Ag(d,m),u,function(r,i){return Gt(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=o=jd(a,i,u,r),$d(i,o)}return new Nm(o,r,i)}const Th={};class LA extends mh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Rn(i);return new Kv(o,this.ngModule)}}function Zv(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const v0=new Qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Eg});class Kv extends Pi{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(eD).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Zv(this.componentDef.inputs)}get outputs(){return Zv(this.componentDef.outputs)}create(i,o,a,u){const d=(u=u||this.ngModule)?function(r,i){return{get:(o,a,u)=>{const d=r.get(o,Th,u);return d!==Th||a===Th?d:i.get(o,a,u)}}}(i,u.injector):i,m=d.get(Sm,Ei),y=d.get(Nv,null),C=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=a?function(r,i,o){if(Gt(r))return r.selectRootElement(i,o===Re.ShadowDom);let a="string"==typeof i?r.querySelector(i):i;return a.textContent="",a}(C,a,this.componentDef.encapsulation):rc(m.createRenderer(null,this.componentDef),I,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),M=this.componentDef.onPush?576:528,N=function(r,i){return{components:[],scheduler:r||Eg,clean:QC,playerHandler:i||null,flags:0}}(),$=bf(0,null,null,1,0,null,null,null,null,null),q=Hl(null,$,N,M,null,null,m,C,y,d);let le,X;Fs(q);try{const Te=function(r,i,o,a,u,d){const m=o[1];o[20]=r;const C=ro(m,20,2,"#host",null),I=C.mergedAttrs=i.hostAttrs;null!==I&&(Vt(C,I,!0),null!==r&&(ud(u,r,I),null!==C.classes&&Y_(u,r,C.classes),null!==C.styles&&DC(u,r,C.styles)));const A=a.createRenderer(r,i),M=Hl(o,dy(i),null,i.onPush?64:16,o[20],C,a,A,d||null,null);return m.firstCreatePass&&(Hr(ba(C,o),m,i.type),zC(m,C),Ey(C,o.length,1)),$d(o,M),o[20]=M}(A,this.componentDef,q,m,C);if(A)if(a)ud(C,A,["ng-version",kw.full]);else{const{attrs:_e,classes:He}=function(r){const i=[],o=[];let a=1,u=2;for(;a<r.length;){let d=r[a];if("string"==typeof d)2===u?""!==d&&i.push(d,r[++a]):8===u&&o.push(d);else{if(!Xs(u))break;u=d}a++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);_e&&ud(C,A,_e),He&&He.length>0&&Y_(C,A,He.join(" "))}if(X=is($,20),void 0!==o){const _e=X.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const Je=o[He];_e.push(null!=Je?Array.from(Je):null)}}le=function(r,i,o,a,u){const d=o[1],m=function(r,i,o){const a=qt();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),ZC(r,a,i,zo(r,i,1,null),o));const u=tr(i,r,a.directiveStart,a);nr(u,i);const d=Dr(a,i);return d&&nr(d,i),u}(d,o,i);if(a.components.push(m),r[8]=m,u&&u.forEach(C=>C(m,i)),i.contentQueries){const C=qt();i.contentQueries(1,m,C.directiveStart)}const y=qt();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Po(y.index),vy(o[1],y,0,y.directiveStart,y.directiveEnd,i),GC(i,m)),m}(Te,this.componentDef,q,N,[cb]),vf($,q,null)}finally{Fi()}return new b0(this.componentType,le,_h(X,q),q,X)}}class b0 extends class{}{constructor(i,o,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new sA(u),this.componentType=i}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Ac=new Map;class I0 extends iu{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new LA(this);const a=Vr(i),u=i[rt]||null;u&&ep(u),this._bootstrapComponents=Ii(a.bootstrap),this._r3Injector=Hg(i,o,[{provide:iu,useValue:this},{provide:mh,useValue:this.componentFactoryResolver}],Y(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=en.THROW_IF_NOT_FOUND,a=Fe.Default){return i===en||i===iu||i===zl?this:this._r3Injector.get(i,o,a)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class vp extends jw{constructor(i){super(),this.moduleType=i,null!==Vr(i)&&function(r){const i=new Set;!function o(a){const u=Vr(a,!0),d=u.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Y(i)} vs ${Y(i.name)}`)}(d,Ac.get(d),a),Ac.set(d,a));const m=Ii(u.imports);for(const y of m)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new I0(this.moduleType,i)}}function or(r,i){const o=r[i];return o===it?void 0:o}function Gm(r,i){const o=ut();let a;const u=r+20;o.firstCreatePass?(a=function(r,i){if(i)for(let o=i.length-1;o>=0;o--){const a=i[o];if(r===a.name)return a}throw new ye("302",`The pipe '${r}' could not be found!`)}(i,o.pipeRegistry),o.data[u]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(u,a.onDestroy)):a=o.data[u];const d=a.factory||(a.factory=yi(a.type)),m=ur(kf);try{const y=xo(!1),C=d();return xo(y),function(r,i,o,a){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=a}(o,Ce(),u,C),C}finally{ur(m)}}function Ep(r,i,o){const a=r+20,u=Ce(),d=ss(u,a);return qm(u,zm(u,a)?function(r,i,o,a,u,d){const m=i+o;return Un(r,m,u)?Yo(r,m+1,d?a.call(d,u):a(u)):or(r,m+1)}(u,gn(),i,d.transform,o,d):d.transform(o))}function N0(r,i,o,a){const u=r+20,d=Ce(),m=ss(d,u);return qm(d,zm(d,u)?function(r,i,o,a,u,d,m){const y=i+o;return ja(r,y,u,d)?Yo(r,y+2,m?a.call(m,u,d):a(u,d)):or(r,y+2)}(d,gn(),i,m.transform,o,a,m):m.transform(o,a))}function zm(r,i){return r[1].data[i].pure}function qm(r,i){return io.isWrapped(i)&&(i=io.unwrap(i),r[jr()]=it),i}function O0(r){return i=>{setTimeout(r,void 0,i)}}const Ya=class extends h.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){var u,d,m;let y=i,C=o||(()=>null),I=a;if(i&&"object"==typeof i){const M=i;y=null===(u=M.next)||void 0===u?void 0:u.bind(M),C=null===(d=M.error)||void 0===d?void 0:d.bind(M),I=null===(m=M.complete)||void 0===m?void 0:m.bind(M)}this.__isAsync&&(C=O0(C),y&&(y=O0(y)),I&&(I=O0(I)));const A=super.subscribe({next:y,error:C,complete:I});return i instanceof ee.w&&i.add(A),A}};function HA(){return this._results[Kd()]()}class Sc{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Kd(),a=Sc.prototype;a[o]||(a[o]=HA)}get changes(){return this._changes||(this._changes=new Ya)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const u=Ar(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++){let u=r[a],d=i[a];if(o&&(u=o(u),d=o(d)),d!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class iE{constructor(i){this.queryList=i,this.matches=null}clone(){return new iE(this.queryList)}setDirty(){this.queryList.setDirty()}}class bp{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let d=0;d<a;d++){const m=o.getByIndex(d);u.push(this.queries[m.indexInDeclarationView].clone())}return new bp(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Rc(i,o).matches&&this.queries[o].setDirty()}}class wp{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class sE{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(i,u);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new sE(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class oE{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new oE(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(i,o,x0(o,d)),this.matchTNodeWithReadOption(i,o,cs(o,i,d,!1,!1))}else a===lp?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,cs(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===ws||u===cp||u===lp&&4&o.type)this.addMatch(o.index,-2);else{const d=cs(o,i,u,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function x0(r,i){const o=r.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function k0(r,i,o,a){return-1===o?function(r,i){return 11&r.type?_h(r,i):4&r.type?bc(r,i):null}(i,r):-2===o?function(r,i,o){return o===ws?_h(i,r):o===lp?bc(i,r):o===cp?Hw(i,r):void 0}(r,i,a):tr(r,r[1],o,i)}function zA(r,i,o,a){const u=i[19].queries[a];if(null===u.matches){const d=r.data,m=o.matches,y=[];for(let C=0;C<m.length;C+=2){const I=m[C];y.push(I<0?null:k0(i,d[I],m[C+1],o.metadata.read))}u.matches=y}return u.matches}function aE(r,i,o,a){const u=r.queries.getByIndex(o),d=u.matches;if(null!==d){const m=zA(r,i,u,o);for(let y=0;y<d.length;y+=2){const C=d[y];if(C>0)a.push(m[y/2]);else{const I=d[y+1],A=i[-C];for(let M=10;M<A.length;M++){const N=A[M];N[17]===N[3]&&aE(N[1],N,I,a)}if(null!==A[9]){const M=A[9];for(let N=0;N<M.length;N++){const $=M[N];aE($[1],$,I,a)}}}}}return a}function Km(r){const i=Ce(),o=ut(),a=fl();So(a+1);const u=Rc(o,a);if(r.dirty&&ol(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const d=u.crossesNgTemplate?aE(o,i,a,[]):zA(o,i,u,a);r.reset(d,Pv),r.notifyOnChanges()}return!0}return!1}function lE(r,i,o,a){const u=ut();if(u.firstCreatePass){const d=qt();(function(r,i,o){null===r.queries&&(r.queries=new sE),r.queries.track(new oE(i,o))})(u,new wp(i,o,a),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function(r,i,o){const a=new Sc(4==(4&o));fy(r,i,a,a.destroy),null===i[19]&&(i[19]=new bp),i[19].queries.push(new iE(a))}(u,Ce(),o)}function Ym(){return r=Ce(),i=fl(),r[19].queries[i].queryList;var r,i}function Rc(r,i){return r.queries.getByIndex(i)}function Sh(r,i){return bc(r,i)}const CE=new Qt("Application Initializer");let Sp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Am,this.reject=Am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const d=this.appInits[u]();if(Jy(d))o.push(d);else if(ah(d)){const m=new Promise((y,C)=>{d.subscribe({complete:y,error:C})});o.push(m)}}Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Xt(CE,8))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})();const mS=new Qt("AppId"),SP={provide:mS,useFactory:function(){return`${bE()}${bE()}${bE()}`},deps:[]};function bE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wE=new Qt("Platform Initializer"),eI=new Qt("Platform ID"),tI=new Qt("appBootstrapListener");let nI=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})();const r_=new Qt("LocaleId"),rI=new Qt("DefaultCurrencyCode");class OP{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const iI=function(r){return new vp(r)},xP=iI,kP=function(r){return Promise.resolve(iI(r))},yS=function(r){const i=iI(r),a=Ii(Vr(r).declarations).reduce((u,d)=>{const m=Rn(d);return m&&u.push(new Kv(m)),u},[]);return new OP(i,a)},FP=yS,vS=function(r){return Promise.resolve(yS(r))};let xr=(()=>{class r{constructor(){this.compileModuleSync=xP,this.compileModuleAsync=kP,this.compileModuleAndAllComponentsSync=FP,this.compileModuleAndAllComponentsAsync=vS}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})();const i_=(()=>Promise.resolve(0))();function s_(r){"undefined"==typeof Zone?i_.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class qi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let r=nt.requestAnimationFrame,i=nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(nt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,o_(r),r.isCheckStableRunning=!0,sI(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),o_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,d,m,y)=>{try{return oI(r),o.invokeTask(u,d,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),bS(r)}},onInvoke:(o,a,u,d,m,y,C)=>{try{return oI(r),o.invoke(u,d,m,y,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),bS(r)}},onHasTask:(o,a,u,d)=>{o.hasTask(u,d),a===u&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,o_(r),sI(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,u,d)=>(o.handleError(u,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,u){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+u,i,CS,Am,Am);try{return d.runTask(m,o,a)}finally{d.cancelTask(m)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const CS={};function sI(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function o_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function oI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function bS(r){r._nesting--,sI(r)}class aI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,u){return i.apply(o,a)}}let lI=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qi.assertNotInAngularZone(),s_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())s_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,a,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(Xt(qi))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})(),uI=(()=>{class r{constructor(){this._applications=new Map,TE.addToWindow(this)}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return TE.findTestabilityInTree(this,o,a)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})();class wS{addToWindow(i){}findTestabilityInTree(i,o,a){return null}}function IS(r){TE=r}let TE=new wS,cI=!0,dI=!1;function AE(){return dI=!0,cI}function DS(){if(dI)throw new Error("Cannot enable prod mode after platform setup.");cI=!1}let co;const hI=new Qt("AllowMultipleToken");class MS{constructor(i,o){this.name=i,this.token=o}}function pI(r,i,o=[]){const a=`Platform: ${i}`,u=new Qt(a);return(d=[])=>{let m=NS();if(!m||m.injector.get(hI,!1))if(r)r(o.concat(d).concat({provide:u,useValue:!0}));else{const y=o.concat(d).concat({provide:u,useValue:!0},{provide:Ba,useValue:"platform"});!function(r){if(co&&!co.destroyed&&!co.injector.get(hI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");co=r.get(OS);const i=r.get(wE,null);i&&i.forEach(o=>o())}(en.create({providers:y,name:a}))}return function(r){const i=NS();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(u)}}function NS(){return co&&!co.destroyed?co:null}let OS=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const y=function(r,i){let o;return o="noop"===r?new aI:("zone.js"===r?void 0:r)||new qi({enableLongStackTrace:AE(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:qi,useValue:y}];return y.run(()=>{const I=en.create({providers:C,parent:this.injector,name:o.moduleType.name}),A=o.create(I),M=A.injector.get(Wo,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:$=>{M.handleError($)}});A.onDestroy(()=>{_I(this._modules,A),N.unsubscribe()})}),function(r,i,o){try{const a=o();return Jy(a)?a.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>r.handleError(a)),a}}(M,y,()=>{const N=A.injector.get(Sp);return N.runInitializers(),N.donePromise.then(()=>(ep(A.injector.get(r_,vm)||vm),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,a=[]){const u=xS({},a);return function(r,i,o){const a=new vp(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(o){const a=o.injector.get(a_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Xt(en))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})();function xS(r,i){return Array.isArray(i)?i.reduce(xS,r):Object.assign(Object.assign({},r),i)}let a_=(()=>{class r{constructor(o,a,u,d,m){this._zone=o,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new k.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{qi.assertNotInAngularZone(),s_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ue.T)(y,C.pipe((0,ne.B)()))}bootstrap(o,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=o instanceof Pi?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const d=function(r){return r.isBoundToModule}(u)?void 0:this._injector.get(iu),y=u.create(en.NULL,[],a||u.selector,d),C=y.location.nativeElement,I=y.injector.get(lI,null),A=I&&y.injector.get(uI);return I&&A&&A.registerApplication(C,I),y.onDestroy(()=>{this.detachView(y.hostView),_I(this.components,y),A&&A.unregisterApplication(C)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;_I(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(tI,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Xt(qi),Xt(en),Xt(Wo),Xt(mh),Xt(Sp))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})();function _I(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class WP{}class yI{}const PE={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let uu=(()=>{class r{constructor(o,a){this._compiler=o,this._config=a||PE}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[a,u]=o.split("#");return void 0===u&&(u="default"),L(8255)(a).then(d=>d[u]).then(d=>ME(d,a,u)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[a,u]=o.split("#"),d="NgFactory";return void 0===u&&(u="default",d=""),L(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(m=>m[u+d]).then(m=>ME(m,a,u))}}return r.\u0275fac=function(o){return new(o||r)(Xt(xr),Xt(yI,8))},r.\u0275prov=Kt({token:r,factory:r.\u0275fac}),r})();function ME(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const VS=function(r){return null},TI=pI(null,"core",[{provide:eI,useValue:"unknown"},{provide:OS,deps:[en]},{provide:uI,deps:[]},{provide:nI,deps:[]}]),Ph=[{provide:a_,useClass:a_,deps:[qi,en,Wo,mh,Sp]},{provide:v0,deps:[qi],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:Sp,useClass:Sp,deps:[[new Vo,CE]]},{provide:xr,useClass:xr,deps:[]},SP,{provide:yh,useFactory:function(){return kv},deps:[]},{provide:Rm,useFactory:function(){return Fv},deps:[]},{provide:r_,useFactory:function(r){return ep(r=r||"undefined"!=typeof $localize&&$localize.locale||vm),r},deps:[[new Lo(r_),new Vo,new Vn]]},{provide:rI,useValue:"USD"}];let cu=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Xt(a_))},r.\u0275mod=Ps({type:r}),r.\u0275inj=nn({providers:Ph}),r})()},8939:(je,Ee,L)=>{"use strict";L.d(Ee,{hO:()=>oe,xv:()=>J,Dh:()=>Y,GT:()=>K,cc:()=>ce,on:()=>F,pX:()=>ne});var h=L(7716),ee=L(7841),k=L(9098);je=L.hmd(je);const ue=["ngOnDestroy"],ne=(te,de,me,Ie={})=>new Proxy(te,{get:(Ve,mt)=>me.runOutsideAngular(()=>{var Dt;if(te[mt])return(null===(Dt=null==Ie?void 0:Ie.spy)||void 0===Dt?void 0:Dt.get)&&Ie.spy.get(mt,te[mt]),te[mt];if(ue.indexOf(mt)>-1)return()=>{};const ft=de.toPromise().then(tn=>{const at=tn&&tn[mt];return"function"==typeof at?at.bind(tn):at&&at.then?at.then(et=>me.run(()=>et)):me.run(()=>at)});return new Proxy(()=>{},{get:(tn,at)=>ft[at],apply:(tn,at,et)=>ft.then(Ut=>{var tt;const St=Ut&&Ut(...et);return(null===(tt=null==Ie?void 0:Ie.spy)||void 0===tt?void 0:tt.apply)&&Ie.spy.apply(mt,et,St),St})})})}),K=(te,de)=>{de.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Ie=>{Object.defineProperty(te.prototype,Ie,Object.getOwnPropertyDescriptor(me.prototype||me,Ie))})})};class pe{constructor(de){return de}}const Y=new h.OlP("angularfire2.app.options"),J=new h.OlP("angularfire2.app.name");function F(te,de,me){const Ve="object"==typeof me&&me||{};Ve.name=Ve.name||"string"==typeof me&&me||"[DEFAULT]";const Dt=ee.Z.apps.filter(ft=>ft&&ft.name===Ve.name)[0]||de.runOutsideAngular(()=>ee.Z.initializeApp(te,Ve));try{JSON.stringify(te)!==JSON.stringify(Dt.options)&&B("error",`${Dt.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ft){}return new pe(Dt)}const B=(te,...de)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[te](...de)},H={provide:pe,useFactory:F,deps:[Y,h.R0b,[new h.FiY,J]]};let oe=(()=>{class te{constructor(me){ee.Z.registerVersion("angularfire",k.q4.full,"core"),ee.Z.registerVersion("angularfire",k.q4.full,"app-compat"),ee.Z.registerVersion("angular",h.q4F.full,me.toString())}static initializeApp(me,Ie){return{ngModule:te,providers:[{provide:Y,useValue:me},{provide:J,useValue:Ie}]}}}return te.\u0275fac=function(me){return new(me||te)(h.LFG(h.Lbi))},te.\u0275mod=h.oAB({type:te}),te.\u0275inj=h.cJS({providers:[H]}),te})();function ce(te,de,me,Ie,Ve){const[,mt,Dt]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===te)||[];if(mt)return function(te,de){try{return te.toString()===de.toString()}catch(me){return te===de}}(Ve,Dt)||(he("error",`${de} was already initialized on the ${me} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Ve,was:Dt})),mt;{const ft=Ie();return globalThis.\u0275AngularfireInstanceCache.push([te,ft,Ve]),ft}}const ge=!!je.hot,he=(te,...de)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[te](...de)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9098:(je,Ee,L)=>{"use strict";L.d(Ee,{q4:()=>_d,iC:()=>Nn,HU:()=>Uu,vb:()=>Da,JM:()=>bi});var h=L(7716),ee=L(2329),k=L(8239),ue=L(8026),ne=L(3854),K=L(3910),pe=L(5422),Y=L(6676);const J="@firebase/installations",F="0.5.4",H=`w:${F}`,oe="FIS_v2",de=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me(w){return w instanceof ne.ZR&&w.code.includes("request-failed")}function Ie({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Ve(w){return{token:w.token,requestStatus:2,expiresIn:Ut(w.expiresIn),creationTime:Date.now()}}function mt(w,T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,k.Z)(function*(w,T){const U=(yield T.json()).error;return de.create("request-failed",{requestName:w,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ft({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function tn(w,{refreshToken:T}){const P=ft(w);return P.append("Authorization",function(w){return`${oe} ${w}`}(T)),P}function at(w){return et.apply(this,arguments)}function et(){return(et=(0,k.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function Ut(w){return Number(w.replace("s","000"))}function St(w,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,k.Z)(function*(w,{fid:T}){const P=Ie(w),ae={method:"POST",headers:ft(w),body:JSON.stringify({fid:T,authVersion:oe,appId:w.appId,sdkVersion:H})},be=yield at(()=>fetch(P,ae));if(be.ok){const Ne=yield be.json();return{fid:Ne.fid||T,registrationStatus:2,refreshToken:Ne.refreshToken,authToken:Ve(Ne.authToken)}}throw yield mt("Create Installation",be)})).apply(this,arguments)}function Ja(w){return new Promise(T=>{setTimeout(T,w)})}const Mi=/^[cdef][\w-]{21}$/;function Ot(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const P=function(w){return function(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Mi.test(P)?P:""}catch(w){return""}}function Ni(w){return`${w.appName}!${w.appId}`}const Xi=new Map;function mi(w,T){const P=Ni(w);nn(P,T),function(w,T){const P=(!Rt&&"BroadcastChannel"in self&&(Rt=new BroadcastChannel("[Firebase] FID Change"),Rt.onmessage=w=>{nn(w.data.key,w.data.fid)}),Rt);P&&P.postMessage({key:w,fid:T}),0===Xi.size&&Rt&&(Rt.close(),Rt=null)}(P,T)}function nn(w,T){const P=Xi.get(w);if(P)for(const U of P)U(T)}let Rt=null;const we="firebase-installations-store";let kn=null;function bn(){return kn||(kn=(0,Y.openDb)("firebase-installations-database",1,w=>{switch(w.oldVersion){case 0:w.createObjectStore(we)}})),kn}function Fe(w,T){return kt.apply(this,arguments)}function kt(){return(kt=(0,k.Z)(function*(w,T){const P=Ni(w),Q=(yield bn()).transaction(we,"readwrite"),ae=Q.objectStore(we),be=yield ae.get(P);return yield ae.put(T,P),yield Q.complete,(!be||be.fid!==T.fid)&&mi(w,T.fid),T})).apply(this,arguments)}function Jr(w){return ur.apply(this,arguments)}function ur(){return(ur=(0,k.Z)(function*(w){const T=Ni(w),U=(yield bn()).transaction(we,"readwrite");yield U.objectStore(we).delete(T),yield U.complete})).apply(this,arguments)}function ze(w,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,k.Z)(function*(w,T){const P=Ni(w),Q=(yield bn()).transaction(we,"readwrite"),ae=Q.objectStore(we),be=yield ae.get(P),Ne=T(be);return void 0===Ne?yield ae.delete(P):yield ae.put(Ne,P),yield Q.complete,Ne&&(!be||be.fid!==Ne.fid)&&mi(w,Ne.fid),Ne})).apply(this,arguments)}function _t(w){return yt.apply(this,arguments)}function yt(){return(yt=(0,k.Z)(function*(w){let T;const P=yield ze(w,U=>{const Q=cr(U),ae=Lt(w,Q);return T=ae.registrationPromise,ae.installationEntry});return""===P.fid?{installationEntry:yield T}:{installationEntry:P,registrationPromise:T}})).apply(this,arguments)}function cr(w){return nt(w||{fid:Ot(),registrationStatus:0})}function Lt(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(de.create("app-offline"))};const P={fid:T.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:P,registrationPromise:function(w,T){return We.apply(this,arguments)}(w,P)}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:mu(w)}:{installationEntry:T}}function We(){return(We=(0,k.Z)(function*(w,T){try{return Fe(w,yield St(w,T))}catch(P){throw me(P)&&409===P.customData.serverCode?yield Jr(w):yield Fe(w,{fid:T.fid,registrationStatus:0}),P}})).apply(this,arguments)}function mu(w){return es.apply(this,arguments)}function es(){return(es=(0,k.Z)(function*(w){let T=yield jt(w);for(;1===T.registrationStatus;)yield Ja(100),T=yield jt(w);if(0===T.registrationStatus){const{installationEntry:P,registrationPromise:U}=yield _t(w);return U||P}return T})).apply(this,arguments)}function jt(w){return ze(w,T=>{if(!T)throw de.create("installation-not-found");return nt(T)})}function nt(w){return function(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function _u(w,T){return G.apply(this,arguments)}function G(){return(G=(0,k.Z)(function*({appConfig:w,platformLoggerProvider:T},P){const U=j(w,P),Q=tn(w,P),ae=T.getImmediate({optional:!0});ae&&Q.append("x-firebase-client",ae.getPlatformInfoString());const Ne={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:H}})},xe=yield at(()=>fetch(U,Ne));if(xe.ok)return Ve(yield xe.json());throw yield mt("Generate Auth Token",xe)})).apply(this,arguments)}function j(w,{fid:T}){return`${Ie(w)}/${T}/authTokens:generate`}function Z(w){return ve.apply(this,arguments)}function ve(){return(ve=(0,k.Z)(function*(w,T=!1){let P;const U=yield ze(w.appConfig,ae=>{if(!hn(ae))throw de.create("not-registered");const be=ae.authToken;if(!T&&Kn(be))return ae;if(1===be.requestStatus)return P=ie(w,T),ae;{if(!navigator.onLine)throw de.create("app-offline");const Ne=jn(ae);return P=Pt(w,Ne),Ne}});return P?yield P:U.authToken})).apply(this,arguments)}function ie(w,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,k.Z)(function*(w,T){let P=yield rt(w.appConfig);for(;1===P.authToken.requestStatus;)yield Ja(100),P=yield rt(w.appConfig);const U=P.authToken;return 0===U.requestStatus?Z(w,T):U})).apply(this,arguments)}function rt(w){return ze(w,T=>{if(!hn(T))throw de.create("not-registered");return function(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Pt(w,T){return dn.apply(this,arguments)}function dn(){return(dn=(0,k.Z)(function*(w,T){try{const P=yield _u(w,T),U=Object.assign(Object.assign({},T),{authToken:P});return yield Fe(w.appConfig,U),P}catch(P){if(!me(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Fe(w.appConfig,U)}else yield Jr(w.appConfig);throw P}})).apply(this,arguments)}function hn(w){return void 0!==w&&2===w.registrationStatus}function Kn(w){return 2===w.requestStatus&&!function(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function jn(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function Ps(){return(Ps=(0,k.Z)(function*(w){const T=w,{installationEntry:P,registrationPromise:U}=yield _t(T.appConfig);return U?U.catch(console.error):Z(T).catch(console.error),P.fid})).apply(this,arguments)}function Ms(){return(Ms=(0,k.Z)(function*(w,T=!1){const P=w;return yield yu(P.appConfig),(yield Z(P,T)).token})).apply(this,arguments)}function yu(w){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(w){const{registrationPromise:T}=yield _t(w);T&&(yield T)})).apply(this,arguments)}function Ht(w){return de.create("missing-app-config-values",{valueName:w})}const hr="installations";(0,ue._registerComponent)(new K.wA(hr,w=>{const T=w.getProvider("app").getImmediate();return{app:T,appConfig:function(w){if(!w||!w.options)throw Ht("App Configuration");if(!w.name)throw Ht("App Name");const T=["projectId","apiKey","appId"];for(const P of T)if(!w.options[P])throw Ht(P);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T),platformLoggerProvider:(0,ue._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new K.wA("installations-internal",w=>{const T=w.getProvider("app").getImmediate(),P=(0,ue._getProvider)(T,hr).getImmediate();return{getId:()=>function(w){return Ps.apply(this,arguments)}(P),getToken:Q=>function(w){return Ms.apply(this,arguments)}(P,Q)}},"PRIVATE")),(0,ue.registerVersion)(J,F),(0,ue.registerVersion)(J,F,"esm2017");const wr="@firebase/remote-config",Fn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tl{constructor(T,P,U,Q){this.client=T,this.storage=P,this.storageCache=U,this.logger=Q}isCachedDataFresh(T,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-P,Q=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var P=this;return(0,k.Z)(function*(){const[U,Q]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(Q&&P.isCachedDataFresh(T.cacheMaxAgeMillis,U))return Q;T.eTag=Q&&Q.eTag;const ae=yield P.client.fetch(T),be=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&be.push(P.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(be),ae})()}}function ei(w=navigator){return w.languages&&w.languages[0]||w.language}class ti{constructor(T,P,U,Q,ae,be){this.firebaseInstallations=T,this.sdkVersion=P,this.namespace=U,this.projectId=Q,this.apiKey=ae,this.appId=be}fetch(T){var P=this;return(0,k.Z)(function*(){const[U,Q]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ne={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},xe={sdk_version:P.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:P.appId,language_code:ei()},Ct={method:"POST",headers:Ne,body:JSON.stringify(xe)},zt=fetch(be,Ct),vn=new Promise((oi,ai)=>{T.signal.addEventListener(()=>{const Qe=new Error("The operation was aborted.");Qe.name="AbortError",ai(Qe)})});let mr;try{yield Promise.race([zt,vn]),mr=yield zt}catch(oi){let ai="fetch-client-network";throw"AbortError"===oi.name&&(ai="fetch-timeout"),Fn.create(ai,{originalErrorMessage:oi.message})}let On=mr.status;const wl=mr.headers.get("ETag")||void 0;let Ws,Il;if(200===mr.status){let oi;try{oi=yield mr.json()}catch(ai){throw Fn.create("fetch-client-parse",{originalErrorMessage:ai.message})}Ws=oi.entries,Il=oi.state}if("INSTANCE_STATE_UNSPECIFIED"===Il?On=500:"NO_CHANGE"===Il?On=304:("NO_TEMPLATE"===Il||"EMPTY_CONFIG"===Il)&&(Ws={}),304!==On&&200!==On)throw Fn.create("fetch-status",{httpStatus:On});return{status:On,eTag:wl,config:Ws}})()}}class Eu{constructor(T,P){this.client=T,this.storage=P}fetch(T){var P=this;return(0,k.Z)(function*(){const U=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:P,backoffCount:U}){var Q=this;return(0,k.Z)(function*(){yield function(w,T){return new Promise((P,U)=>{const Q=Math.max(T-Date.now(),0),ae=setTimeout(P,Q);w.addEventListener(()=>{clearTimeout(ae),U(Fn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,P);try{const ae=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ae))throw ae;const be={throttleEndTimeMillis:Date.now()+(0,ne.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(be),Q.attemptFetch(T,be)}})()}}class Bp{constructor(T,P,U,Q,ae){this.app=T,this._client=P,this._storageCache=U,this._storage=Q,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ia(w,T){const P=w.target.error||void 0;return Fn.create(T,{originalErrorMessage:P&&P.message})}const bo="app_namespace_store";class jp{constructor(T,P,U,Q=function(){return new Promise((w,T)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=U=>{T(ia(U,"storage-open"))},P.onsuccess=U=>{w(U.target.result)},P.onupgradeneeded=U=>{const Q=U.target.result;switch(U.oldVersion){case 0:Q.createObjectStore(bo,{keyPath:"compositeKey"})}}}catch(P){T(Fn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=T,this.appName=P,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var P=this;return(0,k.Z)(function*(){const U=yield P.openDbPromise;return new Promise((Q,ae)=>{const Ne=U.transaction([bo],"readonly").objectStore(bo),xe=P.createCompositeKey(T);try{const Ct=Ne.get(xe);Ct.onerror=zt=>{ae(ia(zt,"storage-get"))},Ct.onsuccess=zt=>{const vn=zt.target.result;Q(vn?vn.value:void 0)}}catch(Ct){ae(Fn.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(T,P){var U=this;return(0,k.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((ae,be)=>{const xe=Q.transaction([bo],"readwrite").objectStore(bo),Ct=U.createCompositeKey(T);try{const zt=xe.put({compositeKey:Ct,value:P});zt.onerror=vn=>{be(ia(vn,"storage-set"))},zt.onsuccess=()=>{ae()}}catch(zt){be(Fn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(T){var P=this;return(0,k.Z)(function*(){const U=yield P.openDbPromise;return new Promise((Q,ae)=>{const Ne=U.transaction([bo],"readwrite").objectStore(bo),xe=P.createCompositeKey(T);try{const Ct=Ne.delete(xe);Ct.onerror=zt=>{ae(ia(zt,"storage-delete"))},Ct.onsuccess=()=>{Q()}}catch(Ct){ae(Fn.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Yc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const P=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),ae=yield P;ae&&(T.lastFetchStatus=ae);const be=yield U;be&&(T.lastSuccessfulFetchTimestampMillis=be);const Ne=yield Q;Ne&&(T.activeConfig=Ne)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Cu(){return rl.apply(this,arguments)}function rl(){return(rl=(0,k.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(w){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new K.wA("remote-config",function(T,{instanceIdentifier:P}){const U=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fn.create("registration-window");if(!(0,ne.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:ae,apiKey:be,appId:Ne}=U.options;if(!ae)throw Fn.create("registration-project-id");if(!be)throw Fn.create("registration-api-key");if(!Ne)throw Fn.create("registration-app-id");const xe=new jp(Ne,U.name,P=P||"firebase"),Ct=new Yc(xe),zt=new pe.Yd(wr);zt.logLevel=pe.in.ERROR;const vn=new ti(Q,ue.SDK_VERSION,P,ae,be,Ne),mr=new Eu(vn,xe),On=new tl(mr,xe,Ct,zt),wl=new Bp(U,On,Ct,xe,zt);return function(w){const T=(0,ne.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(wl),wl},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(wr,"0.3.3"),(0,ue.registerVersion)(wr,"0.3.3","esm2017");const oa="/firebase-messaging-sw.js",Hp="/firebase-cloud-messaging-push-scope",aa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yi="google.c.a.c_id",la="google.c.a.c_l",Br="google.c.a.ts",ua="google.c.a.e";var Jn=(()=>{return(w=Jn||(Jn={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Jn;var w})();function vi(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bu(w){const P=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(P),Q=new Uint8Array(U.length);for(let ae=0;ae<U.length;++ae)Q[ae]=U.charCodeAt(ae);return Q}const wu="fcm_token_details_db",$h="fcm_token_object_Store";function Ir(w){return ca.apply(this,arguments)}function ca(){return(ca=(0,k.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(wu))return null;let T=null;return(yield(0,Y.openDb)(wu,5,function(){var U=(0,k.Z)(function*(Q){var ae;if(Q.oldVersion<2||!Q.objectStoreNames.contains($h))return;const be=Q.transaction.objectStore($h),Ne=yield be.index("fcmSenderId").get(w);if(yield be.clear(),Ne)if(2===Q.oldVersion){const xe=Ne;if(!xe.auth||!xe.p256dh||!xe.endpoint)return;T={token:xe.fcmToken,createTime:null!==(ae=xe.createTime)&&void 0!==ae?ae:Date.now(),subscriptionOptions:{auth:xe.auth,p256dh:xe.p256dh,endpoint:xe.endpoint,swScope:xe.swScope,vapidKey:"string"==typeof xe.vapidKey?xe.vapidKey:vi(xe.vapidKey)}}}else if(3===Q.oldVersion){const xe=Ne;T={token:xe.fcmToken,createTime:xe.createTime,subscriptionOptions:{auth:vi(xe.auth),p256dh:vi(xe.p256dh),endpoint:xe.endpoint,swScope:xe.swScope,vapidKey:vi(xe.vapidKey)}}}else if(4===Q.oldVersion){const xe=Ne;T={token:xe.fcmToken,createTime:xe.createTime,subscriptionOptions:{auth:vi(xe.auth),p256dh:vi(xe.p256dh),endpoint:xe.endpoint,swScope:xe.swScope,vapidKey:vi(xe.vapidKey)}}}});return function(Q){return U.apply(this,arguments)}}())).close(),yield(0,Y.deleteDb)(wu),yield(0,Y.deleteDb)("fcm_vapid_details_db"),yield(0,Y.deleteDb)("undefined"),Jc(T)?T:null})).apply(this,arguments)}function Jc(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const rs="firebase-messaging-store";let Xc=null;function Gt(){return Xc||(Xc=(0,Y.openDb)("firebase-messaging-database",1,w=>{switch(w.oldVersion){case 0:w.createObjectStore(rs)}})),Xc}function ed(w){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,k.Z)(function*(w){const T=ks(w),U=yield(yield Gt()).transaction(rs).objectStore(rs).get(T);if(U)return U;{const Q=yield Ir(w.appConfig.senderId);if(Q)return yield ni(w,Q),Q}})).apply(this,arguments)}function ni(w,T){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,k.Z)(function*(w,T){const P=ks(w),Q=(yield Gt()).transaction(rs,"readwrite");return yield Q.objectStore(rs).put(T,P),yield Q.complete,T})).apply(this,arguments)}function Io(w){return sl.apply(this,arguments)}function sl(){return(sl=(0,k.Z)(function*(w){const T=ks(w),U=(yield Gt()).transaction(rs,"readwrite");yield U.objectStore(rs).delete(T),yield U.complete})).apply(this,arguments)}function ks({appConfig:w}){return w.appId}const wn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function is(w,T){return ss.apply(this,arguments)}function ss(){return(ss=(0,k.Z)(function*(w,T){const P=yield da(w),U=Ze(T),Q={method:"POST",headers:P,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(pn(w.appConfig),Q)).json()}catch(be){throw wn.create("token-subscribe-failed",{errorInfo:be})}if(ae.error)throw wn.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw wn.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function Gn(w,T){return ol.apply(this,arguments)}function ol(){return(ol=(0,k.Z)(function*(w,T){const P=yield da(w),U=Ze(T.subscriptionOptions),Q={method:"PATCH",headers:P,body:JSON.stringify(U)};let ae;try{ae=yield(yield fetch(`${pn(w.appConfig)}/${T.token}`,Q)).json()}catch(be){throw wn.create("token-update-failed",{errorInfo:be})}if(ae.error)throw wn.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw wn.create("token-update-no-token");return ae.token})).apply(this,arguments)}function al(w,T){return os.apply(this,arguments)}function os(){return(os=(0,k.Z)(function*(w,T){const U={method:"DELETE",headers:yield da(w)};try{const ae=yield(yield fetch(`${pn(w.appConfig)}/${T}`,U)).json();if(ae.error)throw wn.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(Q){throw wn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function pn({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function da(w){return ha.apply(this,arguments)}function ha(){return(ha=(0,k.Z)(function*({appConfig:w,installations:T}){const P=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Ze({p256dh:w,auth:T,endpoint:P,vapidKey:U}){const Q={web:{endpoint:P,auth:T,p256dh:w}};return U!==aa&&(Q.web.applicationPubKey=U),Q}const ll=6048e5;function td(w){return ul.apply(this,arguments)}function ul(){return(ul=(0,k.Z)(function*(w){const T=yield cl(w.swRegistration,w.vapidKey),P={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:vi(T.getKey("auth")),p256dh:vi(T.getKey("p256dh"))},U=yield ed(w.firebaseDependencies);if(U){if(dl(U.subscriptionOptions,P))return Date.now()>=U.createTime+ll?Iu(w,{token:U.token,createTime:Date.now(),subscriptionOptions:P}):U.token;try{yield al(w.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return Ce(w.firebaseDependencies,P)}return Ce(w.firebaseDependencies,P)})).apply(this,arguments)}function nd(w){return fa.apply(this,arguments)}function fa(){return(fa=(0,k.Z)(function*(w){const T=yield ed(w.firebaseDependencies);T&&(yield al(w.firebaseDependencies,T.token),yield Io(w.firebaseDependencies));const P=yield w.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Iu(w,T){return ki.apply(this,arguments)}function ki(){return(ki=(0,k.Z)(function*(w,T){try{const P=yield Gn(w.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:P,createTime:Date.now()});return yield ni(w.firebaseDependencies,U),P}catch(P){throw yield nd(w),P}})).apply(this,arguments)}function Ce(w,T){return ut.apply(this,arguments)}function ut(){return(ut=(0,k.Z)(function*(w,T){const U={token:yield is(w,T),createTime:Date.now(),subscriptionOptions:T};return yield ni(w,U),U.token})).apply(this,arguments)}function cl(w,T){return qt.apply(this,arguments)}function qt(){return(qt=(0,k.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bu(T)})})).apply(this,arguments)}function dl(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function Ci(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcm_message_id};return function(w,T){if(!T.notification)return;w.notification={};const P=T.notification.title;P&&(w.notification.title=P);const U=T.notification.body;U&&(w.notification.body=U);const Q=T.notification.image;Q&&(w.notification.image=Q)}(T,w),function(w,T){!T.data||(w.data=T.data)}(T,w),function(w,T){if(!T.fcmOptions)return;w.fcmOptions={};const P=T.fcmOptions.link;P&&(w.fcmOptions.link=P);const U=T.fcmOptions.analytics_label;U&&(w.fcmOptions.analyticsLabel=U)}(T,w),T}function rd(w){return"object"==typeof w&&!!w&&yi in w}function Du(w,T){const P=[];for(let U=0;U<w.length;U++)P.push(w.charAt(U)),U<T.length&&P.push(T.charAt(U));return P.join("")}function Ao(w){return wn.create("missing-app-config-values",{valueName:w})}Du("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Du("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gn{constructor(T,P,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function(w){if(!w||!w.options)throw Ao("App Configuration Object");if(!w.name)throw Ao("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:P}=w;for(const U of T)if(!P[U])throw Ao(U);return{appName:w.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:P,analyticsProvider:U}}_delete(){return Promise.resolve()}}function jr(w){return ga.apply(this,arguments)}function ga(){return(ga=(0,k.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(oa,{scope:Hp}),w.swRegistration.update().catch(()=>{})}catch(T){throw wn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function $r(w,T){return er.apply(this,arguments)}function er(){return(er=(0,k.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield jr(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function Tu(w,T){return hl.apply(this,arguments)}function hl(){return(hl=(0,k.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=aa)})).apply(this,arguments)}function Au(){return(Au=(0,k.Z)(function*(w,T){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield Tu(w,null==T?void 0:T.vapidKey),yield $r(w,null==T?void 0:T.serviceWorkerRegistration),td(w)})).apply(this,arguments)}function _a(w,T,P){return ya.apply(this,arguments)}function ya(){return(ya=(0,k.Z)(function*(w,T,P){const U=fl(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:P[yi],message_name:P[la],message_time:P[Br],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fl(w){switch(w){case Jn.NOTIFICATION_CLICKED:return"notification_open";case Jn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ro(){return(Ro=(0,k.Z)(function*(w,T){const P=T.data;if(!P.isFirebaseMessaging)return;w.onMessageHandler&&P.messageType===Jn.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Ci(P)):w.onMessageHandler.next(Ci(P)));const U=P.data;rd(U)&&"1"===U[ua]&&(yield _a(w,P.messageType,U))})).apply(this,arguments)}const Su="@firebase/messaging";function od(){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,k.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new K.wA("messaging",w=>{const T=new gn(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function(w,T){return Ro.apply(this,arguments)}(T,P)),T},"PUBLIC")),(0,ue._registerComponent)(new K.wA("messaging-internal",w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:U=>function(w,T){return Au.apply(this,arguments)}(T,U)}},"PRIVATE")),(0,ue.registerVersion)(Su,"0.9.4"),(0,ue.registerVersion)(Su,"0.9.4","esm2017");const Mo="analytics",Gh="firebase_id",as="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ea="https://www.googletagmanager.com/gtag/js",un=new pe.Yd("@firebase/analytics");function Mu(w){return Promise.all(w.map(T=>T.catch(P=>P)))}function zh(w,T){const P=document.createElement("script");P.src=`${Ea}?l=${w}&id=${T}`,P.async=!0,document.head.appendChild(P)}function No(w,T,P,U,Q,ae){return ld.apply(this,arguments)}function ld(){return(ld=(0,k.Z)(function*(w,T,P,U,Q,ae){const be=U[Q];try{if(be)yield T[be];else{const xe=(yield Mu(P)).find(Ct=>Ct.measurementId===Q);xe&&(yield T[xe.appId])}}catch(Ne){un.error(Ne)}w("config",Q,ae)})).apply(this,arguments)}function Oo(w,T,P,U,Q){return ls.apply(this,arguments)}function ls(){return(ls=(0,k.Z)(function*(w,T,P,U,Q){try{let ae=[];if(Q&&Q.send_to){let be=Q.send_to;Array.isArray(be)||(be=[be]);const Ne=yield Mu(P);for(const xe of be){const Ct=Ne.find(vn=>vn.measurementId===xe),zt=Ct&&T[Ct.appId];if(!zt){ae=[];break}ae.push(zt)}}0===ae.length&&(ae=Object.values(T)),yield Promise.all(ae),w("event",U,Q||{})}catch(ae){un.error(ae)}})).apply(this,arguments)}function zp(){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(Ea))return T;return null}const ri=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gl=new class{constructor(T={},P=1e3){this.throttleMetadata=T,this.intervalMillis=P}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,P){this.throttleMetadata[T]=P}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Zh(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function xu(w){return us.apply(this,arguments)}function us(){return(us=(0,k.Z)(function*(w){var T;const{appId:P,apiKey:U}=w,Q={method:"GET",headers:Zh(U)},ae=as.replace("{app-id}",P),be=yield fetch(ae,Q);if(200!==be.status&&304!==be.status){let Ne="";try{const xe=yield be.json();(null===(T=xe.error)||void 0===T?void 0:T.message)&&(Ne=xe.error.message)}catch(xe){}throw ri.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Ne})}return be.json()})).apply(this,arguments)}function cd(w){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,k.Z)(function*(w,T=gl,P){const{appId:U,apiKey:Q,measurementId:ae}=w.options;if(!U)throw ri.create("no-app-id");if(!Q){if(ae)return{measurementId:ae,appId:U};throw ri.create("no-api-key")}const be=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ne=new Kh;return setTimeout((0,k.Z)(function*(){Ne.abort()}),void 0!==P?P:6e4),Ca({appId:U,apiKey:Q,measurementId:ae},be,Ne,T)})).apply(this,arguments)}function Ca(w,T,P){return xo.apply(this,arguments)}function xo(){return(xo=(0,k.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:P},U,Q=gl){const{appId:ae,measurementId:be}=w;try{yield A_(U,T)}catch(Ne){if(be)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Ne.message}]`),{appId:ae,measurementId:be};throw Ne}try{const Ne=yield xu(w);return Q.deleteThrottleMetadata(ae),Ne}catch(Ne){if(!dd(Ne)){if(Q.deleteThrottleMetadata(ae),be)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Ne.message}]`),{appId:ae,measurementId:be};throw Ne}const xe=503===Number(Ne.customData.httpStatus)?(0,ne.$s)(P,Q.intervalMillis,30):(0,ne.$s)(P,Q.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+xe,backoffCount:P+1};return Q.setThrottleMetadata(ae,Ct),un.debug(`Calling attemptFetch again in ${xe} millis`),Ca(w,Ct,U,Q)}})).apply(this,arguments)}function A_(w,T){return new Promise((P,U)=>{const Q=Math.max(T-Date.now(),0),ae=setTimeout(P,Q);w.addEventListener(()=>{clearTimeout(ae),U(ri.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function dd(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Kh{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function hd(){return ml.apply(this,arguments)}function ml(){return(ml=(0,k.Z)(function*(){if(!(0,ne.hl)())return un.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(w){return un.warn(ri.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function Ls(){return(Ls=(0,k.Z)(function*(w,T,P,U,Q,ae,be){var Ne;const xe=cd(w);xe.then(On=>{P[On.measurementId]=On.appId,w.options.measurementId&&On.measurementId!==w.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${On.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(On=>un.error(On)),T.push(xe);const Ct=hd().then(On=>{if(On)return U.getId()}),[zt,vn]=yield Promise.all([xe,Ct]);zp()||zh(ae,zt.measurementId),Q("js",new Date);const mr=null!==(Ne=null==be?void 0:be.config)&&void 0!==Ne?Ne:{};return mr.origin="firebase",mr.update=!0,null!=vn&&(mr[Gh]=vn),Q("config",zt.measurementId,mr),zt.measurementId})).apply(this,arguments)}class cn{constructor(T){this.app=T}_delete(){return delete Be[this.app.options.appId],Promise.resolve()}}let Be={},Hr=[];const ku={};let _l,Jt,pr="dataLayer",yl=!1;function tr(w,T,P){!function(){const w=[];if((0,ne.ru)()&&w.push("This is a browser extension environment."),(0,ne.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),P=ri.create("invalid-analytics-context",{errorInfo:T});un.warn(P.message)}}();const U=w.options.appId;if(!U)throw ri.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ri.create("no-api-key");un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Be[U])throw ri.create("already-exists",{id:U});if(!yl){!function(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(pr);const{wrappedGtag:ae,gtagCore:be}=function(w,T,P,U,Q){let ae=function(...be){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ae=window[Q]),window[Q]=function(w,T,P,U){function ae(){return(ae=(0,k.Z)(function*(be,Ne,xe){try{"event"===be?yield Oo(w,T,P,Ne,xe):"config"===be?yield No(w,T,P,U,Ne,xe):w("set",Ne)}catch(Ct){un.error(Ct)}})).apply(this,arguments)}return function(be,Ne,xe){return ae.apply(this,arguments)}}(ae,w,T,P),{gtagCore:ae,wrappedGtag:window[Q]}}(Be,Hr,ku,pr,"gtag");Jt=ae,_l=be,yl=!0}return Be[U]=function(w,T,P,U,Q,ae,be){return Ls.apply(this,arguments)}(w,Hr,ku,T,_l,pr,P),new cn(w)}function vl(){return(vl=(0,k.Z)(function*(w,T,P,U,Q){if(Q&&Q.global)w("event",P,U);else{const ae=yield T;w("event",P,Object.assign(Object.assign({},U),{send_to:ae}))}})).apply(this,arguments)}function si(){return pd.apply(this,arguments)}function pd(){return(pd=(0,k.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(w){return!1}})).apply(this,arguments)}const gd="@firebase/analytics";(0,ue._registerComponent)(new K.wA(Mo,(T,{options:P})=>tr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,ue._registerComponent)(new K.wA("analytics-internal",function(T){try{const P=T.getProvider(Mo).getImmediate();return{logEvent:(U,Q,ae)=>function(w,T,P,U){w=(0,ne.m9)(w),function(w,T,P,U,Q){return vl.apply(this,arguments)}(Jt,Be[w.app.options.appId],T,P,U).catch(Q=>un.error(Q))}(P,U,Q,ae)}}catch(P){throw ri.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,ue.registerVersion)(gd,"0.7.4"),(0,ue.registerVersion)(gd,"0.7.4","esm2017");var S_=L(7771),bl=L(3637),Yp=L(3342),Fu=L(3101),Qp=L(309);const _d=new h.GfV("7.2.0"),Lu="__angularfire_symbol__analyticsIsSupported",hs="__angularfire_symbol__remoteConfigIsSupported",Bi="__angularfire_symbol__messagingIsSupported";function bi(w,T,P){if(T){if(1===T.length)return T[0];const ae=T.filter(be=>be.app===P);if(1===ae.length)return ae[0]}return P.container.getProvider(w).getImmediate({optional:!0})}globalThis[Lu]||(globalThis[Lu]=si().then(w=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=w)),globalThis[Bi]||(globalThis[Bi]=od().then(w=>globalThis.__angularfire_symbol__messagingIsSupportedValue=w)),globalThis[hs]||(globalThis[hs]=Cu().then(w=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=w));const Da=(w,T)=>{const P=T?[T]:(0,ee.C6)(),U=[];return P.forEach(Q=>{Q.container.getProvider(w).instances.forEach(be=>{U.includes(be)||U.push(be)})}),U};function Gr(){}class ji{constructor(T,P=S_.N){this.zone=T,this.delegate=P}now(){return this.delegate.now()}schedule(T,P,U){const Q=this.zone;return this.delegate.schedule(function(be){Q.runGuarded(()=>{T.apply(this,[be])})},P,U)}}class vd{constructor(T){this.zone=T,this.task=null}call(T,P){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gr,{},Gr,Gr)),P.pipe((0,Yp.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uu=(()=>{class w{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new ji(Zone.current)),this.insideAngular=P.run(()=>new ji(Zone.current,bl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(P){return new(P||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function $s(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Nn(w){return $s(),function(w){return function(P){return(P=P.lift(new vd(w.ngZone))).pipe((0,Fu.R)(w.outsideAngular),(0,Qp.QV)(w.insideAngular))}}($s())(w)}},3854:(je,Ee,L)=>{"use strict";L.d(Ee,{BH:()=>oe,LL:()=>Ue,ZR:()=>St,gQ:()=>we,zI:()=>et,hu:()=>ee,g5:()=>k,US:()=>K,tV:()=>J,h$:()=>pe,$s:()=>jt,r3:()=>Kt,Sg:()=>ce,ne:()=>kn,p$:()=>F,vZ:()=>Rt,ZB:()=>B,gK:()=>ze,pd:()=>_i,m9:()=>_u,z$:()=>ye,GJ:()=>mi,jU:()=>te,ru:()=>de,xb:()=>nn,w1:()=>Ve,hl:()=>tn,uI:()=>ge,UG:()=>he,Yr:()=>Dt,b$:()=>me,w9:()=>Xi,cI:()=>Mi,UI:()=>Sn,xO:()=>mo,zd:()=>Qr,DV:()=>go,ug:()=>Lt,dS:()=>cr,Pz:()=>ta,Dv:()=>ur,Wj:()=>_t,lb:()=>yt,eu:()=>at});const ee=function(G,j){if(!G)throw k(j)},k=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ue=function(G){const j=[];let Z=0;for(let ve=0;ve<G.length;ve++){let ie=G.charCodeAt(ve);ie<128?j[Z++]=ie:ie<2048?(j[Z++]=ie>>6|192,j[Z++]=63&ie|128):55296==(64512&ie)&&ve+1<G.length&&56320==(64512&G.charCodeAt(ve+1))?(ie=65536+((1023&ie)<<10)+(1023&G.charCodeAt(++ve)),j[Z++]=ie>>18|240,j[Z++]=ie>>12&63|128,j[Z++]=ie>>6&63|128,j[Z++]=63&ie|128):(j[Z++]=ie>>12|224,j[Z++]=ie>>6&63|128,j[Z++]=63&ie|128)}return j},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let ie=0;ie<G.length;ie+=3){const Oe=G[ie],rt=ie+1<G.length,Pt=rt?G[ie+1]:0,dn=ie+2<G.length,hn=dn?G[ie+2]:0;let jn=(15&Pt)<<2|hn>>6,Rs=63&hn;dn||(Rs=64,rt||(jn=64)),ve.push(Z[Oe>>2],Z[(3&Oe)<<4|Pt>>4],Z[jn],Z[Rs])}return ve.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(ue(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let Z=0,ve=0;for(;Z<G.length;){const ie=G[Z++];if(ie<128)j[ve++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Oe=G[Z++];j[ve++]=String.fromCharCode((31&ie)<<6|63&Oe)}else if(ie>239&&ie<365){const dn=((7&ie)<<18|(63&G[Z++])<<12|(63&G[Z++])<<6|63&G[Z++])-65536;j[ve++]=String.fromCharCode(55296+(dn>>10)),j[ve++]=String.fromCharCode(56320+(1023&dn))}else{const Oe=G[Z++],rt=G[Z++];j[ve++]=String.fromCharCode((15&ie)<<12|(63&Oe)<<6|63&rt)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const Z=j?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let ie=0;ie<G.length;){const Oe=Z[G.charAt(ie++)],Pt=ie<G.length?Z[G.charAt(ie)]:0;++ie;const hn=ie<G.length?Z[G.charAt(ie)]:64;++ie;const Tt=ie<G.length?Z[G.charAt(ie)]:64;if(++ie,null==Oe||null==Pt||null==hn||null==Tt)throw Error();ve.push(Oe<<2|Pt>>4),64!==hn&&(ve.push(Pt<<4&240|hn>>2),64!==Tt&&ve.push(hn<<6&192|Tt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},pe=function(G){const j=ue(G);return K.encodeByteArray(j,!0)},Y=function(G){return pe(G).replace(/\./g,"")},J=function(G){try{return K.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function F(G){return B(void 0,G)}function B(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const Z in j)!j.hasOwnProperty(Z)||!H(Z)||(G[Z]=B(G[Z],j[Z]));return G}function H(G){return"__proto__"!==G}class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Z)=>{this.resolve=j,this.reject=Z})}wrapCallback(j){return(Z,ve)=>{Z?this.reject(Z):this.resolve(ve),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Z):j(Z,ve))}}}function ce(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=j||"demo-project",ie=G.iat||0,Oe=G.sub||G.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:ie,exp:ie+3600,auth_time:ie,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(rt)),""].join(".")}function ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function te(){return"object"==typeof self&&self.self===self}function de(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){const G=ye();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Dt(){return!1}function tn(){return"object"==typeof indexedDB}function at(){return new Promise((G,j)=>{try{let Z=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ve);ie.onsuccess=()=>{ie.result.close(),Z||self.indexedDB.deleteDatabase(ve),G(!0)},ie.onupgradeneeded=()=>{Z=!1},ie.onerror=()=>{var Oe;j((null===(Oe=ie.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(Z){j(Z)}})}function et(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class St extends Error{constructor(j,Z,ve){super(Z),this.code=j,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,St.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(j,Z,ve){this.service=j,this.serviceName=Z,this.errors=ve}create(j,...Z){const ve=Z[0]||{},ie=`${this.service}/${j}`,Oe=this.errors[j],rt=Oe?function(G,j){return G.replace(Ji,(Z,ve)=>{const ie=j[ve];return null!=ie?String(ie):`<${ve}?>`})}(Oe,ve):"Error";return new St(ie,`${this.serviceName}: ${rt} (${ie}).`,ve)}}const Ji=/\{\$([^}]+)}/g;function Mi(G){return JSON.parse(G)}function ta(G){return JSON.stringify(G)}const Ot=function(G){let j={},Z={},ve={},ie="";try{const Oe=G.split(".");j=Mi(J(Oe[0])||""),Z=Mi(J(Oe[1])||""),ie=Oe[2],ve=Z.d||{},delete Z.d}catch(Oe){}return{header:j,claims:Z,data:ve,signature:ie}},Xi=function(G){const Z=Ot(G).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},mi=function(G){const j=Ot(G).claims;return"object"==typeof j&&!0===j.admin};function Kt(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function go(G,j){if(Object.prototype.hasOwnProperty.call(G,j))return G[j]}function nn(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function Sn(G,j,Z){const ve={};for(const ie in G)Object.prototype.hasOwnProperty.call(G,ie)&&(ve[ie]=j.call(Z,G[ie],ie,G));return ve}function Rt(G,j){if(G===j)return!0;const Z=Object.keys(G),ve=Object.keys(j);for(const ie of Z){if(!ve.includes(ie))return!1;const Oe=G[ie],rt=j[ie];if(rn(Oe)&&rn(rt)){if(!Rt(Oe,rt))return!1}else if(Oe!==rt)return!1}for(const ie of ve)if(!Z.includes(ie))return!1;return!0}function rn(G){return null!==G&&"object"==typeof G}function mo(G){const j=[];for(const[Z,ve]of Object.entries(G))Array.isArray(ve)?ve.forEach(ie=>{j.push(encodeURIComponent(Z)+"="+encodeURIComponent(ie))}):j.push(encodeURIComponent(Z)+"="+encodeURIComponent(ve));return j.length?"&"+j.join("&"):""}function Qr(G){const j={};return G.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[ie,Oe]=ve.split("=");j[decodeURIComponent(ie)]=decodeURIComponent(Oe)}}),j}function _i(G){const j=G.indexOf("?");if(!j)return"";const Z=G.indexOf("#",j);return G.substring(j,Z>0?Z:void 0)}class we{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,Z){Z||(Z=0);const ve=this.W_;if("string"==typeof j)for(let Tt=0;Tt<16;Tt++)ve[Tt]=j.charCodeAt(Z)<<24|j.charCodeAt(Z+1)<<16|j.charCodeAt(Z+2)<<8|j.charCodeAt(Z+3),Z+=4;else for(let Tt=0;Tt<16;Tt++)ve[Tt]=j[Z]<<24|j[Z+1]<<16|j[Z+2]<<8|j[Z+3],Z+=4;for(let Tt=16;Tt<80;Tt++){const jn=ve[Tt-3]^ve[Tt-8]^ve[Tt-14]^ve[Tt-16];ve[Tt]=4294967295&(jn<<1|jn>>>31)}let hn,Kn,ie=this.chain_[0],Oe=this.chain_[1],rt=this.chain_[2],Pt=this.chain_[3],dn=this.chain_[4];for(let Tt=0;Tt<80;Tt++){Tt<40?Tt<20?(hn=Pt^Oe&(rt^Pt),Kn=1518500249):(hn=Oe^rt^Pt,Kn=1859775393):Tt<60?(hn=Oe&rt|Pt&(Oe|rt),Kn=2400959708):(hn=Oe^rt^Pt,Kn=3395469782);const jn=(ie<<5|ie>>>27)+hn+dn+Kn+ve[Tt]&4294967295;dn=Pt,Pt=rt,rt=4294967295&(Oe<<30|Oe>>>2),Oe=ie,ie=jn}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+rt&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+dn&4294967295}update(j,Z){if(null==j)return;void 0===Z&&(Z=j.length);const ve=Z-this.blockSize;let ie=0;const Oe=this.buf_;let rt=this.inbuf_;for(;ie<Z;){if(0===rt)for(;ie<=ve;)this.compress_(j,ie),ie+=this.blockSize;if("string"==typeof j){for(;ie<Z;)if(Oe[rt]=j.charCodeAt(ie),++rt,++ie,rt===this.blockSize){this.compress_(Oe),rt=0;break}}else for(;ie<Z;)if(Oe[rt]=j[ie],++rt,++ie,rt===this.blockSize){this.compress_(Oe),rt=0;break}}this.inbuf_=rt,this.total_+=Z}digest(){const j=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&Z,Z/=256;this.compress_(this.buf_);let ve=0;for(let ie=0;ie<5;ie++)for(let Oe=24;Oe>=0;Oe-=8)j[ve]=this.chain_[ie]>>Oe&255,++ve;return j}}function kn(G,j){const Z=new bn(G,j);return Z.subscribe.bind(Z)}class bn{constructor(j,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{j(this)}).catch(ve=>{this.error(ve)})}next(j){this.forEachObserver(Z=>{Z.next(j)})}error(j){this.forEachObserver(Z=>{Z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Z,ve){let ie;if(void 0===j&&void 0===Z&&void 0===ve)throw new Error("Missing Observer.");ie=function(G,j){if("object"!=typeof G||null===G)return!1;for(const Z of["next","error","complete"])if(Z in G&&"function"==typeof G[Z])return!0;return!1}(j)?j:{next:j,error:Z,complete:ve},void 0===ie.next&&(ie.next=Jr),void 0===ie.error&&(ie.error=Jr),void 0===ie.complete&&(ie.complete=Jr);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(rt){}}),this.observers.push(ie),Oe}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,j)}sendOne(j,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Z(this.observers[j])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jr(){}const ur=function(G,j,Z,ve){let ie;if(ve<j?ie="at least "+j:ve>Z&&(ie=0===Z?"none":"no more than "+Z),ie)throw new Error(G+" failed: Was called with "+ve+(1===ve?" argument.":" arguments.")+" Expects "+ie+".")};function ze(G,j){return`${G} failed: ${j} argument `}function _t(G,j,Z,ve){if((!ve||Z)&&"function"!=typeof Z)throw new Error(ze(G,j)+"must be a valid function.")}function yt(G,j,Z,ve){if((!ve||Z)&&("object"!=typeof Z||null===Z))throw new Error(ze(G,j)+"must be a valid context object.")}const cr=function(G){const j=[];let Z=0;for(let ve=0;ve<G.length;ve++){let ie=G.charCodeAt(ve);if(ie>=55296&&ie<=56319){const Oe=ie-55296;ve++,ee(ve<G.length,"Surrogate pair missing trail surrogate."),ie=65536+(Oe<<10)+(G.charCodeAt(ve)-56320)}ie<128?j[Z++]=ie:ie<2048?(j[Z++]=ie>>6|192,j[Z++]=63&ie|128):ie<65536?(j[Z++]=ie>>12|224,j[Z++]=ie>>6&63|128,j[Z++]=63&ie|128):(j[Z++]=ie>>18|240,j[Z++]=ie>>12&63|128,j[Z++]=ie>>6&63|128,j[Z++]=63&ie|128)}return j},Lt=function(G){let j=0;for(let Z=0;Z<G.length;Z++){const ve=G.charCodeAt(Z);ve<128?j++:ve<2048?j+=2:ve>=55296&&ve<=56319?(j+=4,Z++):j+=3}return j};function jt(G,j=1e3,Z=2){const ve=j*Math.pow(Z,G),ie=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+ie)}function _u(G){return G&&G._delegate?G._delegate:G}},2329:(je,Ee,L)=>{"use strict";L.d(Ee,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=L(8026);(0,h.registerVersion)("firebase","9.5.0","app")},7841:(je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>h.Z});var h=L(3394);h.Z.registerVersion("firebase","9.5.0","app-compat")},941:(je,Ee,L)=>{"use strict";L.r(Ee);var h=L(8239),ee=L(3394),k=L(3854),ue=L(8026);function Y(_,f){var p={};for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&f.indexOf(E)<0&&(p[E]=_[E]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(_);D<E.length;D++)f.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(_,E[D])&&(p[E[D]]=_[E[D]])}return p}var St=L(5422),Ue=L(3910);const Xi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},mi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kt=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nn=new St.Yd("@firebase/auth");function Sn(_,...f){nn.logLevel<=St.in.ERROR&&nn.error(`Auth (${ue.SDK_VERSION}): ${_}`,...f)}function Rt(_,...f){throw _i(_,...f)}function rn(_,...f){return _i(_,...f)}function mo(_,f,p){const E=Object.assign(Object.assign({},mi()),{[f]:p});return new k.LL("auth","Firebase",E).create(f,{appName:_.name})}function Qr(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Rt(_,"argument-error"),mo(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _i(_,...f){if("string"!=typeof _){const p=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(p,...E)}return Kt.create(_,...f)}function we(_,f,...p){if(!_)throw _i(f,...p)}function kn(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Sn(f),new Error(f)}function bn(_,f){_||kn(f)}const Fe=new Map;function kt(_){bn(_ instanceof Function,"Expected a class definition");let f=Fe.get(_);return f?(bn(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Fe.set(_,f),f)}function ze(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function qe(){return"http:"===_t()||"https:"===_t()}function _t(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Lt{constructor(f,p){this.shortDelay=f,this.longDelay=p,bn(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Re(_,f){bn(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class We{static initialize(f,p,E){this.fetchImpl=f,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},es=new Lt(3e4,6e4);function jt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function nt(_,f,p,E){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(_,f,p,E,D={}){return _u(_,D,()=>{let R={},W={};E&&("GET"===f?W=E:R={body:JSON.stringify(E)});const se=(0,k.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Se=new(We.headers());return Se.set("Content-Type","application/json"),Se.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Se.set("X-Firebase-Locale",_.languageCode),We.fetch()(ve(_,_.config.apiHost,p,se),Object.assign({method:f,headers:Se,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function _u(_,f,p){return G.apply(this,arguments)}function G(){return(G=(0,h.Z)(function*(_,f,p){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},mu),f);try{const D=new ie(_),R=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const W=yield R.json();if("needConfirmation"in W)throw Oe(_,"account-exists-with-different-credential",W);if(R.ok&&!("errorMessage"in W))return W;{const se=R.ok?W.errorMessage:W.error.message,[Se,De]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Se)throw Oe(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Se)throw Oe(_,"email-already-in-use",W);const ke=E[Se]||Se.toLowerCase().replace(/[_\s]+/g,"-");if(De)throw mo(_,ke,De);Rt(_,ke)}}catch(D){if(D instanceof k.ZR)throw D;Rt(_,"network-request-failed")}})).apply(this,arguments)}function j(_,f,p,E){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(_,f,p,E,D={}){const R=yield nt(_,f,p,E,D);return"mfaPendingCredential"in R&&Rt(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function ve(_,f,p,E){const D=`${f}${p}?${E}`;return _.config.emulator?Re(_.config,D):`${_.config.apiScheme}://${D}`}class ie{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(rn(this.auth,"timeout")),es.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oe(_,f,p){const E={appName:_.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const D=rn(_,f,E);return D.customData._tokenResponse=p,D}function Pt(){return(Pt=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function dn(_,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Kn(_,f){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function jn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ps(){return(Ps=(0,h.Z)(function*(_,f=!1){const p=(0,k.m9)(_),E=yield p.getIdToken(f),D=Ms(E);we(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const R="object"==typeof D.firebase?D.firebase:void 0,W=null==R?void 0:R.sign_in_provider;return{claims:D,token:E,authTime:jn(el(D.auth_time)),issuedAtTime:jn(el(D.iat)),expirationTime:jn(el(D.exp)),signInProvider:W||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function el(_){return 1e3*Number(_)}function Ms(_){const[f,p,E]=_.split(".");if(void 0===f||void 0===p||void 0===E)return Sn("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,k.tV)(p);return D?JSON.parse(D):(Sn("Failed to decode base64 JWT payload"),null)}catch(D){return Sn("Caught error parsing JWT payload as JSON",D),null}}function Lr(_,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(E){throw E instanceof k.ZR&&Cr(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Cr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Xr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield p.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class Vr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ns(_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(_){var f;const p=_.auth,E=yield _.getIdToken(),D=yield Lr(_,Kn(p,{idToken:E}));we(null==D?void 0:D.users.length,p,"internal-error");const R=D.users[0];_._notifyReloadListener(R);const W=(null===(f=R.providerUserInfo)||void 0===f?void 0:f.length)?hr(R.providerUserInfo):[],se=Ht(_.providerData,W),ke=!!_.isAnonymous&&!(_.email&&R.passwordHash||(null==se?void 0:se.length)),Le={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:se,metadata:new Vr(R.createdAt,R.lastLoginAt),isAnonymous:ke};Object.assign(_,Le)})).apply(this,arguments)}function lt(){return(lt=(0,h.Z)(function*(_){const f=(0,k.m9)(_);yield Ns(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ht(_,f){return[..._.filter(E=>!f.some(D=>D.providerId===E.providerId)),...f]}function hr(_){return _.map(f=>{var{providerId:p}=f,E=Y(f,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function fn(){return(fn=(0,h.Z)(function*(_,f){const p=yield _u(_,{},()=>{const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:R}=_.config,W=ve(_,D,"/v1/token",`key=${R}`);return We.fetch()(W,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){we(f.idToken,"internal-error"),we(void 0!==f.idToken,"internal-error"),we(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=Ms(_);return we(f,"internal-error"),we(void 0!==f.exp,"internal-error"),we(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var E=this;return(0,h.Z)(function*(){return we(!E.accessToken||E.refreshToken,f,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var E=this;return(0,h.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:W}=yield function(_,f){return fn.apply(this,arguments)}(f,p);E.updateTokensAndExpiration(D,R,Number(W))})()}updateTokensAndExpiration(f,p,E){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,p){const{refreshToken:E,accessToken:D,expirationTime:R}=p,W=new br;return E&&(we("string"==typeof E,"internal-error",{appName:f}),W.refreshToken=E),D&&(we("string"==typeof D,"internal-error",{appName:f}),W.accessToken=D),R&&(we("number"==typeof R,"internal-error",{appName:f}),W.expirationTime=R),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new br,this.toJSON())}_performRefresh(){return kn("not implemented")}}function Wt(_,f){we("string"==typeof _||void 0===_,"internal-error",{appName:f})}class wr{constructor(f){var{uid:p,auth:E,stsTokenManager:D}=f,R=Y(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new Vr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,h.Z)(function*(){const E=yield Lr(p,p.stsTokenManager.getToken(p.auth,f));return we(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(f){return function(_){return Ps.apply(this,arguments)}(this,f)}reload(){return function(_){return lt.apply(this,arguments)}(this)}_assign(f){this!==f&&(we(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new wr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var E=this;return(0,h.Z)(function*(){let D=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),D=!0),p&&(yield Ns(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const p=yield f.getIdToken();return yield Lr(f,function(_,f){return Pt.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var E,D,R,W,se,Se,De,ke;const Le=null!==(E=p.displayName)&&void 0!==E?E:void 0,ct=null!==(D=p.email)&&void 0!==D?D:void 0,In=null!==(R=p.phoneNumber)&&void 0!==R?R:void 0,Js=null!==(W=p.photoURL)&&void 0!==W?W:void 0,Od=null!==(se=p.tenantId)&&void 0!==se?se:void 0,rc=null!==(Se=p._redirectEventId)&&void 0!==Se?Se:void 0,wg=null!==(De=p.createdAt)&&void 0!==De?De:void 0,Ig=null!==(ke=p.lastLoginAt)&&void 0!==ke?ke:void 0,{uid:ic,emailVerified:Dg,isAnonymous:Tg,providerData:yf,stsTokenManager:sc}=p;we(ic&&sc,f,"internal-error");const xd=br.fromJSON(this.name,sc);we("string"==typeof ic,f,"internal-error"),Wt(Le,f.name),Wt(ct,f.name),we("boolean"==typeof Dg,f,"internal-error"),we("boolean"==typeof Tg,f,"internal-error"),Wt(In,f.name),Wt(Js,f.name),Wt(Od,f.name),Wt(rc,f.name),Wt(wg,f.name),Wt(Ig,f.name);const kd=new wr({uid:ic,auth:f,email:ct,emailVerified:Dg,displayName:Le,isAnonymous:Tg,photoURL:Js,phoneNumber:In,tenantId:Od,stsTokenManager:xd,createdAt:wg,lastLoginAt:Ig});return yf&&Array.isArray(yf)&&(kd.providerData=yf.map(Go=>Object.assign({},Go))),rc&&(kd._redirectEventId=rc),kd}static _fromIdTokenResponse(f,p,E=!1){return(0,h.Z)(function*(){const D=new br;D.updateFromServerResponse(p);const R=new wr({uid:p.localId,auth:f,stsTokenManager:D,isAnonymous:E});return yield Ns(R),R})()}}const Ke=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(p,E){var D=this;return(0,h.Z)(function*(){D.storage[p]=E})()}_get(p){var E=this;return(0,h.Z)(function*(){const D=E.storage[p];return void 0===D?null:D})()}_remove(p){var E=this;return(0,h.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return _.type="NONE",_})();function fr(_,f,p){return`firebase:${_}:${f}:${p}`}class Ur{constructor(f,p,E){this.persistence=f,this.auth=p,this.userKey=E;const{config:D,name:R}=this.auth;this.fullUserKey=fr(this.userKey,D.apiKey,R),this.fullPersistenceKey=fr("persistence",D.apiKey,R),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?wr._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,h.Z)(function*(){if(p.persistence===f)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,E="authUser"){return(0,h.Z)(function*(){if(!p.length)return new Ur(kt(Ke),f,E);const D=(yield Promise.all(p.map(function(){var De=(0,h.Z)(function*(ke){if(yield ke._isAvailable())return ke});return function(ke){return De.apply(this,arguments)}}()))).filter(De=>De);let R=D[0]||kt(Ke);const W=fr(E,f.config.apiKey,f.name);let se=null;for(const De of p)try{const ke=yield De._get(W);if(ke){const Le=wr._fromJSON(f,ke);De!==R&&(se=Le),R=De;break}}catch(ke){}const Se=D.filter(De=>De._shouldAllowMigration);return R._shouldAllowMigration&&Se.length?(R=Se[0],se&&(yield R._set(W,se.toJSON())),yield Promise.all(p.map(function(){var De=(0,h.Z)(function*(ke){if(ke!==R)try{yield ke._remove(W)}catch(Le){}});return function(ke){return De.apply(this,arguments)}}())),new Ur(R,f,E)):new Ur(R,f,E)})()}}function Fn(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ts(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(yo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Mt(f))return"Blackberry";if(Wc(f))return"Webos";if($n(f))return"Safari";if((f.includes("chrome/")||vo(f))&&!f.includes("edge/"))return"Chrome";if(Qn(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function yo(_=(0,k.z$)()){return/firefox\//i.test(_)}function $n(_=(0,k.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function vo(_=(0,k.z$)()){return/crios\//i.test(_)}function ts(_=(0,k.z$)()){return/iemobile/i.test(_)}function Qn(_=(0,k.z$)()){return/android/i.test(_)}function Mt(_=(0,k.z$)()){return/blackberry/i.test(_)}function Wc(_=(0,k.z$)()){return/webos/i.test(_)}function Eo(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function xi(_=(0,k.z$)()){return Eo(_)||Qn(_)||Wc(_)||Mt(_)||/windows phone/i.test(_)||ts(_)}function Hn(_,f=[]){let p;switch(_){case"Browser":p=Fn((0,k.z$)());break;case"Worker":p=`${Fn((0,k.z$)())}-${_}`;break;default:p=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ue.SDK_VERSION}/${E}`}class Up{constructor(f,p){this.app=f,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wn(this),this.idTokenSubscription=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(f,p){var E=this;return p&&(this._popupRedirectResolver=kt(p)),this._initializationPromise=this.queue((0,h.Z)(function*(){var D,R;E._deleted||(E.persistenceManager=yield Ur.create(E,f),!E._deleted&&((null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p)}})()}initializeCurrentUser(f){var p=this;return(0,h.Z)(function*(){var E;let D=yield p.assertedPersistence.getCurrentUser();if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const R=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,W=null==D?void 0:D._redirectEventId,se=yield p.tryRedirectSignIn(f);(!R||R===W)&&(null==se?void 0:se.user)&&(D=se.user)}return D?D._redirectEventId?(we(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===D._redirectEventId?p.directlySetCurrentUser(D):p.reloadAndSetCurrentUserOrClear(D)):p.reloadAndSetCurrentUserOrClear(D):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var p=this;return(0,h.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(D){yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,h.Z)(function*(){try{yield Ns(f)}catch(E){if("auth/network-request-failed"!==E.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,h.Z)(function*(){const E=f?(0,k.m9)(f):null;return E&&we(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(f){var p=this;return(0,h.Z)(function*(){if(!p._deleted)return f&&we(p.tenantId===f.tenantId,p,"tenant-id-mismatch"),p.queue((0,h.Z)(function*(){yield p.directlySetCurrentUser(f),p.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var p=this;return this.queue((0,h.Z)(function*(){yield p.assertedPersistence.setPersistence(kt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,p,E){return this.registerStateListener(this.authStateSubscription,f,p,E)}onIdTokenChanged(f,p,E){return this.registerStateListener(this.idTokenSubscription,f,p,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var E=this;return(0,h.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(p);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,h.Z)(function*(){if(!p.redirectPersistenceManager){const E=f&&kt(f)||p._popupRedirectResolver;we(E,p,"argument-error"),p.redirectPersistenceManager=yield Ur.create(p,[kt(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,h.Z)(function*(){var E,D;return p._isInitialized&&(yield p.queue((0,h.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===f?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,h.Z)(function*(){if(f===p.currentUser)return p.queue((0,h.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,E,D){if(this._deleted)return()=>{};const R="function"==typeof p?p:p.next.bind(p),W=this._isInitialized?Promise.resolve():this._initializationPromise;return we(W,this,"internal-error"),W.then(()=>R(this.currentUser)),"function"==typeof p?f.addObserver(p,E,D):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,h.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Yt(_){return(0,k.m9)(_)}class Wn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(p=>this.observer=p)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function na(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ei(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class ra{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return kn("not implemented")}_getIdTokenResponse(f){return kn("not implemented")}_linkToIdToken(f,p){return kn("not implemented")}_getReauthenticationResolver(f){return kn("not implemented")}}function zc(_,f){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:resetPassword",jt(_,f))})).apply(this,arguments)}function Bh(_,f){return qc.apply(this,arguments)}function qc(){return(qc=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Bp(_,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:update",jt(_,f))})).apply(this,arguments)}function Zc(){return(Zc=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signInWithPassword",jt(_,f))})).apply(this,arguments)}function nl(_,f){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:sendOobCode",jt(_,f))})).apply(this,arguments)}function jp(_,f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,h.Z)(function*(_,f){return nl(_,f)})).apply(this,arguments)}function $p(_,f){return jh.apply(this,arguments)}function jh(){return(jh=(0,h.Z)(function*(_,f){return nl(_,f)})).apply(this,arguments)}function sa(_,f){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,h.Z)(function*(_,f){return nl(_,f)})).apply(this,arguments)}function rl(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(_,f){return nl(_,f)})).apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signInWithEmailLink",jt(_,f))})).apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signInWithEmailLink",jt(_,f))})).apply(this,arguments)}class la extends ra{constructor(f,p,E,D=null){super("password",E),this._email=f,this._password=p,this._tenantId=D}static _fromEmailAndPassword(f,p){return new la(f,p,"password")}static _fromEmailAndCode(f,p,E=null){return new la(f,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,h.Z)(function*(){switch(p.signInMethod){case"password":return function(_,f){return Zc.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(_,f){return aa.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Rt(f,"internal-error")}})()}_linkToIdToken(f,p){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Bh(f,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,f){return yi.apply(this,arguments)}(f,{idToken:p,email:E._email,oobCode:E._password});default:Rt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Br(_,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signInWithIdp",jt(_,f))})).apply(this,arguments)}class Jn extends ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Jn(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Rt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:D}=p,R=Y(p,["providerId","signInMethod"]);if(!E||!D)return null;const W=new Jn(E,D);return W.idToken=R.idToken||void 0,W.accessToken=R.accessToken||void 0,W.secret=R.secret,W.nonce=R.nonce,W.pendingToken=R.pendingToken||null,W}_getIdTokenResponse(f){return Br(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,Br(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Br(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,k.xO)(p)}return f}}function vi(_,f){return bu.apply(this,arguments)}function bu(){return(bu=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:sendVerificationCode",jt(_,f))})).apply(this,arguments)}function il(){return(il=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signInWithPhoneNumber",jt(_,f))})).apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,f){const p=yield j(_,"POST","/v1/accounts:signInWithPhoneNumber",jt(_,f));if(p.temporaryProof)throw Oe(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ca={USER_NOT_FOUND:"user-not-found"};function wo(){return(wo=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signInWithPhoneNumber",jt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ca)})).apply(this,arguments)}class xs extends ra{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new xs({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new xs({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function(_,f){return il.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function(_,f){return Ir.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return wo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:E,verificationCode:D}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:E,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:E,phoneNumber:D,temporaryProof:R}=f;return E||p||D||R?new xs({verificationId:p,verificationCode:E,phoneNumber:D,temporaryProof:R}):null}}class Gt{constructor(f){var p,E,D,R,W,se;const Se=(0,k.zd)((0,k.pd)(f)),De=null!==(p=Se.apiKey)&&void 0!==p?p:null,ke=null!==(E=Se.oobCode)&&void 0!==E?E:null,Le=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Se.mode)&&void 0!==D?D:null);we(De&&ke&&Le,"argument-error"),this.apiKey=De,this.operation=Le,this.code=ke,this.continueUrl=null!==(R=Se.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(W=Se.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(se=Se.tenantId)&&void 0!==se?se:null}static parseLink(f){const p=function(_){const f=(0,k.zd)((0,k.pd)(_)).link,p=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||p||f||_}(f);try{return new Gt(p)}catch(E){return null}}}let Ei=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,E){return la._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const D=Gt.parseLink(E);return we(D,"argument-error"),la._fromEmailAndCode(p,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ni{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Bt extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Io extends Bt{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return we("providerId"in p&&"signInMethod"in p,"argument-error"),Jn._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return we(f.idToken||f.accessToken,"argument-error"),Jn._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Io.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Io.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:R,nonce:W,providerId:se}=f;if(!E&&!D&&!p&&!R||!se)return null;try{return new Io(se)._credential({idToken:p,accessToken:E,nonce:W,pendingToken:R})}catch(Se){return null}}}let sl=(()=>{class _ extends Bt{constructor(){super("facebook.com")}static credential(p){return Jn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ks=(()=>{class _ extends Bt{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return Jn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:D}=p;if(!E&&!D)return null;try{return _.credential(E,D)}catch(R){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Dr=(()=>{class _ extends Bt{constructor(){super("github.com")}static credential(p){return Jn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class is extends ra{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Br(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,Br(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Br(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:D,pendingToken:R}=p;return E&&D&&R&&E===D?new is(E,R):null}static _create(f,p){return new is(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gn extends ni{constructor(f){we(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Gn.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Gn.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=is.fromJSON(f);return we(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:E}=f;if(!p||!E)return null;try{return is._create(E,p)}catch(D){return null}}}let ol=(()=>{class _ extends Bt{constructor(){super("twitter.com")}static credential(p,E){return Jn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=p;if(!E||!D)return null;try{return _.credential(E,D)}catch(R){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function al(_,f){return os.apply(this,arguments)}function os(){return(os=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signUp",jt(_,f))})).apply(this,arguments)}class pn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,E,D=!1){return(0,h.Z)(function*(){const R=yield wr._fromIdTokenResponse(f,E,D),W=da(E);return new pn({user:R,providerId:W,_tokenResponse:E,operationType:p})})()}static _forOperation(f,p,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const D=da(E);return new pn({user:f,providerId:D,_tokenResponse:E,operationType:p})})()}}function da(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ze(){return(Ze=(0,h.Z)(function*(_){var f;const p=Yt(_);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new pn({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield al(p,{returnSecureToken:!0}),D=yield pn._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class ll extends k.ZR{constructor(f,p,E,D){var R;super(p.code,p.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,ll.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,p,E,D){return new ll(f,p,E,D)}}function td(_,f,p,E){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ll._fromErrorAndOperation(_,R,f,E):R})}function ul(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function fa(){return(fa=(0,h.Z)(function*(_,f){const p=(0,k.m9)(_);yield Ce(!0,p,f);const{providerUserInfo:E}=yield dn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),D=ul(E||[]);return p.providerData=p.providerData.filter(R=>D.has(R.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Iu(_,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(_,f,p=!1){const E=yield Lr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return pn._forOperation(_,"link",E)})).apply(this,arguments)}function Ce(_,f,p){return ut.apply(this,arguments)}function ut(){return(ut=(0,h.Z)(function*(_,f,p){yield Ns(f);const D=!1===_?"provider-already-linked":"no-such-provider";we(ul(f.providerData).has(p)===_,f.auth,D)})).apply(this,arguments)}function cl(_,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(_,f,p=!1){const{auth:E}=_,D="reauthenticate";try{const R=yield Lr(_,td(E,D,f,_),p);we(R.idToken,E,"internal-error");const W=Ms(R.idToken);we(W,E,"internal-error");const{sub:se}=W;return we(_.uid===se,E,"user-mismatch"),pn._forOperation(_,D,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Rt(E,"user-mismatch"),R}})).apply(this,arguments)}function dl(_,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(_,f,p=!1){const E="signIn",D=yield td(_,E,f),R=yield pn._fromIdTokenResponse(_,E,D);return p||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Xn(_,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(_,f){return dl(Yt(_),f)})).apply(this,arguments)}function pa(_,f){return rd.apply(this,arguments)}function rd(){return(rd=(0,h.Z)(function*(_,f){const p=(0,k.m9)(_);return yield Ce(!1,p,f.providerId),Iu(p,f)})).apply(this,arguments)}function Du(_,f){return To.apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(_,f){return cl((0,k.m9)(_),f)})).apply(this,arguments)}function Ao(_,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(_,f){return j(_,"POST","/v1/accounts:signInWithCustomToken",jt(_,f))})).apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(_,f){const p=Yt(_),E=yield Ao(p,{token:f,returnSecureToken:!0}),D=yield pn._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class $r{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?er._fromServerResponse(f,p):Rt(f,"internal-error")}}class er extends $r{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new er(p)}}function Tu(_,f,p){var E;we((null===(E=p.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),we(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(we(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(we(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function ma(){return(ma=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_),D={requestType:"PASSWORD_RESET",email:f};p&&Tu(E,D,p),yield $p(E,D)})).apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(_,f,p){yield zc((0,k.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function fl(){return(fl=(0,h.Z)(function*(_,f){yield Bp((0,k.m9)(_),{oobCode:f})})).apply(this,arguments)}function So(_,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(_,f){const p=(0,k.m9)(_),E=yield zc(p,{oobCode:f}),D=E.requestType;switch(we(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(E.mfaInfo,p,"internal-error");default:we(E.email,p,"internal-error")}let R=null;return E.mfaInfo&&(R=$r._fromServerResponse(Yt(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:D}})).apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(_,f){const{data:p}=yield So((0,k.m9)(_),f);return p.email})).apply(this,arguments)}function Ru(){return(Ru=(0,h.Z)(function*(_,f,p){const E=Yt(_),D=yield al(E,{returnSecureToken:!0,email:f,password:p}),R=yield pn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_),D={requestType:"EMAIL_SIGNIN",email:f};we(p.handleCodeInApp,E,"argument-error"),p&&Tu(E,D,p),yield sa(E,D)})).apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_),D=Ei.credentialWithLink(f,p||ze());return we(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Xn(E,D)})).apply(this,arguments)}function Po(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:createAuthUri",jt(_,f))})).apply(this,arguments)}function Wh(){return(Wh=(0,h.Z)(function*(_,f){const E={identifier:f,continueUri:qe()?ze():"http://localhost"},{signinMethods:D}=yield Po((0,k.m9)(_),E);return D||[]})).apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(_,f){const p=(0,k.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Tu(p.auth,D,f);const{email:R}=yield jp(p.auth,D);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Tu(E.auth,R,p);const{email:W}=yield rl(E.auth,R);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function pl(_,f){return as.apply(this,arguments)}function as(){return(as=(0,h.Z)(function*(_,f){return nt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const E=(0,k.m9)(_),R={idToken:yield E.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},W=yield Lr(E,pl(E.auth,R));E.displayName=W.displayName||null,E.photoURL=W.photoUrl||null;const se=E.providerData.find(({providerId:Se})=>"password"===Se);se&&(se.displayName=E.displayName,se.photoURL=E.photoURL),yield E._updateTokensIfNecessary(W)})).apply(this,arguments)}function Li(_,f,p){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(_,f,p){const{auth:E}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),p&&(R.password=p);const W=yield Lr(_,Bh(E,R));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Oo{constructor(f,p,E={}){this.isNewUser=f,this.providerId=p,this.profile=E}}class ls extends Oo{constructor(f,p,E,D){super(f,p,E),this.username=D}}class Nu extends Oo{constructor(f,p){super(f,"facebook.com",p)}}class Ou extends ls{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class zp extends Oo{constructor(f,p){super(f,"google.com",p)}}class qp extends ls{constructor(f,p,E){super(f,"twitter.com",p,E)}}function ri(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,p;if(!_)return null;const{providerId:E}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const W=null===(p=null===(f=Ms(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(W)return new Oo(R,"anonymous"!==W&&"custom"!==W?W:null)}if(!E)return null;switch(E){case"facebook.com":return new Nu(R,D);case"github.com":return new Ou(R,D);case"google.com":return new zp(R,D);case"twitter.com":return new qp(R,D,_.screenName||null);case"custom":case"anonymous":return new Oo(R,null);default:return new Oo(R,E,D)}}(p)}class Tr{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new Tr("enroll",f)}static _fromMfaPendingCredential(f){return new Tr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,E;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Tr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Tr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ca{constructor(f,p,E){this.session=f,this.hints=p,this.signInResolver=E}static _fromError(f,p){const E=Yt(f),D=p.customData._serverResponse,R=(D.mfaInfo||[]).map(se=>$r._fromServerResponse(E,se));we(D.mfaPendingCredential,E,"internal-error");const W=Tr._fromMfaPendingCredential(D.mfaPendingCredential);return new Ca(W,R,function(){var se=(0,h.Z)(function*(Se){const De=yield Se._process(E,W);delete D.mfaInfo,delete D.mfaPendingCredential;const ke=Object.assign(Object.assign({},D),{idToken:De.idToken,refreshToken:De.refreshToken});switch(p.operationType){case"signIn":const Le=yield pn._fromIdTokenResponse(E,p.operationType,ke);return yield E._updateCurrentUser(Le.user),Le;case"reauthenticate":return we(p.user,E,"internal-error"),pn._forOperation(p.user,p.operationType,ke);default:Rt(E,"internal-error")}});return function(Se){return se.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,h.Z)(function*(){return p.signInResolver(f)})()}}function A_(_,f){return nt(_,"POST","/v2/accounts/mfaEnrollment:start",jt(_,f))}class hd{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>$r._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new hd(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Tr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var E=this;return(0,h.Z)(function*(){const D=f,R=yield E.getSession(),W=yield Lr(E.user,D._process(E.user.auth,R,p));return yield E.user._updateTokensIfNecessary(W),E.user.reload()})()}unenroll(f){var p=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,D=yield p.user.getIdToken(),R=yield Lr(p.user,function(_,f){return nt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(_,f))}(p.user.auth,{idToken:D,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:W})=>W!==E),yield p.user._updateTokensIfNecessary(R);try{yield p.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const ml=new WeakMap,Ls="__sak";class cn{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ls,"1"),this.storage.removeItem(Ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vs=(()=>{class _ extends cn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,k.z$)();return $n(_)||Eo(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=xi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),R=this.localCache[E];D!==R&&p(E,R,D)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((se,Se,De)=>{this.notifyListeners(se,De)});const D=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(D);if(p.newValue!==se)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!E)return}const R=()=>{const se=this.storage.getItem(D);!E&&this.localCache[D]===se||this.notifyListeners(D,se)},W=this.storage.getItem(D);(0,k.w1)()&&10===document.documentMode&&W!==p.newValue&&p.newValue!==p.oldValue?setTimeout(R,10):R()}notifyListeners(p,E){this.localCache[p]=E;const D=this.listeners[p];if(D)for(const R of Array.from(D))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var D=()=>super._set,R=this;return(0,h.Z)(function*(){yield D().call(R,p,E),R.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,D=this;return(0,h.Z)(function*(){const R=yield E().call(D,p);return D.localCache[p]=JSON.stringify(R),R})()}_remove(p){var E=()=>super._remove,D=this;return(0,h.Z)(function*(){yield E().call(D,p),delete D.localCache[p]})()}}return _.type="LOCAL",_})(),Jt=(()=>{class _ extends cn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return _.type="SESSION",_})();let Zp=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(R=>R.isListeningto(p));if(E)return E;const D=new _(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,h.Z)(function*(){const D=p,{eventId:R,eventType:W,data:se}=D.data,Se=E.handlersMap[W];if(!(null==Se?void 0:Se.size))return;D.ports[0].postMessage({status:"ack",eventId:R,eventType:W});const De=Array.from(Se).map(function(){var Le=(0,h.Z)(function*(ct){return ct(D.origin,se)});return function(ct){return Le.apply(this,arguments)}}()),ke=yield function(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return f.apply(this,arguments)}}()))}(De);D.ports[0].postMessage({status:"done",eventId:R,eventType:W,response:ke})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function cs(_="",f=10){let p="";for(let E=0;E<f;E++)p+=Math.floor(10*Math.random());return _+p}class tr{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,E=50){var D=this;return(0,h.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let W,se;return new Promise((Se,De)=>{const ke=cs("",20);R.port1.start();const Le=setTimeout(()=>{De(new Error("unsupported_event"))},E);se={messageChannel:R,onMessage(ct){const In=ct;if(In.data.eventId===ke)switch(In.data.status){case"ack":clearTimeout(Le),W=setTimeout(()=>{De(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Se(In.data.response);break;default:clearTimeout(Le),clearTimeout(W),De(new Error("invalid_response"))}}},D.handlers.add(se),R.port1.addEventListener("message",se.onMessage),D.target.postMessage({eventType:f,eventId:ke,data:p},[R.port2])}).finally(()=>{se&&D.removeMessageHandler(se)})})()}}function mn(){return window}function wa(){return void 0!==mn().WorkerGlobalScope&&"function"==typeof mn().importScripts}function El(){return(El=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Wr="firebaseLocalStorageDb",ii="firebaseLocalStorage",Us="fbase_key";class gr{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function si(_,f){return _.transaction([ii],f?"readwrite":"readonly").objectStore(ii)}function bt(){const _=indexedDB.open(Wr,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(ii,{keyPath:Us})}catch(D){p(D)}}),_.addEventListener("success",(0,h.Z)(function*(){const E=_.result;E.objectStoreNames.contains(ii)?f(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(Wr);return new gr(_).toPromise()}(),f(yield bt()))}))})}function ko(_,f,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(_,f,p){const E=si(_,!0).put({[Us]:f,value:p});return new gr(E).toPromise()})).apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(_,f){const p=si(_,!1).get(f),E=yield new gr(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function gd(_,f){const p=si(_,!0).delete(f);return new gr(p).toPromise()}const bl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,h.Z)(function*(){return p.db||(p.db=yield bt()),p.db})()}_withRetries(p){var E=this;return(0,h.Z)(function*(){let D=0;for(;;)try{const R=yield E._openDb();return yield p(R)}catch(R){if(D++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,h.Z)(function*(){return wa()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,h.Z)(function*(){p.receiver=Zp._getInstance(wa()?self:null),p.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(D,R){return{keyProcessed:(yield p._poll()).includes(R.key)}});return function(D,R){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(D,R){return["keyChanged"]});return function(D,R){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,h.Z)(function*(){var E,D;if(p.activeServiceWorker=yield function(){return El.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new tr(p.activeServiceWorker);const R=yield p.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=R[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const p=yield bt();return yield ko(p,Ls,"1"),yield gd(p,Ls),!0}catch(p){}return!1})()}_withPendingWrite(p){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var D=this;return(0,h.Z)(function*(){return D._withPendingWrite((0,h.Z)(function*(){return yield D._withRetries(R=>ko(R,p,E)),D.localCache[p]=E,D.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,h.Z)(function*(){const D=yield E._withRetries(R=>function(_,f){return Qt.apply(this,arguments)}(R,p));return E.localCache[p]=D,D})()}_remove(p){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(D=>gd(D,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,h.Z)(function*(){const E=yield p._withRetries(W=>{const se=si(W,!1).getAll();return new gr(se).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const D=[],R=new Set;for(const{fbase_key:W,value:se}of E)R.add(W),JSON.stringify(p.localCache[W])!==JSON.stringify(se)&&(p.notifyListeners(W,se),D.push(W));for(const W of Object.keys(p.localCache))p.localCache[W]&&!R.has(W)&&(p.notifyListeners(W,null),D.push(W));return D})()}notifyListeners(p,E){this.localCache[p]=E;const D=this.listeners[p];if(D)for(const R of Array.from(D))R(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Yp(_,f){return nt(_,"POST","/v2/accounts/mfaSignIn:start",jt(_,f))}function _d(){return(_d=(0,h.Z)(function*(_){return(yield nt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lu(_){return new Promise((f,p)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=D=>{const R=rn("internal-error");R.customData=D,p(R)},E.type="text/javascript",E.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function js(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Bi=1e12;class yn{constructor(f){this.auth=f,this.counter=Bi,this._widgets=new Map}render(f,p){const E=this.counter;return this._widgets.set(E,new Vu(f,this.auth.name,p||{})),this.counter++,E}reset(f){var p;const E=f||Bi;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Bi))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,h.Z)(function*(){var E;return null===(E=p._widgets.get(f||Bi))||void 0===E||E.execute(),""})()}}class Vu{constructor(f,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;we(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}();const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ar=js("rcb"),bi=new Lt(3e4,6e4);class Gr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!mn().grecaptcha}load(f,p=""){return we((_=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(mn().grecaptcha):new Promise((E,D)=>{const R=mn().setTimeout(()=>{D(rn(f,"network-request-failed"))},bi.get());mn()[Ar]=()=>{mn().clearTimeout(R),delete mn()[Ar];const se=mn().grecaptcha;if(!se)return void D(rn(f,"internal-error"));const Se=se.render;se.render=(De,ke)=>{const Le=Se(De,ke);return this.counter++,Le},this.hostLanguage=p,E(se)},Lu(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Ar,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(R),D(rn(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!mn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vd{load(f){return(0,h.Z)(function*(){return new yn(f)})()}clearedOneInstance(){}}const Uu="recaptcha",$s={theme:"light",type:"image"};class Jp{constructor(f,p=Object.assign({},$s),E){this.parameters=p,this.type=Uu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yt(E),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof f?document.getElementById(f):f;we(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vd:new Gr,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(p)||new Promise(R=>{const W=se=>{!se||(f.tokenChangeListeners.delete(W),R(se))};f.tokenChangeListeners.add(W),f.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof f)f(p);else if("string"==typeof f){const E=mn()[f];"function"==typeof E&&E(p)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){we(qe()&&!wa(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function(_){return _d.apply(this,arguments)}(f.auth);we(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bu{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=xs._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Nn(){return(Nn=(0,h.Z)(function*(_,f,p){const E=Yt(_),D=yield T(E,f,(0,k.m9)(p));return new Bu(D,R=>Xn(E,R))})).apply(this,arguments)}function ju(){return(ju=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_);yield Ce(!1,E,"phone");const D=yield T(E.auth,f,(0,k.m9)(p));return new Bu(D,R=>pa(E,R))})).apply(this,arguments)}function w(){return(w=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_),D=yield T(E.auth,f,(0,k.m9)(p));return new Bu(D,R=>Du(E,R))})).apply(this,arguments)}function T(_,f,p){return P.apply(this,arguments)}function P(){return(P=(0,h.Z)(function*(_,f,p){var E;const D=yield p.verify();try{let R;if(we("string"==typeof D,_,"argument-error"),we(p.type===Uu,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const W=R.session;if("phoneNumber"in R)return we("enroll"===W.type,_,"internal-error"),(yield A_(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{we("signin"===W.type,_,"internal-error");const se=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return we(se,_,"missing-multi-factor-info"),(yield Yp(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield vi(_,{phoneNumber:R.phoneNumber,recaptchaToken:D});return W}}finally{p._reset()}})).apply(this,arguments)}function Q(){return(Q=(0,h.Z)(function*(_,f){yield Iu((0,k.m9)(_),f)})).apply(this,arguments)}let ae=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Yt(p)}verifyPhoneNumber(p,E){return T(this.auth,p,(0,k.m9)(E))}static credential(p,E){return xs._fromVerification(p,E)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:D}=p;return E&&D?xs._fromTokenResponse(E,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function be(_,f){return f?kt(f):(we(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ne extends ra{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Br(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Br(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Br(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function xe(_){return dl(_.auth,new Ne(_),_.bypassAuthState)}function Ct(_){const{auth:f,user:p}=_;return we(p,f,"internal-error"),cl(p,new Ne(_),_.bypassAuthState)}function zt(_){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(_){const{auth:f,user:p}=_;return we(p,f,"internal-error"),Iu(p,new Ne(_),_.bypassAuthState)})).apply(this,arguments)}class mr{constructor(f,p,E,D,R=!1){this.auth=f,this.resolver=E,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,h.Z)(function*(E,D){f.pendingPromise={resolve:E,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(E,D){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:R,tenantId:W,error:se,type:Se}=f;if(se)return void p.reject(se);const De={auth:p.auth,requestUri:E,sessionId:D,tenantId:W||void 0,postBody:R||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Se)(De))}catch(ke){p.reject(ke)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return xe;case"linkViaPopup":case"linkViaRedirect":return zt;case"reauthViaPopup":case"reauthViaRedirect":return Ct;default:Rt(this.auth,"internal-error")}}resolve(f){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const On=new Lt(2e3,1e4);function Ws(){return(Ws=(0,h.Z)(function*(_,f,p){const E=Yt(_);Qr(_,f,ni);const D=be(E,p);return new Qh(E,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_);Qr(E.auth,f,ni);const D=be(E.auth,p);return new Qh(E.auth,"reauthViaPopup",f,D,E).executeNotNull()})).apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_);Qr(E.auth,f,ni);const D=be(E.auth,p);return new Qh(E.auth,"linkViaPopup",f,D,E).executeNotNull()})).apply(this,arguments)}let Qh=(()=>{class _ extends mr{constructor(p,E,D,R,W){super(p,E,R,W),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,h.Z)(function*(){const E=yield p.execute();return we(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,h.Z)(function*(){bn(1===p.filter.length,"Popup operations only handle one event");const E=cs();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(rn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,On.get())};p()}}return _.currentPopupAction=null,_})();const Dl=new Map;class Xp extends mr{constructor(f,p,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,h.Z)(function*(){let E=Dl.get(p.auth._key());if(!E){try{const R=(yield function(_,f){return Aa.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;E=()=>Promise.resolve(R)}catch(D){E=()=>Promise.reject(D)}Dl.set(p.auth._key(),E)}return p.bypassAuthState||Dl.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(E,f);if("unknown"!==f.type){if(f.eventId){const D=yield E.auth._redirectUserForId(f.eventId);if(D)return E.user=D,p().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Aa(){return(Aa=(0,h.Z)(function*(_,f){const p=Lo(f),E=eg(_);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(p));return yield E._remove(p),D})).apply(this,arguments)}function Jh(_,f){return li.apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(_,f){return eg(_)._set(Lo(f),"true")})).apply(this,arguments)}function eg(_){return kt(_._redirectPersistence)}function Lo(_){return fr("pendingRedirect",_.config.apiKey,_.name)}function Vn(){return(Vn=(0,h.Z)(function*(_,f,p){const E=Yt(_);Qr(_,f,ni);const D=be(E,p);return yield Jh(D,E),D._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Tl(){return(Tl=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_);Qr(E.auth,f,ni);const D=be(E.auth,p);yield Jh(D,E.auth);const R=yield Sa(E);return D._openRedirect(E.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Ed(){return(Ed=(0,h.Z)(function*(_,f,p){const E=(0,k.m9)(_);Qr(E.auth,f,ni);const D=be(E.auth,p);yield Ce(!1,E,f.providerId),yield Jh(D,E.auth);const R=yield Sa(E);return D._openRedirect(E.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Gs(){return(Gs=(0,h.Z)(function*(_,f){return yield Yt(_)._initializationPromise,zs(_,f,!1)})).apply(this,arguments)}function zs(_,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,h.Z)(function*(_,f,p=!1){const E=Yt(_),D=be(E,f),W=yield new Xp(E,D,p).execute();return W&&!p&&(delete W.user._redirectEventId,yield E._persistUserIfCurrent(W.user),yield E._setRedirectUser(null,f)),W})).apply(this,arguments)}function Sa(_){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(_){const f=cs(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class M_{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(p=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rg(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var E;if(f.error&&!rg(f)){const D=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(rn(this.auth,D))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const E=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uo(f))}saveEventToCache(f){this.cachedEventUids.add(Uo(f)),this.lastProcessedEventTime=Date.now()}}function Uo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function rg({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Sl(_){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,h.Z)(function*(_,f={}){return nt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const qs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gu=/^https?/;function zu(){return(zu=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Sl(_);for(const p of f)try{if(Cd(p))return}catch(E){}Rt(_,"unauthorized-domain")})).apply(this,arguments)}function Cd(_){const f=ze(),{protocol:p,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===E?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&W.hostname===E}if(!Gu.test(p))return!1;if(qs.test(_))return E===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const qu=new Lt(3e4,6e4);function Rl(){const _=mn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Pl=null;function Ra(_){return Pl=Pl||function(_){return new Promise((f,p)=>{var E,D,R;function W(){Rl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Rl(),p(rn(_,"network-request-failed"))},timeout:qu.get()})}if(null===(D=null===(E=mn().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)f(gapi.iframes.getContext());else{if(!(null===(R=mn().gapi)||void 0===R?void 0:R.load)){const se=js("iframefcb");return mn()[se]=()=>{gapi.load?W():p(rn(_,"network-request-failed"))},Lu(`https://apis.google.com/js/api.js?onload=${se}`)}W()}}).catch(f=>{throw Pl=null,f})}(_),Pl}const N_=new Lt(5e3,15e3),x_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zs(_){const f=_.config;we(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?Re(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:ue.SDK_VERSION},D=k_.get(_.config.apiHost);D&&(E.eid=D);const R=_._getFrameworks();return R.length&&(E.fw=R.join(",")),`${p}?${(0,k.xO)(E).slice(1)}`}function wd(){return(wd=(0,h.Z)(function*(_){const f=yield Ra(_),p=mn().gapi;return we(p,_,"internal-error"),f.open({where:document.body,url:Zs(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x_,dontclear:!0},E=>new Promise(function(){var D=(0,h.Z)(function*(R,W){yield E.restyle({setHideOnLeave:!1});const se=rn(_,"network-request-failed"),Se=mn().setTimeout(()=>{W(se)},N_.get());function De(){mn().clearTimeout(Se),R(E)}E.ping(De).then(De,()=>{W(se)})});return function(R,W){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const sg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Id{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function lg(_,f,p,E,D,R){we(_.config.authDomain,_,"auth-domain-config-required"),we(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:E,v:ue.SDK_VERSION,eventId:D};if(f instanceof ni){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Se,De]of Object.entries(R||{}))W[Se]=De}if(f instanceof Bt){const Se=f.getScopes().filter(De=>""!==De);Se.length>0&&(W.scopes=Se.join(","))}_.tenantId&&(W.tid=_.tenantId);const se=W;for(const Se of Object.keys(se))void 0===se[Se]&&delete se[Se];return`${function({config:_}){return _.emulator?Re(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(se).slice(1)}`}const jo="webStorageSupport";class Nl extends class{constructor(f){this.factorId=f}_process(f,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,E);case"signin":return this._finalizeSignIn(f,p.credential);default:return kn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Nl(f)}_finalizeEnroll(f,p,E){return function(_,f){return nt(_,"POST","/v2/accounts/mfaEnrollment:finalize",jt(_,f))}(f,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function(_,f){return nt(_,"POST","/v2/accounts/mfaSignIn:finalize",jt(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ug=(()=>{class _{constructor(){}static assertion(p){return Nl._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var _,Ol="@firebase/auth";class fC{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,h.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(E=>{var D;f((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ui(){return window}function Yu(){return(Yu=(0,h.Z)(function*(_,f,p){var E;const{BuildInfo:D}=ui();bn(f.sessionId,"AuthEvent did not contain a session ID");const R=yield Xu(f.sessionId),W={};return Eo()?W.ibi=D.packageName:Qn()?W.apn=D.packageName:Rt(_,"operation-not-supported-in-this-environment"),D.displayName&&(W.appDisplayName=D.displayName),W.sessionId=R,lg(_,p,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,W)})).apply(this,arguments)}function Qu(){return(Qu=(0,h.Z)(function*(_){const{BuildInfo:f}=ui(),p={};Eo()?p.iosBundleId=f.packageName:Qn()?p.androidPackageName=f.packageName:Rt(_,"operation-not-supported-in-this-environment"),yield Sl(_,p)})).apply(this,arguments)}function Ad(){return(Ad=(0,h.Z)(function*(_,f,p){const{cordova:E}=ui();let D=()=>{};try{yield new Promise((R,W)=>{let se=null;function Se(){var Le;R();const ct=null===(Le=E.plugins.browsertab)||void 0===Le?void 0:Le.close;"function"==typeof ct&&ct(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function De(){se||(se=window.setTimeout(()=>{W(rn(_,"redirect-cancelled-by-user"))},2e3))}function ke(){"visible"===(null==document?void 0:document.visibilityState)&&De()}f.addPassiveListener(Se),document.addEventListener("resume",De,!1),Qn()&&document.addEventListener("visibilitychange",ke,!1),D=()=>{f.removePassiveListener(Se),document.removeEventListener("resume",De,!1),document.removeEventListener("visibilitychange",ke,!1),se&&window.clearTimeout(se)}})}finally{D()}})).apply(this,arguments)}function Xu(_){return ec.apply(this,arguments)}function ec(){return(ec=(0,h.Z)(function*(_){const f=of(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function of(_){if(bn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let E=0;E<_.length;E++)p[E]=_.charCodeAt(E);return p}_="Browser",(0,ue._registerComponent)(new Ue.wA("auth",(f,{options:p})=>{const E=f.getProvider("app").getImmediate(),{apiKey:D,authDomain:R}=E.options;return(W=>{we(D&&!D.includes(":"),"invalid-api-key",{appName:W.name}),we(!(null==R?void 0:R.includes(":")),"argument-error",{appName:W.name});const se={apiKey:D,authDomain:R,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(_)},Se=new Up(W,se);return function(_,f){const p=(null==f?void 0:f.persistence)||[],E=(Array.isArray(p)?p:[p]).map(kt);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Se,p),Se})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,E)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Ue.wA("auth-internal",f=>{const p=Yt(f.getProvider("auth").getImmediate());return new fC(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Ol,"0.19.3",void 0),(0,ue.registerVersion)(Ol,"0.19.3","esm2017");class hg extends M_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function lf(_){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,h.Z)(function*(_){const f=yield fs()._get(cf(_));return f&&(yield fs()._remove(cf(_))),f})).apply(this,arguments)}function uf(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const E=Math.floor(Math.random()*f.length);_.push(f.charAt(E))}return _.join("")}function fs(){return kt(Vs)}function cf(_){return fr("authEvent",_.config.apiKey,_.name)}function $o(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...p]=_.split("?");return(0,k.zd)(p.join("?"))}function Ma(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}function Ll(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ff(_=(0,k.z$)()){return!("file:"!==Ll()&&"ionic:"!==Ll()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function pg(){try{const _=self.localStorage,f=cs();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,k.z$)()){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return gf()&&(0,k.hl)()}return!1}function gf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pd(){return("http:"===Ll()||"https:"===Ll()||(0,k.ru)()||ff())&&!((0,k.b$)()||(0,k.UG)())&&pg()&&!gf()}function Na(){return ff()&&"undefined"!=typeof document}function Md(){return(Md=(0,h.Z)(function*(){return!!Na()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const _r={LOCAL:"local",NONE:"none",SESSION:"session"},Oa=we,Ho="persistence";function _f(_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(_){yield _._initializationPromise;const f=mg(),p=fr(Ho,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(p,_._getPersistence())})).apply(this,arguments)}function mg(){return"undefined"!=typeof window?window:null}const G_=we;class ps{constructor(){this.browserResolver=kt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jt,this._completeRedirectFn=zs}_openPopup(f,p,E,D){var R=this;return(0,h.Z)(function*(){var W;bn(null===(W=R.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const se=lg(f,p,E,ze(),D);return function(_,f,p,E=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),W=Math.max((window.screen.availWidth-E)/2,0).toString();let se="";const Se=Object.assign(Object.assign({},sg),{width:E.toString(),height:D.toString(),top:R,left:W}),De=(0,k.z$)().toLowerCase();p&&(se=vo(De)?"_blank":p),yo(De)&&(f=f||"http://localhost",Se.scrollbars="yes");const ke=Object.entries(Se).reduce((ct,[In,Js])=>`${ct}${In}=${Js},`,"");if(function(_=(0,k.z$)()){var f;return Eo(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(De)&&"_self"!==se)return function(_,f){const p=document.createElement("a");p.href=_,p.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(f||"",se),new Id(null);const Le=window.open(f||"",se,ke);we(Le,_,"popup-blocked");try{Le.focus()}catch(ct){}return new Id(Le)}(f,se,cs())})()}_openRedirect(f,p,E,D){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),_=lg(f,p,E,ze(),D),mn().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:D,promise:R}=this.eventManagers[p];return D?Promise.resolve(D):(bn(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(f);return this.eventManagers[p]={promise:E},E}initAndGetManager(f){var p=this;return(0,h.Z)(function*(){const E=yield function(_){return wd.apply(this,arguments)}(f),D=new M_(f);return E.register("authEvent",R=>(we(null==R?void 0:R.authEvent,f,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:D},p.iframes[f._key()]=E,D})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(jo,{type:jo},D=>{var R;const W=null===(R=null==D?void 0:D[0])||void 0===R?void 0:R[jo];void 0!==W&&p(!!W),Rt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return zu.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return xi()||$n()||Eo()}}),this.cordovaResolver=kt(class{constructor(){this._redirectPersistence=Jt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zs}_initialize(f){var p=this;return(0,h.Z)(function*(){const E=f._key();let D=p.eventManagers.get(E);return D||(D=new hg(f),p.eventManagers.set(E,D),p.attachCallbackListeners(f,D)),D})()}_openPopup(f){Rt(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,E,D){var R=this;return(0,h.Z)(function*(){!function(_){var f,p,E,D,R,W,se,Se,De,ke;const Le=ui();we("function"==typeof(null===(f=null==Le?void 0:Le.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(p=null==Le?void 0:Le.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(R=null===(D=null===(E=null==Le?void 0:Le.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Se=null===(se=null===(W=null==Le?void 0:Le.cordova)||void 0===W?void 0:W.plugins)||void 0===se?void 0:se.browsertab)||void 0===Se?void 0:Se.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(ke=null===(De=null==Le?void 0:Le.cordova)||void 0===De?void 0:De.InAppBrowser)||void 0===ke?void 0:ke.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield R._initialize(f);yield W.initialized(),W.resetRedirect(),Dl.clear(),yield R._originValidation(f);const se=function(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:uf(),postBody:null,tenantId:_.tenantId,error:rn(_,"no-auth-event")}}(f,E,D);yield function(_,f){return fs()._set(cf(_),f)}(f,se);const Se=yield function(_,f,p){return Yu.apply(this,arguments)}(f,se,p),De=yield function(_){const{cordova:f}=ui();return new Promise(p=>{f.plugins.browsertab.isAvailable(E=>{let D=null;E?f.plugins.browsertab.openUrl(_):D=f.InAppBrowser.open(_,function(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(D)})})}(Se);return function(_,f,p){return Ad.apply(this,arguments)}(f,W,De)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return Qu.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:E,handleOpenURL:D,BuildInfo:R}=ui(),W=setTimeout((0,h.Z)(function*(){yield lf(f),p.onEvent(Ma())}),500),se=function(){var ke=(0,h.Z)(function*(Le){clearTimeout(W);const ct=yield lf(f);let In=null;ct&&(null==Le?void 0:Le.url)&&(In=function(_,f){var p,E;const D=function(_){const f=$o(_),p=f.link?decodeURIComponent(f.link):void 0,E=$o(p).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return $o(D).link||D||E||p||_}(f);if(D.includes("/__/auth/callback")){const R=$o(D),W=R.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(R.firebaseError)):null,se=null===(E=null===(p=null==W?void 0:W.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],Se=se?rn(se):null;return Se?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Se,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(ct,Le.url)),p.onEvent(In||Ma())});return function(ct){return ke.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,se);const Se=D,De=`${R.packageName.toLowerCase()}://`;ui().handleOpenURL=function(){var ke=(0,h.Z)(function*(Le){if(Le.toLowerCase().startsWith(De)&&se({url:Le}),"function"==typeof Se)try{Se(Le)}catch(ct){console.error(ct)}});return function(Le){return ke.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Jt,this._completeRedirectFn=zs}_initialize(f){var p=this;return(0,h.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,E,D){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,p,E,D)})()}_openRedirect(f,p,E,D){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,p,E,D)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Na()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return G_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const p=yield function(){return Md.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function _g(_){return _.unwrap()}function Rr(_){return vg(_)}function vg(_){const{_tokenResponse:f}=_ instanceof k.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ae.credentialFromResult(_);const p=f.providerId;if(!p||"password"===p)return null;let E;switch(p){case"google.com":E=ks;break;case"facebook.com":E=sl;break;case"github.com":E=Dr;break;case"twitter.com":E=ol;break;default:const{oauthIdToken:D,oauthAccessToken:R,oauthTokenSecret:W,pendingToken:se,nonce:Se}=f;return R||W||D||se?se?p.startsWith("saml.")?is._create(p,se):Jn._fromParams({providerId:p,signInMethod:p,pendingToken:se,idToken:D,accessToken:R}):new Io(p).credential({idToken:D,accessToken:R,rawNonce:Se}):null}return _ instanceof k.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function rr(_,f){return f.catch(p=>{throw p instanceof k.ZR&&function(_,f){var p;const E=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Eg(_,function(_,f){var p;const E=(0,k.m9)(_),D=f;return we(f.customData.operationType,E,"argument-error"),we(null===(p=D.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),Ca._fromError(E,D)}(_,f));else if(E){const D=vg(f),R=f;D&&(R.credential=D,R.tenantId=E.tenantId||void 0,R.email=E.email||void 0,R.phoneNumber=E.phoneNumber||void 0)}}(_,p),p}).then(p=>{const D=p.user;return{operationType:p.operationType,credential:Rr(p),additionalUserInfo:ri(p),user:Ys.getOrCreate(D)}})}function Nd(_,f){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,h.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:E=>rr(_,p.confirm(E))}})).apply(this,arguments)}class Eg{constructor(f,p){this.resolver=p,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return rr(_g(this.auth),this.resolver.resolveSignIn(f))}}class Ys{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,k.m9)(_);return ml.has(f)||ml.set(f,hd._fromUser(f)),ml.get(f)}(f)}static getOrCreate(f){return Ys.USER_MAP.has(f)||Ys.USER_MAP.set(f,new Ys(f)),Ys.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,h.Z)(function*(){return rr(p.auth,pa(p._delegate,f))})()}linkWithPhoneNumber(f,p){var E=this;return(0,h.Z)(function*(){return Nd(E.auth,function(_,f,p){return ju.apply(this,arguments)}(E._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,h.Z)(function*(){return rr(p.auth,function(_,f,p){return Qe.apply(this,arguments)}(p._delegate,f,ps))})()}linkWithRedirect(f){var p=this;return(0,h.Z)(function*(){return yield _f(Yt(p.auth)),function(_,f,p){return function(_,f,p){return Ed.apply(this,arguments)}(_,f,p)}(p._delegate,f,ps)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,h.Z)(function*(){return rr(p.auth,Du(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Nd(this.auth,function(_,f,p){return w.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return rr(this.auth,function(_,f,p){return oi.apply(this,arguments)}(this._delegate,f,ps))}reauthenticateWithRedirect(f){var p=this;return(0,h.Z)(function*(){return yield _f(Yt(p.auth)),function(_,f,p){return function(_,f,p){return Tl.apply(this,arguments)}(_,f,p)}(p._delegate,f,ps)})()}sendEmailVerification(f){return function(_,f){return Mo.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,h.Z)(function*(){return yield function(_,f){return fa.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function(_,f){return Li((0,k.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return Li((0,k.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return Q.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return un.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function(_,f,p){return va.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ys.USER_MAP=new WeakMap;const Qs=we;let Cg=(()=>{class _{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;Qs(D,"invalid-api-key",{appName:p.name});let R=[Ke];if("undefined"!=typeof window){R=function(_,f){const p=mg();if(!(null==p?void 0:p.sessionStorage))return[];const E=fr(Ho,_,f);switch(p.sessionStorage.getItem(E)){case _r.NONE:return[Ke];case _r.LOCAL:return[bl,Jt];case _r.SESSION:return[Jt];default:return[]}}(D,p.name);for(const se of[bl,Vs,Jt])R.includes(se)||R.push(se)}Qs(D,"invalid-api-key",{appName:p.name});const W="undefined"!=typeof window?ps:void 0;this._delegate=E.initialize({options:{persistence:R,popupRedirectResolver:W}}),this._delegate._updateErrorMap(Xi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ys.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function(_,f,p){const E=Yt(_);we(E._canInitEmulator,E,"emulator-config-failed"),we(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const D=!!(null==p?void 0:p.disableWarnings),R=na(f),{host:W,port:se}=function(_){const f=na(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const R=D[1];return{host:R,port:ei(E.substr(R.length+1))}}{const[R,W]=E.split(":");return{host:R,port:ei(W)}}}(f);E.config.emulator={url:`${R}//${W}${null===se?"":`:${se}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:W,port:se,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,E)}applyActionCode(p){return function(_,f){return fl.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return So(this._delegate,p)}confirmPasswordReset(p,E){return function(_,f,p){return _a.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var D=this;return(0,h.Z)(function*(){return rr(D._delegate,function(_,f,p){return Ru.apply(this,arguments)}(D._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(_,f){return Wh.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(_,f){const p=Gt.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,h.Z)(function*(){Qs(Pd(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,f){return Gs.apply(this,arguments)}(p._delegate,ps);return E?rr(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(_,f){Yt(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,E,D){const{next:R,error:W,complete:se}=xa(p,E,D);return this._delegate.onAuthStateChanged(R,W,se)}onIdTokenChanged(p,E,D){const{next:R,error:W,complete:se}=xa(p,E,D);return this._delegate.onIdTokenChanged(R,W,se)}sendSignInLinkToEmail(p,E){return function(_,f,p){return Fi.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function(_,f,p){return ma.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,h.Z)(function*(){let D;switch(function(_,f){Oa(Object.values(_r).includes(f),_,"invalid-persistence-type"),(0,k.b$)()?Oa(f!==_r.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?Oa(f===_r.NONE,_,"unsupported-persistence-type"):gf()?Oa(f===_r.NONE||f===_r.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):Oa(f===_r.NONE||pg(),_,"unsupported-persistence-type")}(E._delegate,p),p){case _r.SESSION:D=Jt;break;case _r.LOCAL:D=(yield kt(bl)._isAvailable())?bl:Vs;break;case _r.NONE:D=Ke;break;default:return Rt("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return rr(this._delegate,function(_){return Ze.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return rr(this._delegate,Xn(this._delegate,p))}signInWithCustomToken(p){return rr(this._delegate,function(_,f){return ga.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return rr(this._delegate,function(_,f,p){return Xn((0,k.m9)(_),Ei.credential(f,p))}(this._delegate,p,E))}signInWithEmailLink(p,E){return rr(this._delegate,function(_,f,p){return Pn.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return Nd(this._delegate,function(_,f,p){return Nn.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,h.Z)(function*(){return Qs(Pd(),E._delegate,"operation-not-supported-in-this-environment"),rr(E._delegate,function(_,f,p){return Ws.apply(this,arguments)}(E._delegate,p,ps))})()}signInWithRedirect(p){var E=this;return(0,h.Z)(function*(){return Qs(Pd(),E._delegate,"operation-not-supported-in-this-environment"),yield _f(E._delegate),function(_,f,p){return function(_,f,p){return Vn.apply(this,arguments)}(_,f,p)}(E._delegate,p,ps)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(_,f){return Fs.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=_r,_})();function xa(_,f,p){let E=_;"function"!=typeof _&&({next:E,error:f,complete:p}=_);const D=E;return{next:W=>D(W&&Ys.getOrCreate(W)),error:f,complete:p}}class Ii{constructor(){this.providerId="phone",this._delegate=new ae(_g(ee.Z.auth()))}static credential(f,p){return ae.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}Ii.PHONE_SIGN_IN_METHOD=ae.PHONE_SIGN_IN_METHOD,Ii.PROVIDER_ID=ae.PROVIDER_ID;const mC=we;class _C{constructor(f,p,E=ee.Z.app()){var D;mC(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Jp(f,p,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Ue.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new Cg(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ei,FacebookAuthProvider:sl,GithubAuthProvider:Dr,GoogleAuthProvider:ks,OAuthProvider:Io,SAMLAuthProvider:Gn,PhoneAuthProvider:Ii,PhoneMultiFactorGenerator:ug,RecaptchaVerifier:_C,TwitterAuthProvider:ol,Auth:Cg,AuthCredential:ra,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.3")}(ee.Z)},6676:function(je,Ee){!function(L){"use strict";function h(he){return Array.prototype.slice.call(he)}function ee(he){return new Promise(function(te,de){he.onsuccess=function(){te(he.result)},he.onerror=function(){de(he.error)}})}function k(he,te,de){var me,Ie=new Promise(function(Ve,mt){ee(me=he[te].apply(he,de)).then(Ve,mt)});return Ie.request=me,Ie}function ue(he,te,de){var me=k(he,te,de);return me.then(function(Ie){if(Ie)return new F(Ie,me.request)})}function ne(he,te,de){de.forEach(function(me){Object.defineProperty(he.prototype,me,{get:function(){return this[te][me]},set:function(Ie){this[te][me]=Ie}})})}function K(he,te,de,me){me.forEach(function(Ie){Ie in de.prototype&&(he.prototype[Ie]=function(){return k(this[te],Ie,arguments)})})}function pe(he,te,de,me){me.forEach(function(Ie){Ie in de.prototype&&(he.prototype[Ie]=function(){return this[te][Ie].apply(this[te],arguments)})})}function Y(he,te,de,me){me.forEach(function(Ie){Ie in de.prototype&&(he.prototype[Ie]=function(){return ue(this[te],Ie,arguments)})})}function J(he){this._index=he}function F(he,te){this._cursor=he,this._request=te}function B(he){this._store=he}function H(he){this._tx=he,this.complete=new Promise(function(te,de){he.oncomplete=function(){te()},he.onerror=function(){de(he.error)},he.onabort=function(){de(he.error)}})}function oe(he,te,de){this._db=he,this.oldVersion=te,this.transaction=new H(de)}function ce(he){this._db=he}ne(J,"_index",["name","keyPath","multiEntry","unique"]),K(J,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Y(J,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(F,"_cursor",["direction","key","primaryKey","value"]),K(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(he){he in IDBCursor.prototype&&(F.prototype[he]=function(){var te=this,de=arguments;return Promise.resolve().then(function(){return te._cursor[he].apply(te._cursor,de),ee(te._request).then(function(me){if(me)return new F(me,te._request)})})})}),B.prototype.createIndex=function(){return new J(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new J(this._store.index.apply(this._store,arguments))},ne(B,"_store",["name","keyPath","indexNames","autoIncrement"]),K(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Y(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),pe(B,"_store",IDBObjectStore,["deleteIndex"]),H.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ne(H,"_tx",["objectStoreNames","mode"]),pe(H,"_tx",IDBTransaction,["abort"]),oe.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ne(oe,"_db",["name","version","objectStoreNames"]),pe(oe,"_db",IDBDatabase,["deleteObjectStore","close"]),ce.prototype.transaction=function(){return new H(this._db.transaction.apply(this._db,arguments))},ne(ce,"_db",["name","version","objectStoreNames"]),pe(ce,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(he){[B,J].forEach(function(te){he in te.prototype&&(te.prototype[he.replace("open","iterate")]=function(){var de=h(arguments),me=de[de.length-1],Ie=this._store||this._index,Ve=Ie[he].apply(Ie,de.slice(0,-1));Ve.onsuccess=function(){me(Ve.result)}})})}),[J,B].forEach(function(he){he.prototype.getAll||(he.prototype.getAll=function(te,de){var me=this,Ie=[];return new Promise(function(Ve){me.iterateCursor(te,function(mt){mt?(Ie.push(mt.value),void 0===de||Ie.length!=de?mt.continue():Ve(Ie)):Ve(Ie)})})})}),L.openDb=function(he,te,de){var me=k(indexedDB,"open",[he,te]),Ie=me.request;return Ie&&(Ie.onupgradeneeded=function(Ve){de&&de(new oe(Ie.result,Ve.oldVersion,Ie.transaction))}),me.then(function(Ve){return new ce(Ve)})},L.deleteDb=function(he){return k(indexedDB,"deleteDatabase",[he])},Object.defineProperty(L,"__esModule",{value:!0})}(Ee)},7574:(je,Ee,L)=>{"use strict";L.d(Ee,{y:()=>B});var h=L(7393),k=L(9181),ue=L(6490),K=L(6554),pe=L(4487);var F=L(2494);let B=(()=>{class oe{constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const ge=new oe;return ge.source=this,ge.operator=ye,ge}subscribe(ye,ge,he){const{operator:te}=this,de=function(oe,ce,ye){if(oe){if(oe instanceof h.L)return oe;if(oe[k.b])return oe[k.b]()}return oe||ce||ye?new h.L(oe,ce,ye):new h.L(ue.c)}(ye,ge,he);if(de.add(te?te.call(de,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!de.syncErrorThrowable?this._subscribe(de):this._trySubscribe(de)),F.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable&&(de.syncErrorThrowable=!1,de.syncErrorThrown))throw de.syncErrorValue;return de}_trySubscribe(ye){try{return this._subscribe(ye)}catch(ge){F.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=ge),function(oe){for(;oe;){const{closed:ce,destination:ye,isStopped:ge}=oe;if(ce||ge)return!1;oe=ye&&ye instanceof h.L?ye:null}return!0}(ye)?ye.error(ge):console.warn(ge)}}forEach(ye,ge){return new(ge=H(ge))((he,te)=>{let de;de=this.subscribe(me=>{try{ye(me)}catch(Ie){te(Ie),de&&de.unsubscribe()}},te,he)})}_subscribe(ye){const{source:ge}=this;return ge&&ge.subscribe(ye)}[K.L](){return this}pipe(...ye){return 0===ye.length?this:function(oe){return 0===oe.length?pe.y:1===oe.length?oe[0]:function(ye){return oe.reduce((ge,he)=>he(ge),ye)}}(ye)(this)}toPromise(ye){return new(ye=H(ye))((ge,he)=>{let te;this.subscribe(de=>te=de,de=>he(de),()=>ge(te))})}}return oe.create=ce=>new oe(ce),oe})();function H(oe){if(oe||(oe=F.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},6490:(je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>k});var h=L(2494),ee=L(4449);const k={closed:!0,next(ue){},error(ue){if(h.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,ee.z)(ue)},complete(){}}},9765:(je,Ee,L)=>{"use strict";L.d(Ee,{Yc:()=>pe,xQ:()=>Y});var h=L(7574),ee=L(7393),k=L(5319),ue=L(7971),ne=L(8858),K=L(9181);class pe extends ee.L{constructor(B){super(B),this.destination=B}}let Y=(()=>{class F extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[K.b](){return new pe(this)}lift(H){const oe=new J(this,this);return oe.operator=H,oe}next(H){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:oe}=this,ce=oe.length,ye=oe.slice();for(let ge=0;ge<ce;ge++)ye[ge].next(H)}}error(H){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:oe}=this,ce=oe.length,ye=oe.slice();for(let ge=0;ge<ce;ge++)ye[ge].error(H);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:H}=this,oe=H.length,ce=H.slice();for(let ye=0;ye<oe;ye++)ce[ye].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new ue.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new ue.N;return this.hasError?(H.error(this.thrownError),k.w.EMPTY):this.isStopped?(H.complete(),k.w.EMPTY):(this.observers.push(H),new ne.W(this,H))}asObservable(){const H=new h.y;return H.source=this,H}}return F.create=(B,H)=>new J(B,H),F})();class J extends Y{constructor(B,H){super(),this.destination=B,this.source=H}next(B){const{destination:H}=this;H&&H.next&&H.next(B)}error(B){const{destination:H}=this;H&&H.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:H}=this;return H?this.source.subscribe(B):k.w.EMPTY}}},8858:(je,Ee,L)=>{"use strict";L.d(Ee,{W:()=>ee});var h=L(5319);class ee extends h.w{constructor(ue,ne){super(),this.subject=ue,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,ne=ue.observers;if(this.subject=null,!ne||0===ne.length||ue.isStopped||ue.closed)return;const K=ne.indexOf(this.subscriber);-1!==K&&ne.splice(K,1)}}},7393:(je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>pe});var h=L(9105),ee=L(6490),k=L(5319),ue=L(9181),ne=L(2494),K=L(4449);class pe extends k.w{constructor(F,B,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!F){this.destination=ee.c;break}if("object"==typeof F){F instanceof pe?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new Y(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new Y(this,F,B,H)}}[ue.b](){return this}static create(F,B,H){const oe=new pe(F,B,H);return oe.syncErrorThrowable=!1,oe}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class Y extends pe{constructor(F,B,H,oe){super(),this._parentSubscriber=F;let ce,ye=this;(0,h.m)(B)?ce=B:B&&(ce=B.next,H=B.error,oe=B.complete,B!==ee.c&&(ye=Object.create(B),(0,h.m)(ye.unsubscribe)&&this.add(ye.unsubscribe.bind(ye)),ye.unsubscribe=this.unsubscribe.bind(this))),this._context=ye,this._next=ce,this._error=H,this._complete=oe}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;ne.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:H}=ne.v;if(this._error)H&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(B.syncErrorThrowable)H?(B.syncErrorValue=F,B.syncErrorThrown=!0):(0,K.z)(F),this.unsubscribe();else{if(this.unsubscribe(),H)throw F;(0,K.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const B=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,B){try{F.call(this._context,B)}catch(H){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw H;(0,K.z)(H)}}__tryOrSetError(F,B,H){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,H)}catch(oe){return ne.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=oe,F.syncErrorThrown=!0,!0):((0,K.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(je,Ee,L)=>{"use strict";L.d(Ee,{w:()=>K});var h=L(9796),ee=L(1555),k=L(9105);const ne=(()=>{function Y(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((F,B)=>`${B+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return Y.prototype=Object.create(Error.prototype),Y})();class K{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:B,_unsubscribe:H,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof K)F.remove(this);else if(null!==F)for(let ce=0;ce<F.length;++ce)F[ce].remove(this);if((0,k.m)(H)){B&&(this._unsubscribe=void 0);try{H.call(this)}catch(ce){J=ce instanceof ne?pe(ce.errors):[ce]}}if((0,h.k)(oe)){let ce=-1,ye=oe.length;for(;++ce<ye;){const ge=oe[ce];if((0,ee.K)(ge))try{ge.unsubscribe()}catch(he){J=J||[],he instanceof ne?J=J.concat(pe(he.errors)):J.push(he)}}}if(J)throw new ne(J)}add(J){let F=J;if(!J)return K.EMPTY;switch(typeof J){case"function":F=new K(J);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof K)){const oe=F;F=new K,F._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:B}=F;if(null===B)F._parentOrParents=this;else if(B instanceof K){if(B===this)return F;F._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return F;B.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[F]:H.push(F),F}remove(J){const F=this._subscriptions;if(F){const B=F.indexOf(J);-1!==B&&F.splice(B,1)}}}var Y;function pe(Y){return Y.reduce((J,F)=>J.concat(F instanceof ne?F.errors:F),[])}K.EMPTY=((Y=new K).closed=!0,Y)},2494:(je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>ee});let h=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=k},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(je,Ee,L)=>{"use strict";L.d(Ee,{IY:()=>ue,Ds:()=>K,ft:()=>Y});var h=L(7393),ee=L(7574),k=L(7444);class ue extends h.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class K extends h.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function Y(J,F){if(F.closed)return;if(J instanceof ee.y)return J.subscribe(F);let B;try{B=(0,k.s)(J)(F)}catch(H){F.error(H)}return B}},2441:(je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>ne,N:()=>K});var h=L(9765),ee=L(7574),k=L(5319),ue=L(1307);class ne extends ee.y{constructor(B,H){super(),this.source=B,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new k.w,B.add(this.source.subscribe(new pe(this.getSubject(),this))),B.closed&&(this._connection=null,B=k.w.EMPTY)),B}refCount(){return(0,ue.x)()(this)}}const K=(()=>{const F=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class pe extends h.Yc{constructor(B,H){super(B),this.connectable=H}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const H=B._connection;B._refCount=0,B._subject=null,B._connection=null,H&&H.unsubscribe()}}}},9193:(je,Ee,L)=>{"use strict";L.d(Ee,{E:()=>ee,c:()=>k});var h=L(7574);const ee=new h.y(ne=>ne.complete());function k(ne){return ne?function(ne){return new h.y(K=>ne.schedule(()=>K.complete()))}(ne):ee}},4402:(je,Ee,L)=>{"use strict";L.d(Ee,{D:()=>ye});var h=L(7574),ee=L(7444),k=L(5319),ue=L(6554),pe=L(4087),Y=L(377),B=L(4072),H=L(9489);function ye(ge,he){return he?function(ge,he){if(null!=ge){if(function(ge){return ge&&"function"==typeof ge[ue.L]}(ge))return function(ge,he){return new h.y(te=>{const de=new k.w;return de.add(he.schedule(()=>{const me=ge[ue.L]();de.add(me.subscribe({next(Ie){de.add(he.schedule(()=>te.next(Ie)))},error(Ie){de.add(he.schedule(()=>te.error(Ie)))},complete(){de.add(he.schedule(()=>te.complete()))}}))})),de})}(ge,he);if((0,B.t)(ge))return function(ge,he){return new h.y(te=>{const de=new k.w;return de.add(he.schedule(()=>ge.then(me=>{de.add(he.schedule(()=>{te.next(me),de.add(he.schedule(()=>te.complete()))}))},me=>{de.add(he.schedule(()=>te.error(me)))}))),de})}(ge,he);if((0,H.z)(ge))return(0,pe.r)(ge,he);if(function(ge){return ge&&"function"==typeof ge[Y.hZ]}(ge)||"string"==typeof ge)return function(ge,he){if(!ge)throw new Error("Iterable cannot be null");return new h.y(te=>{const de=new k.w;let me;return de.add(()=>{me&&"function"==typeof me.return&&me.return()}),de.add(he.schedule(()=>{me=ge[Y.hZ](),de.add(he.schedule(function(){if(te.closed)return;let Ie,Ve;try{const mt=me.next();Ie=mt.value,Ve=mt.done}catch(mt){return void te.error(mt)}Ve?te.complete():(te.next(Ie),this.schedule())}))})),de})}(ge,he)}throw new TypeError((null!==ge&&typeof ge||ge)+" is not observable")}(ge,he):ge instanceof h.y?ge:new h.y((0,ee.s)(ge))}},6693:(je,Ee,L)=>{"use strict";L.d(Ee,{n:()=>ue});var h=L(7574),ee=L(5015),k=L(4087);function ue(ne,K){return K?(0,k.r)(ne,K):new h.y((0,ee.V)(ne))}},6682:(je,Ee,L)=>{"use strict";L.d(Ee,{T:()=>ne});var h=L(7574),ee=L(4869),k=L(3282),ue=L(6693);function ne(...K){let pe=Number.POSITIVE_INFINITY,Y=null,J=K[K.length-1];return(0,ee.K)(J)?(Y=K.pop(),K.length>1&&"number"==typeof K[K.length-1]&&(pe=K.pop())):"number"==typeof J&&(pe=K.pop()),null===Y&&1===K.length&&K[0]instanceof h.y?K[0]:(0,k.J)(pe)((0,ue.n)(K,Y))}},5917:(je,Ee,L)=>{"use strict";L.d(Ee,{of:()=>ue});var h=L(4869),ee=L(6693),k=L(4087);function ue(...ne){let K=ne[ne.length-1];return(0,h.K)(K)?(ne.pop(),(0,k.r)(ne,K)):(0,ee.n)(ne)}},8002:(je,Ee,L)=>{"use strict";L.d(Ee,{U:()=>ee});var h=L(7393);function ee(ne,K){return function(Y){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Y.lift(new k(ne,K))}}class k{constructor(K,pe){this.project=K,this.thisArg=pe}call(K,pe){return pe.subscribe(new ue(K,this.project,this.thisArg))}}class ue extends h.L{constructor(K,pe,Y){super(K),this.project=pe,this.count=0,this.thisArg=Y||this}_next(K){let pe;try{pe=this.project.call(this.thisArg,K,this.count++)}catch(Y){return void this.destination.error(Y)}this.destination.next(pe)}}},3282:(je,Ee,L)=>{"use strict";L.d(Ee,{J:()=>k});var h=L(9773),ee=L(4487);function k(ue=Number.POSITIVE_INFINITY){return(0,h.zg)(ee.y,ue)}},9773:(je,Ee,L)=>{"use strict";L.d(Ee,{zg:()=>ue});var h=L(8002),ee=L(4402),k=L(5345);function ue(Y,J,F=Number.POSITIVE_INFINITY){return"function"==typeof J?B=>B.pipe(ue((H,oe)=>(0,ee.D)(Y(H,oe)).pipe((0,h.U)((ce,ye)=>J(H,ce,oe,ye))),F)):("number"==typeof J&&(F=J),B=>B.lift(new ne(Y,F)))}class ne{constructor(J,F=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=F}call(J,F){return F.subscribe(new K(J,this.project,this.concurrent))}}class K extends k.Ds{constructor(J,F,B=Number.POSITIVE_INFINITY){super(J),this.project=F,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let F;const B=this.index++;try{F=this.project(J,B)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(F)}_innerSub(J){const F=new k.IY(this),B=this.destination;B.add(F);const H=(0,k.ft)(J,F);H!==F&&B.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(je,Ee,L)=>{"use strict";L.d(Ee,{ht:()=>B,QV:()=>J});var h=L(7393),ee=L(9193),k=L(5917),ue=L(7574);class Y{constructor(ce,ye,ge){this.kind=ce,this.value=ye,this.error=ge,this.hasValue="N"===ce}observe(ce){switch(this.kind){case"N":return ce.next&&ce.next(this.value);case"E":return ce.error&&ce.error(this.error);case"C":return ce.complete&&ce.complete()}}do(ce,ye,ge){switch(this.kind){case"N":return ce&&ce(this.value);case"E":return ye&&ye(this.error);case"C":return ge&&ge()}}accept(ce,ye,ge){return ce&&"function"==typeof ce.next?this.observe(ce):this.do(ce,ye,ge)}toObservable(){switch(this.kind){case"N":return(0,k.of)(this.value);case"E":return oe=this.error,new ue.y(ye=>ye.error(oe));case"C":return(0,ee.c)()}var oe;throw new Error("unexpected notification kind value")}static createNext(ce){return void 0!==ce?new Y("N",ce):Y.undefinedValueNotification}static createError(ce){return new Y("E",void 0,ce)}static createComplete(){return Y.completeNotification}}function J(oe,ce=0){return function(ge){return ge.lift(new F(oe,ce))}}Y.completeNotification=new Y("C"),Y.undefinedValueNotification=new Y("N",void 0);class F{constructor(ce,ye=0){this.scheduler=ce,this.delay=ye}call(ce,ye){return ye.subscribe(new B(ce,this.scheduler,this.delay))}}class B extends h.L{constructor(ce,ye,ge=0){super(ce),this.scheduler=ye,this.delay=ge}static dispatch(ce){const{notification:ye,destination:ge}=ce;ye.observe(ge),this.unsubscribe()}scheduleMessage(ce){this.destination.add(this.scheduler.schedule(B.dispatch,this.delay,new H(ce,this.destination)))}_next(ce){this.scheduleMessage(Y.createNext(ce))}_error(ce){this.scheduleMessage(Y.createError(ce)),this.unsubscribe()}_complete(){this.scheduleMessage(Y.createComplete()),this.unsubscribe()}}class H{constructor(ce,ye){this.notification=ce,this.destination=ye}}},1307:(je,Ee,L)=>{"use strict";L.d(Ee,{x:()=>ee});var h=L(7393);function ee(){return function(K){return K.lift(new k(K))}}class k{constructor(K){this.connectable=K}call(K,pe){const{connectable:Y}=this;Y._refCount++;const J=new ue(K,Y),F=pe.subscribe(J);return J.closed||(J.connection=Y.connect()),F}}class ue extends h.L{constructor(K,pe){super(K),this.connectable=pe}_unsubscribe(){const{connectable:K}=this;if(!K)return void(this.connection=null);this.connectable=null;const pe=K._refCount;if(pe<=0)return void(this.connection=null);if(K._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:Y}=this,J=K._connection;this.connection=null,J&&(!Y||J===Y)&&J.unsubscribe()}}},8819:(je,Ee,L)=>{"use strict";L.d(Ee,{B:()=>pe});var h=L(2441);var ue=L(1307),ne=L(9765);function K(){return new ne.xQ}function pe(){return Y=>(0,ue.x)()(function(Y,J){return function(B){let H;H="function"==typeof Y?Y:function(){return Y};const oe=Object.create(B,h.N);return oe.source=B,oe.subjectFactory=H,oe}}(K)(Y))}},3101:(je,Ee,L)=>{"use strict";L.d(Ee,{R:()=>he});var h=L(7574);let ee=1;const k=Promise.resolve(),ue={};function ne(de){return de in ue&&(delete ue[de],!0)}const K={setImmediate(de){const me=ee++;return ue[me]=!0,k.then(()=>ne(me)&&de()),me},clearImmediate(de){ne(de)}};var Y=L(6465),F=L(6102);const oe=new class extends F.v{flush(me){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let Ve,mt=-1,Dt=Ie.length;me=me||Ie.shift();do{if(Ve=me.execute(me.state,me.delay))break}while(++mt<Dt&&(me=Ie.shift()));if(this.active=!1,Ve){for(;++mt<Dt&&(me=Ie.shift());)me.unsubscribe();throw Ve}}}(class extends Y.o{constructor(me,Ie){super(me,Ie),this.scheduler=me,this.work=Ie}requestAsyncId(me,Ie,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(me,Ie,Ve):(me.actions.push(this),me.scheduled||(me.scheduled=K.setImmediate(me.flush.bind(me,null))))}recycleAsyncId(me,Ie,Ve=0){if(null!==Ve&&Ve>0||null===Ve&&this.delay>0)return super.recycleAsyncId(me,Ie,Ve);0===me.actions.length&&(K.clearImmediate(Ie),me.scheduled=void 0)}});var ce=L(9796);class ge extends h.y{constructor(me,Ie=0,Ve=oe){var de;super(),this.source=me,this.delayTime=Ie,this.scheduler=Ve,(!(!(0,ce.k)(de=Ie)&&de-parseFloat(de)+1>=0)||Ie<0)&&(this.delayTime=0),(!Ve||"function"!=typeof Ve.schedule)&&(this.scheduler=oe)}static create(me,Ie=0,Ve=oe){return new ge(me,Ie,Ve)}static dispatch(me){const{source:Ie,subscriber:Ve}=me;return this.add(Ie.subscribe(Ve))}_subscribe(me){return this.scheduler.schedule(ge.dispatch,this.delayTime,{source:this.source,subscriber:me})}}function he(de,me=0){return function(Ve){return Ve.lift(new te(de,me))}}class te{constructor(me,Ie){this.scheduler=me,this.delay=Ie}call(me,Ie){return new ge(Ie,this.delay,this.scheduler).subscribe(me)}}},3342:(je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>ue});var h=L(7393);function ee(){}var k=L(9105);function ue(pe,Y,J){return function(B){return B.lift(new ne(pe,Y,J))}}class ne{constructor(Y,J,F){this.nextOrObserver=Y,this.error=J,this.complete=F}call(Y,J){return J.subscribe(new K(Y,this.nextOrObserver,this.error,this.complete))}}class K extends h.L{constructor(Y,J,F,B){super(Y),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=F||ee,this._tapComplete=B||ee,(0,k.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||ee,this._tapError=J.error||ee,this._tapComplete=J.complete||ee)}_next(Y){try{this._tapNext.call(this._context,Y)}catch(J){return void this.destination.error(J)}this.destination.next(Y)}_error(Y){try{this._tapError.call(this._context,Y)}catch(J){return void this.destination.error(J)}this.destination.error(Y)}_complete(){try{this._tapComplete.call(this._context)}catch(Y){return void this.destination.error(Y)}return this.destination.complete()}}},4087:(je,Ee,L)=>{"use strict";L.d(Ee,{r:()=>k});var h=L(7574),ee=L(5319);function k(ue,ne){return new h.y(K=>{const pe=new ee.w;let Y=0;return pe.add(ne.schedule(function(){Y!==ue.length?(K.next(ue[Y++]),K.closed||pe.add(this.schedule())):K.complete()})),pe})}},6465:(je,Ee,L)=>{"use strict";L.d(Ee,{o:()=>k});var h=L(5319);class ee extends h.w{constructor(ne,K){super()}schedule(ne,K=0){return this}}class k extends ee{constructor(ne,K){super(ne,K),this.scheduler=ne,this.work=K,this.pending=!1}schedule(ne,K=0){if(this.closed)return this;this.state=ne;const pe=this.id,Y=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(Y,pe,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(Y,this.id,K),this}requestAsyncId(ne,K,pe=0){return setInterval(ne.flush.bind(ne,this),pe)}recycleAsyncId(ne,K,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return K;clearInterval(K)}execute(ne,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ne,K);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,K){let Y,pe=!1;try{this.work(ne)}catch(J){pe=!0,Y=!!J&&J||new Error(J)}if(pe)return this.unsubscribe(),Y}_unsubscribe(){const ne=this.id,K=this.scheduler,pe=K.actions,Y=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Y&&pe.splice(Y,1),null!=ne&&(this.id=this.recycleAsyncId(K,ne,null)),this.delay=null}}},6102:(je,Ee,L)=>{"use strict";L.d(Ee,{v:()=>ee});let h=(()=>{class k{constructor(ne,K=k.now){this.SchedulerAction=ne,this.now=K}schedule(ne,K=0,pe){return new this.SchedulerAction(this,ne).schedule(pe,K)}}return k.now=()=>Date.now(),k})();class ee extends h{constructor(ue,ne=h.now){super(ue,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,ne=0,K){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(ue,ne,K):super.schedule(ue,ne,K)}flush(ue){const{actions:ne}=this;if(this.active)return void ne.push(ue);let K;this.active=!0;do{if(K=ue.execute(ue.state,ue.delay))break}while(ue=ne.shift());if(this.active=!1,K){for(;ue=ne.shift();)ue.unsubscribe();throw K}}}},3637:(je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>k});var h=L(6465);const k=new(L(6102).v)(h.o)},7771:(je,Ee,L)=>{"use strict";L.d(Ee,{c:()=>K,N:()=>ne});var h=L(6465),k=L(6102);const ne=new class extends k.v{}(class extends h.o{constructor(Y,J){super(Y,J),this.scheduler=Y,this.work=J}schedule(Y,J=0){return J>0?super.schedule(Y,J):(this.delay=J,this.state=Y,this.scheduler.flush(this),this)}execute(Y,J){return J>0||this.closed?super.execute(Y,J):this._execute(Y,J)}requestAsyncId(Y,J,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(Y,J,F):Y.flush(this)}}),K=ne},377:(je,Ee,L)=>{"use strict";L.d(Ee,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(je,Ee,L)=>{"use strict";L.d(Ee,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(je,Ee,L)=>{"use strict";L.d(Ee,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(je,Ee,L)=>{"use strict";L.d(Ee,{N:()=>ee});const ee=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},4449:(je,Ee,L)=>{"use strict";function h(ee){setTimeout(()=>{throw ee},0)}L.d(Ee,{z:()=>h})},4487:(je,Ee,L)=>{"use strict";function h(ee){return ee}L.d(Ee,{y:()=>h})},9796:(je,Ee,L)=>{"use strict";L.d(Ee,{k:()=>h});const h=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(je,Ee,L)=>{"use strict";L.d(Ee,{z:()=>h});const h=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(je,Ee,L)=>{"use strict";function h(ee){return"function"==typeof ee}L.d(Ee,{m:()=>h})},1555:(je,Ee,L)=>{"use strict";function h(ee){return null!==ee&&"object"==typeof ee}L.d(Ee,{K:()=>h})},4072:(je,Ee,L)=>{"use strict";function h(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}L.d(Ee,{t:()=>h})},4869:(je,Ee,L)=>{"use strict";function h(ee){return ee&&"function"==typeof ee.schedule}L.d(Ee,{K:()=>h})},7444:(je,Ee,L)=>{"use strict";L.d(Ee,{s:()=>B});var h=L(5015),ee=L(4449),ue=L(377),K=L(6554),Y=L(9489),J=L(4072),F=L(1555);const B=H=>{if(H&&"function"==typeof H[K.L])return(H=>oe=>{const ce=H[K.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(oe)})(H);if((0,Y.z)(H))return(0,h.V)(H);if((0,J.t)(H))return(H=>oe=>(H.then(ce=>{oe.closed||(oe.next(ce),oe.complete())},ce=>oe.error(ce)).then(null,ee.z),oe))(H);if(H&&"function"==typeof H[ue.hZ])return(H=>oe=>{const ce=H[ue.hZ]();for(;;){let ye;try{ye=ce.next()}catch(ge){return oe.error(ge),oe}if(ye.done){oe.complete();break}if(oe.next(ye.value),oe.closed)break}return"function"==typeof ce.return&&oe.add(()=>{ce.return&&ce.return()}),oe})(H);{const ce=`You provided ${(0,F.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},5015:(je,Ee,L)=>{"use strict";L.d(Ee,{V:()=>h});const h=ee=>k=>{for(let ue=0,ne=ee.length;ue<ne&&!k.closed;ue++)k.next(ee[ue]);k.complete()}},9843:(je,Ee,L)=>{"use strict";var h=L(7716);let ee=null;function k(){return ee}const pe=new h.OlP("DocumentToken");let Y=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,h.Yz7)({factory:J,token:n,providedIn:"platform"}),n})();function J(){return(0,h.LFG)(B)}const F=new h.OlP("Location Initialized");let B=(()=>{class n extends Y{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=k().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,l){H()?this._history.pushState(e,s,l):this.location.hash=l}replaceState(e,s,l){H()?this._history.replaceState(e,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(pe))},n.\u0275prov=(0,h.Yz7)({factory:oe,token:n,providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function oe(){return new B((0,h.LFG)(pe))}function ce(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ye(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ge(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,h.Yz7)({factory:te,token:n,providedIn:"root"}),n})();function te(n){const t=(0,h.LFG)(pe).location;return new me((0,h.LFG)(Y),t&&t.origin||"")}const de=new h.OlP("appBaseHref");let me=(()=>{class n extends he{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ce(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+ge(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${s}${l}`:s}pushState(e,s,l,c){const g=this.prepareExternalUrl(l+ge(c));this._platformLocation.pushState(e,s,g)}replaceState(e,s,l,c){const g=this.prepareExternalUrl(l+ge(c));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Y),h.LFG(de,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends he{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=ce(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,l,c){let g=this.prepareExternalUrl(l+ge(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,l,c){let g=this.prepareExternalUrl(l+ge(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Y),h.LFG(de,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(e,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ye(ft(l)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+ge(s))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ft(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",l=null){this._platformStrategy.pushState(l,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ge(s)),l)}replaceState(e,s="",l=null){this._platformStrategy.replaceState(l,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ge(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,l;null===(l=(s=this._platformStrategy).historyGo)||void 0===l||l.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(l=>l(e,s))}subscribe(e,s,l){return this._subject.subscribe({next:e,error:s,complete:l})}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(he),h.LFG(Y))},n.normalizeQueryParams=ge,n.joinWithSlash=ce,n.stripTrailingSlash=ye,n.\u0275prov=(0,h.Yz7)({factory:mt,token:n,providedIn:"root"}),n})();function mt(){return new Ve((0,h.LFG)(he),(0,h.LFG)(Y))}function ft(n){return n.replace(/\/index.html$/,"")}var et=(()=>((et=et||{})[et.Zero=0]="Zero",et[et.One=1]="One",et[et.Two=2]="Two",et[et.Few=3]="Few",et[et.Many=4]="Many",et[et.Other=5]="Other",et))(),Ut=(()=>((Ut=Ut||{})[Ut.Format=0]="Format",Ut[Ut.Standalone=1]="Standalone",Ut))(),tt=(()=>((tt=tt||{})[tt.Narrow=0]="Narrow",tt[tt.Abbreviated=1]="Abbreviated",tt[tt.Wide=2]="Wide",tt[tt.Short=3]="Short",tt))(),St=(()=>((St=St||{})[St.Short=0]="Short",St[St.Medium=1]="Medium",St[St.Long=2]="Long",St[St.Full=3]="Full",St))(),Ue=(()=>((Ue=Ue||{})[Ue.Decimal=0]="Decimal",Ue[Ue.Group=1]="Group",Ue[Ue.List=2]="List",Ue[Ue.PercentSign=3]="PercentSign",Ue[Ue.PlusSign=4]="PlusSign",Ue[Ue.MinusSign=5]="MinusSign",Ue[Ue.Exponential=6]="Exponential",Ue[Ue.SuperscriptingExponent=7]="SuperscriptingExponent",Ue[Ue.PerMille=8]="PerMille",Ue[Ue.Infinity=9]="Infinity",Ue[Ue.NaN=10]="NaN",Ue[Ue.TimeSeparator=11]="TimeSeparator",Ue[Ue.CurrencyDecimal=12]="CurrencyDecimal",Ue[Ue.CurrencyGroup=13]="CurrencyGroup",Ue))();function mi(n,t){return kt((0,h.cg1)(n)[h.wAp.DateFormat],t)}function Kt(n,t){return kt((0,h.cg1)(n)[h.wAp.TimeFormat],t)}function go(n,t){return kt((0,h.cg1)(n)[h.wAp.DateTimeFormat],t)}function nn(n,t){const e=(0,h.cg1)(n),s=e[h.wAp.NumberSymbols][t];if(void 0===s){if(t===Ue.CurrencyDecimal)return e[h.wAp.NumberSymbols][Ue.Decimal];if(t===Ue.CurrencyGroup)return e[h.wAp.NumberSymbols][Ue.Group]}return s}const _i=h.kL8;function we(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kt(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function Jr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const _t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yt={},cr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lt=(()=>((Lt=Lt||{})[Lt.Short=0]="Short",Lt[Lt.ShortGMT=1]="ShortGMT",Lt[Lt.Long=2]="Long",Lt[Lt.Extended=3]="Extended",Lt))(),Re=(()=>((Re=Re||{})[Re.FullYear=0]="FullYear",Re[Re.Month=1]="Month",Re[Re.Date=2]="Date",Re[Re.Hours=3]="Hours",Re[Re.Minutes=4]="Minutes",Re[Re.Seconds=5]="Seconds",Re[Re.FractionalSeconds=6]="FractionalSeconds",Re[Re.Day=7]="Day",Re))(),We=(()=>((We=We||{})[We.DayPeriods=0]="DayPeriods",We[We.Days=1]="Days",We[We.Months=2]="Months",We[We.Eras=3]="Eras",We))();function mu(n,t,e,s){let l=function(n){if(yu(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[l,c=1,g=1]=n.split("-").map(v=>+v);return es(l,c-1,g)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let s;if(s=n.match(_t))return function(n){const t=new Date(0);let e=0,s=0;const l=n[8]?t.setUTCFullYear:t.setFullYear,c=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),s=Number(n[9]+n[11])),l.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const g=Number(n[4]||0)-e,v=Number(n[5]||0)-s,b=Number(n[6]||0),S=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return c.call(t,g,v,b,S),t}(s)}const t=new Date(n);if(!yu(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=jt(e,t)||t;let v,g=[];for(;t;){if(v=cr.exec(t),!v){g.push(t);break}{g=g.concat(v.slice(1));const x=g.pop();if(!x)break;t=x}}let b=l.getTimezoneOffset();s&&(b=Rs(s,b),l=function(n,t,e){const l=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(Rs(t,l)-l))}(l,s));let S="";return g.forEach(x=>{const O=function(n){if(Tt[n])return Tt[n];let t;switch(n){case"G":case"GG":case"GGG":t=Z(We.Eras,tt.Abbreviated);break;case"GGGG":t=Z(We.Eras,tt.Wide);break;case"GGGGG":t=Z(We.Eras,tt.Narrow);break;case"y":t=G(Re.FullYear,1,0,!1,!0);break;case"yy":t=G(Re.FullYear,2,0,!0,!0);break;case"yyy":t=G(Re.FullYear,3,0,!1,!0);break;case"yyyy":t=G(Re.FullYear,4,0,!1,!0);break;case"Y":t=Kn(1);break;case"YY":t=Kn(2,!0);break;case"YYY":t=Kn(3);break;case"YYYY":t=Kn(4);break;case"M":case"L":t=G(Re.Month,1,1);break;case"MM":case"LL":t=G(Re.Month,2,1);break;case"MMM":t=Z(We.Months,tt.Abbreviated);break;case"MMMM":t=Z(We.Months,tt.Wide);break;case"MMMMM":t=Z(We.Months,tt.Narrow);break;case"LLL":t=Z(We.Months,tt.Abbreviated,Ut.Standalone);break;case"LLLL":t=Z(We.Months,tt.Wide,Ut.Standalone);break;case"LLLLL":t=Z(We.Months,tt.Narrow,Ut.Standalone);break;case"w":t=hn(1);break;case"ww":t=hn(2);break;case"W":t=hn(1,!0);break;case"d":t=G(Re.Date,1);break;case"dd":t=G(Re.Date,2);break;case"c":case"cc":t=G(Re.Day,1);break;case"ccc":t=Z(We.Days,tt.Abbreviated,Ut.Standalone);break;case"cccc":t=Z(We.Days,tt.Wide,Ut.Standalone);break;case"ccccc":t=Z(We.Days,tt.Narrow,Ut.Standalone);break;case"cccccc":t=Z(We.Days,tt.Short,Ut.Standalone);break;case"E":case"EE":case"EEE":t=Z(We.Days,tt.Abbreviated);break;case"EEEE":t=Z(We.Days,tt.Wide);break;case"EEEEE":t=Z(We.Days,tt.Narrow);break;case"EEEEEE":t=Z(We.Days,tt.Short);break;case"a":case"aa":case"aaa":t=Z(We.DayPeriods,tt.Abbreviated);break;case"aaaa":t=Z(We.DayPeriods,tt.Wide);break;case"aaaaa":t=Z(We.DayPeriods,tt.Narrow);break;case"b":case"bb":case"bbb":t=Z(We.DayPeriods,tt.Abbreviated,Ut.Standalone,!0);break;case"bbbb":t=Z(We.DayPeriods,tt.Wide,Ut.Standalone,!0);break;case"bbbbb":t=Z(We.DayPeriods,tt.Narrow,Ut.Standalone,!0);break;case"B":case"BB":case"BBB":t=Z(We.DayPeriods,tt.Abbreviated,Ut.Format,!0);break;case"BBBB":t=Z(We.DayPeriods,tt.Wide,Ut.Format,!0);break;case"BBBBB":t=Z(We.DayPeriods,tt.Narrow,Ut.Format,!0);break;case"h":t=G(Re.Hours,1,-12);break;case"hh":t=G(Re.Hours,2,-12);break;case"H":t=G(Re.Hours,1);break;case"HH":t=G(Re.Hours,2);break;case"m":t=G(Re.Minutes,1);break;case"mm":t=G(Re.Minutes,2);break;case"s":t=G(Re.Seconds,1);break;case"ss":t=G(Re.Seconds,2);break;case"S":t=G(Re.FractionalSeconds,1);break;case"SS":t=G(Re.FractionalSeconds,2);break;case"SSS":t=G(Re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ie(Lt.Short);break;case"ZZZZZ":t=ie(Lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ie(Lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ie(Lt.Long);break;default:return null}return Tt[n]=t,t}(x);S+=O?O(l,e,b):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function es(n,t,e){const s=new Date(0);return s.setFullYear(n,t,e),s.setHours(0,0,0),s}function jt(n,t){const e=function(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(yt[e]=yt[e]||{},yt[e][t])return yt[e][t];let s="";switch(t){case"shortDate":s=mi(n,St.Short);break;case"mediumDate":s=mi(n,St.Medium);break;case"longDate":s=mi(n,St.Long);break;case"fullDate":s=mi(n,St.Full);break;case"shortTime":s=Kt(n,St.Short);break;case"mediumTime":s=Kt(n,St.Medium);break;case"longTime":s=Kt(n,St.Long);break;case"fullTime":s=Kt(n,St.Full);break;case"short":const l=jt(n,"shortTime"),c=jt(n,"shortDate");s=nt(go(n,St.Short),[l,c]);break;case"medium":const g=jt(n,"mediumTime"),v=jt(n,"mediumDate");s=nt(go(n,St.Medium),[g,v]);break;case"long":const b=jt(n,"longTime"),S=jt(n,"longDate");s=nt(go(n,St.Long),[b,S]);break;case"full":const x=jt(n,"fullTime"),O=jt(n,"fullDate");s=nt(go(n,St.Full),[x,O])}return s&&(yt[e][t]=s),s}function nt(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,s){return null!=t&&s in t?t[s]:e})),n}function dr(n,t,e="-",s,l){let c="";(n<0||l&&n<=0)&&(l?n=1-n:(n=-n,c=e));let g=String(n);for(;g.length<t;)g="0"+g;return s&&(g=g.substr(g.length-t)),c+g}function G(n,t,e=0,s=!1,l=!1){return function(c,g){let v=function(n,t){switch(n){case Re.FullYear:return t.getFullYear();case Re.Month:return t.getMonth();case Re.Date:return t.getDate();case Re.Hours:return t.getHours();case Re.Minutes:return t.getMinutes();case Re.Seconds:return t.getSeconds();case Re.FractionalSeconds:return t.getMilliseconds();case Re.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,c);if((e>0||v>-e)&&(v+=e),n===Re.Hours)0===v&&-12===e&&(v=12);else if(n===Re.FractionalSeconds)return function(n,t){return dr(n,3).substr(0,t)}(v,t);const b=nn(g,Ue.MinusSign);return dr(v,t,b,s,l)}}function Z(n,t,e=Ut.Format,s=!1){return function(l,c){return function(n,t,e,s,l,c){switch(e){case We.Months:return function(n,t,e){const s=(0,h.cg1)(n),c=kt([s[h.wAp.MonthsFormat],s[h.wAp.MonthsStandalone]],t);return kt(c,e)}(t,l,s)[n.getMonth()];case We.Days:return function(n,t,e){const s=(0,h.cg1)(n),c=kt([s[h.wAp.DaysFormat],s[h.wAp.DaysStandalone]],t);return kt(c,e)}(t,l,s)[n.getDay()];case We.DayPeriods:const g=n.getHours(),v=n.getMinutes();if(c){const S=function(n){const t=(0,h.cg1)(n);return we(t),(t[h.wAp.ExtraData][2]||[]).map(s=>"string"==typeof s?Jr(s):[Jr(s[0]),Jr(s[1])])}(t),x=function(n,t,e){const s=(0,h.cg1)(n);we(s);const c=kt([s[h.wAp.ExtraData][0],s[h.wAp.ExtraData][1]],t)||[];return kt(c,e)||[]}(t,l,s),O=S.findIndex(z=>{if(Array.isArray(z)){const[re,fe]=z,Ae=g>=re.hours&&v>=re.minutes,Me=g<fe.hours||g===fe.hours&&v<fe.minutes;if(re.hours<fe.hours){if(Ae&&Me)return!0}else if(Ae||Me)return!0}else if(z.hours===g&&z.minutes===v)return!0;return!1});if(-1!==O)return x[O]}return function(n,t,e){const s=(0,h.cg1)(n),c=kt([s[h.wAp.DayPeriodsFormat],s[h.wAp.DayPeriodsStandalone]],t);return kt(c,e)}(t,l,s)[g<12?0:1];case We.Eras:return function(n,t){return kt((0,h.cg1)(n)[h.wAp.Eras],t)}(t,s)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,c,n,t,e,s)}}function ie(n){return function(t,e,s){const l=-1*s,c=nn(e,Ue.MinusSign),g=l>0?Math.floor(l/60):Math.ceil(l/60);switch(n){case Lt.Short:return(l>=0?"+":"")+dr(g,2,c)+dr(Math.abs(l%60),2,c);case Lt.ShortGMT:return"GMT"+(l>=0?"+":"")+dr(g,1,c);case Lt.Long:return"GMT"+(l>=0?"+":"")+dr(g,2,c)+":"+dr(Math.abs(l%60),2,c);case Lt.Extended:return 0===s?"Z":(l>=0?"+":"")+dr(g,2,c)+":"+dr(Math.abs(l%60),2,c);default:throw new Error(`Unknown zone width "${n}"`)}}}function dn(n){return es(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function hn(n,t=!1){return function(e,s){let l;if(t){const c=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,g=e.getDate();l=1+Math.floor((g+c)/7)}else{const c=dn(e),g=function(n){const t=es(n,0,1).getDay();return es(n,0,1+(t<=4?4:11)-t)}(c.getFullYear()),v=c.getTime()-g.getTime();l=1+Math.round(v/6048e5)}return dr(l,n,nn(s,Ue.MinusSign))}}function Kn(n,t=!1){return function(e,s){return dr(dn(e).getFullYear(),n,nn(s,Ue.MinusSign),t)}}const Tt={};function Rs(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function yu(n){return n instanceof Date&&!isNaN(n.valueOf())}class fr{}let Fn=(()=>{class n extends fr{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(_i(s||this.locale)(e)){case et.Zero:return"zero";case et.One:return"one";case et.Two:return"two";case et.Few:return"few";case et.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Qn{constructor(t,e,s,l){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mt=(()=>{class n{constructor(e,s,l){this._viewContainer=e,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=[];e.forEachOperation((l,c,g)=>{if(null==l.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Qn(null,this._ngForOf,-1,-1),null===g?void 0:g),b=new Wc(l,v);s.push(b)}else if(null==g)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const v=this._viewContainer.get(c);this._viewContainer.move(v,g);const b=new Wc(l,v);s.push(b)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,c=this._viewContainer.length;l<c;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=c,g.context.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(e,s){e.context.$implicit=s.item}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Wc{constructor(t,e){this.record=t,this.view=e}}let Oi=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new vu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Co("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Co("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vu{constructor(){this.$implicit=null,this.ngIf=null}}function Co(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(t)}'.`)}let nl=(()=>{class n{constructor(e){this.locale=e}transform(e,s="mediumDate",l,c){if(null==e||""===e||e!=e)return null;try{return mu(e,s,c||this.locale,l)}catch(g){throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,h.AaK)(n)}'`)}(n,g.message)}}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.soG,16))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0}),n})(),sa=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Cu}transform(e,s=Cu){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const l=this.differ.diff(e),c=s!==this.compareFn;return l&&(this.keyValues=[],l.forEachItem(g=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(g.key,g.currentValue))})),(l||c)&&(this.keyValues.sort(s),this.compareFn=s),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.aQg,16))},n.\u0275pipe=h.Yjl({name:"keyvalue",type:n,pure:!1}),n})();function Cu(n,t){const e=n.key,s=t.key;if(e===s)return 0;if(void 0===e)return 1;if(void 0===s)return-1;if(null===e)return 1;if(null===s)return-1;if("string"==typeof e&&"string"==typeof s)return e<s?-1:1;if("number"==typeof e&&"number"==typeof s)return e-s;if("boolean"==typeof e&&"boolean"==typeof s)return e<s?-1:1;const l=String(e),c=String(s);return l==c?0:l<c?-1:1}let Br=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:fr,useClass:Fn}]}),n})(),ca=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Jc((0,h.LFG)(pe),window)}),n})();class Jc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const c=l.shadowRoot;if(c){const g=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(g)return g}l=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],l-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=wo(this.window.history)||wo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function wo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ed extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ed,ee||(ee=n)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Ei=Ei||document.querySelector("base"),Ei?Ei.getAttribute("href"):null);return null==e?null:function(n){Bt=Bt||document.createElement("a"),Bt.setAttribute("href",n);const t=Bt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ei=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[l,c]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(l.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Bt,Ei=null;const sl=new h.OlP("TRANSITION_ID"),Dr=[{provide:h.ip1,useFactory:function(n,t,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const s=k(),l=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<l.length;c++)s.remove(l[c])})}},deps:[sl,pe,h.zs3],multi:!0}];class wn{static init(){(0,h.VLi)(new wn)}addToWindow(t){h.dqk.getAngularTestability=(s,l=!0)=>{const c=t.findTestabilityInTree(s,l);if(null==c)throw new Error("Could not find testability for element.");return c},h.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const l=h.dqk.getAllAngularTestabilities();let c=l.length,g=!1;const v=function(b){g=g||b,c--,0==c&&s(g)};l.forEach(function(b){b.whenStable(v)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:s?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let is=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ki=new h.OlP("EventManagerPlugins");let Ce=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,l){return this._findPluginFor(s).addEventListener(e,s,l)}addGlobalEventListener(e,s,l){return this._findPluginFor(s).addGlobalEventListener(e,s,l)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const l=this._plugins;for(let c=0;c<l.length;c++){const g=l[c];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(ki),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const l=k().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,s)}}let cl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),qt=(()=>{class n extends cl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,l){e.forEach(c=>{const g=this._doc.createElement("style");g.textContent=c,l.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(dl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(e,l,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(dl))}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function dl(n){k().remove(n)}const Ci={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xn=/%COMP%/g;function gn(n,t,e){for(let s=0;s<t.length;s++){let l=t[s];Array.isArray(l)?gn(n,l,e):(l=l.replace(Xn,n),e.push(l))}return e}function jr(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $r=(()=>{class n{constructor(e,s,l){this.eventManager=e,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new er(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new Au(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(e),l}case 1:case h.ifc.ShadowDom:return new _a(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const l=gn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(Ce),h.LFG(qt),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class er{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ci[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,l){if(l){e=l+":"+e;const c=Ci[l];c?t.setAttributeNS(c,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const l=Ci[s];l?t.removeAttributeNS(l,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,l){l&(h.JOm.DashCase|h.JOm.Important)?t.style.setProperty(e,s,l&h.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&h.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,jr(s)):this.eventManager.addEventListener(t,e,jr(s))}}class Au extends er{constructor(t,e,s,l){super(t),this.component=s;const c=gn(l+"-"+s.id,s.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(Xn,l+"-"+s.id),this.hostAttr="_nghost-%COMP%".replace(Xn,l+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class _a extends er{constructor(t,e,s,l){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=gn(l.id,l.styles,[]);for(let g=0;g<c.length;g++){const v=document.createElement("style");v.textContent=c[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ya=(()=>{class n extends ut{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,l){return e.addEventListener(s,l,!1),()=>this.removeEventListener(e,s,l)}removeEventListener(e,s,l){return e.removeEventListener(s,l)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Fi=["alt","control","meta","shift"],Pu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Gp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Mo=(()=>{class n extends ut{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,l){const c=n.parseEventName(s),g=n.eventCallback(c.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,c.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const c=n._normalizeKey(s.pop());let g="";if(Fi.forEach(b=>{const S=s.indexOf(b);S>-1&&(s.splice(S,1),g+=b+".")}),g+=c,0!=s.length||0===c.length)return null;const v={};return v.domEventName=l,v.fullKey=g,v}static getEventFullKey(e){let s="",l=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Pn.hasOwnProperty(t)&&(t=Pn[t]))}return Pu[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Fi.forEach(c=>{c!=l&&Gp[c](e)&&(s+=c+".")}),s+=l,s}static eventCallback(e,s,l){return c=>{n.getEventFullKey(c)===e&&l.runGuarded(()=>s(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ls=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){ed.makeCurrent(),wn.init()},multi:!0},{provide:pe,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Nu=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:ki,useClass:ya,multi:!0,deps:[pe,h.R0b,h.Lbi]},{provide:ki,useClass:Mo,multi:!0,deps:[pe]},[],{provide:$r,useClass:$r,deps:[Ce,qt,h.AFp]},{provide:h.FYo,useExisting:$r},{provide:cl,useExisting:qt},{provide:qt,useClass:qt,deps:[pe]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Ce,useClass:Ce,deps:[ki,h.R0b]},{provide:class{},useClass:is,deps:[]},[]];let Ou=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:h.AFp,useValue:e.appId},{provide:sl,useExisting:h.AFp},Dr]}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Nu,imports:[Br,h.hGG]}),n})();"undefined"!=typeof window&&window;var cn=L(4402),Be=L(5917),Hr=L(9765),ku=L(7971);class pr extends Hr.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ku.N;return this._value}next(t){super.next(this._value=t)}}var Vs=L(4869),_l=L(9796),Jt=L(7393);class yl extends Jt.L{notifyNext(t,e,s,l,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Zp extends Jt.L{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var cs=L(7444),tr=L(7574);function mn(n,t,e,s,l=new Zp(n,e,s)){if(!l.closed)return t instanceof tr.y?t.subscribe(l):(0,cs.s)(t)(l)}var vl=L(6693);const wa={};class El{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ia(t,this.resultSelector))}}class Ia extends yl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(wa),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(mn(this,t[s],void 0,s))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s){const l=this.values,g=this.toRespond?l[s]===wa?--this.toRespond:this.toRespond:0;l[s]=e,0===g&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}const Wr=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ui=L(3282);function Us(...n){return(0,Ui.J)(1)((0,Be.of)(...n))}var gr=L(9193);function si(n){return new tr.y(t=>{let e;try{e=n()}catch(l){return void t.error(l)}return(e?(0,cn.D)(e):(0,gr.c)()).subscribe(t)})}var pd=L(2441),bt=L(8002),ko=L(5345);function Ln(n,t){return"function"==typeof t?e=>e.pipe(Ln((s,l)=>(0,cn.D)(n(s,l)).pipe((0,bt.U)((c,g)=>t(s,c,l,g))))):e=>e.lift(new Kp(n))}class Kp{constructor(t){this.project=t}call(t,e){return e.subscribe(new Qt(t,this.project))}}class Qt extends ko.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(l){return void this.destination.error(l)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const s=new ko.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,ko.ft)(t,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Cl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function md(n){return t=>0===n?(0,gr.c)():t.lift(new S_(n))}class S_{constructor(t){if(this.total=t,this.total<0)throw new Cl}call(t,e){return e.subscribe(new bl(t,this.total))}}class bl extends Jt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}function Fu(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(l){return l.lift(new Qp(n,t,e))}}class Qp{constructor(t,e,s=!1){this.accumulator=t,this.seed=e,this.hasSeed=s}call(t,e){return e.subscribe(new _d(t,this.accumulator,this.seed,this.hasSeed))}}class _d extends Jt.L{constructor(t,e,s,l){super(t),this.accumulator=e,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let s;try{s=this.accumulator(this.seed,t,e)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}function Bs(n,t){return function(s){return s.lift(new Lu(n,t))}}class Lu{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new js(t,this.predicate,this.thisArg))}}class js extends Jt.L{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(t)}}function hs(n){return function(e){const s=new _n(n),l=e.lift(s);return s.caught=l}}class _n{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Bi(t,this.selector,this.caught))}}class Bi extends ko.Ds{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const s=new ko.IY(this);this.add(s);const l=(0,ko.ft)(e,s);l!==s&&this.add(l)}}}var yn=L(9773);function Vu(n,t){return(0,yn.zg)(n,t,1)}function yd(n){return function(e){return 0===n?(0,gr.c)():e.lift(new Ar(n))}}class Ar{constructor(t){if(this.total=t,this.total<0)throw new Cl}call(t,e){return e.subscribe(new bi(t,this.total))}}class bi extends Jt.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,s=this.total,l=this.count++;e.length<s?e.push(t):e[l%s]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,l=this.ring;for(let c=0;c<s;c++){const g=e++%s;t.next(l[g])}}t.complete()}}function Da(n=vd){return t=>t.lift(new Gr(n))}class Gr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ji(t,this.errorFactory))}}class ji extends Jt.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function vd(){return new Wr}function Uu(n=null){return t=>t.lift(new $s(n))}class $s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Jp(t,this.defaultValue))}}class Jp extends Jt.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Hs=L(4487);function Mn(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Bs((l,c)=>n(l,c,s)):Hs.y,md(1),e?Uu(t):Da(()=>new Wr))}var Nn=L(3342),Fo=L(1307),ju=L(5319);class w{constructor(t){this.callback=t}call(t,e){return e.subscribe(new T(t,this.callback))}}class T extends Jt.L{constructor(t,e){super(t),this.add(new ju.w(e))}}class P{constructor(t,e){this.id=t,this.url=e}}class U extends P{constructor(t,e,s="imperative",l=null){super(t,e),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q extends P{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ae extends P{constructor(t,e,s){super(t,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class be extends P{constructor(t,e,s){super(t,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ne extends P{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe extends P{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct extends P{constructor(t,e,s,l,c){super(t,e),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zt extends P{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends P{constructor(t,e,s,l){super(t,e),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class On{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wl{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Il{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ai{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class Qh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xt(n){return new Qh(n)}const Dl="ngNavigationCancelingError";function Xp(n){const t=Error("NavigationCancelingError: "+n);return t[Dl]=!0,t}function Aa(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const l={};for(let c=0;c<s.length;c++){const g=s[c],v=n[c];if(g.startsWith(":"))l[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:l}}function li(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let l;for(let c=0;c<e.length;c++)if(l=e[c],!Xh(n[l],t[l]))return!1;return!0}function Xh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((l,c)=>s[c]===l)}return n===t}function eg(n){return Array.prototype.concat.apply([],n)}function Lo(n){return n.length>0?n[n.length-1]:null}function xn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Vn(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,cn.D)(Promise.resolve(n)):(0,Be.of)(n)}const tg={exact:function Ed(n,t,e){if(!Uo(n.segments,t.segments)||!Al(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!Ed(n.children[s],t.children[s],e))return!1;return!0},subset:Gs},Tl={exact:function(n,t){return li(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Xh(n[e],t[e]))},ignored:()=>!0};function $u(n,t,e){return tg[e.paths](n.root,t.root,e.matrixParams)&&Tl[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Gs(n,t,e){return zs(n,t,t.segments,e)}function zs(n,t,e,s){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!Uo(l,e)||t.hasChildren()||!Al(l,e,s))}if(n.segments.length===e.length){if(!Uo(n.segments,e)||!Al(n.segments,e,s))return!1;for(const l in t.children)if(!n.children[l]||!Gs(n.children[l],t.children[l],s))return!1;return!0}{const l=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Uo(n.segments,l)&&Al(n.segments,l,s)&&n.children[Qe])&&zs(n.children[Qe],t,c,s)}}function Al(n,t,e){return t.every((s,l)=>Tl[e](n[l].parameters,s.parameters))}class Sa{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xt(this.queryParams)),this._queryParamMap}toString(){return Wu.serialize(this)}}class vt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xn(e,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qs(this)}}class Hu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xt(this.parameters)),this._parameterMap}toString(){return Pl(this)}}function Uo(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}class ef{}class Sl{parse(t){const e=new wd(t);return new Sa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${Gu(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(l=>`${zu(e)}=${zu(l)}`).join("&"):`${zu(e)}=${zu(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const Wu=new Sl;function qs(n){return n.segments.map(t=>Pl(t)).join("/")}function Gu(n,t){if(!n.hasChildren())return qs(n);if(t){const e=n.children[Qe]?Gu(n.children[Qe],!1):"",s=[];return xn(n.children,(l,c)=>{c!==Qe&&s.push(`${c}:${Gu(l,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(n,t){let e=[];return xn(n.children,(s,l)=>{l===Qe&&(e=e.concat(t(s,l)))}),xn(n.children,(s,l)=>{l!==Qe&&(e=e.concat(t(s,l)))}),e}(n,(s,l)=>l===Qe?[Gu(n.children[Qe],!1)]:[`${l}:${Gu(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qe]?`${qs(n)}/${e[0]}`:`${qs(n)}/(${e.join("//")})`}}function ig(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zu(n){return ig(n).replace(/%3B/gi,";")}function qu(n){return ig(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rl(n){return decodeURIComponent(n)}function tf(n){return Rl(n.replace(/\+/g,"%20"))}function Pl(n){return`${qu(n.path)}${function(n){return Object.keys(n).map(t=>`;${qu(t)}=${qu(n[t])}`).join("")}(n.parameters)}`}const O_=/^[^\/()?;=#]+/;function bd(n){const t=n.match(O_);return t?t[0]:""}const x_=/^[^=?&#]+/,Zs=/^[^?&#]+/;class wd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[Qe]=new vt(t,e)),s}parseSegment(){const t=bd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Hu(Rl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=bd(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const l=bd(this.remaining);l&&(s=l,this.capture(s))}t[Rl(e)]=Rl(s)}parseQueryParam(t){const e=function(n){const t=n.match(x_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function(n){const t=n.match(Zs);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const l=tf(e),c=tf(s);if(t.hasOwnProperty(l)){let g=t[l];Array.isArray(g)||(g=[g],t[l]=g),g.push(c)}else t[l]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=bd(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let c;s.indexOf(":")>-1?(c=s.substr(0,s.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Qe);const g=this.parseChildren();e[c]=1===Object.keys(g).length?g[Qe]:new vt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class sg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=nf(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=nf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return rf(t,this._root).map(e=>e.value)}}function nf(n,t){if(n===t.value)return t;for(const e of t.children){const s=nf(n,e);if(s)return s}return null}function rf(n,t){if(n===t.value)return[t];for(const e of t.children){const s=rf(n,e);if(s.length)return s.unshift(t),s}return[]}class Ks{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Id extends sg{constructor(t,e){super(t),this.snapshot=e,Td(this,t)}toString(){return this.snapshot.toString()}}function og(n,t){const e=function(n,t){const g=new Dd([],{},{},"",{},Qe,t,null,n.root,-1,{});return new jo("",new Ks(g,[]))}(n,t),s=new pr([new Hu("",{})]),l=new pr({}),c=new pr({}),g=new pr({}),v=new pr(""),b=new Bo(s,l,g,v,c,Qe,t,e.root);return b.snapshot=e.root,new Id(new Ks(b,[]),e)}class Bo{constructor(t,e,s,l,c,g,v,b){this.url=t,this.params=e,this.queryParams=s,this.fragment=l,this.data=c,this.outlet=g,this.component=v,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(t=>Xt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(t=>Xt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ag(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const l=e[s],c=e[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(c.component)break;s--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Dd{constructor(t,e,s,l,c,g,v,b,S,x,O){this.url=t,this.params=e,this.queryParams=s,this.fragment=l,this.data=c,this.outlet=g,this.component=v,this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jo extends sg{constructor(t,e){super(e),this.url=t,Td(this,e)}toString(){return wi(this._root)}}function Td(n,t){t.value._routerState=n,t.children.forEach(e=>Td(n,e))}function wi(n){const t=n.children.length>0?` { ${n.children.map(wi).join(", ")} } `:"";return`${n.value}${t}`}function Pa(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,li(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),li(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!li(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),li(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Nl(n,t){return li(n.params,t.params)&&function(n,t){return Uo(n,t)&&n.every((e,s)=>li(e.parameters,t[s].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Nl(n.parent,t.parent))}function Ol(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const l=function(n,t,e){return t.children.map(s=>{for(const l of e.children)if(n.shouldReuseRoute(s.value,l.value.snapshot))return Ol(n,s,l);return Ol(n,s)})}(n,t,e);return new Ks(s,l)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const g=c.route;return cg(t,g),g}}const s=function(n){return new Bo(new pr(n.url),new pr(n.params),new pr(n.queryParams),new pr(n.fragment),new pr(n.data),n.outlet,n.component,n)}(t.value),l=t.children.map(c=>Ol(n,c));return new Ks(s,l)}}function cg(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)cg(n.children[e],t.children[e])}function Ku(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ui(n){return"object"==typeof n&&null!=n&&n.outlets}function dg(n,t,e,s,l){let c={};return s&&xn(s,(g,v)=>{c[v]=Array.isArray(g)?g.map(b=>`${b}`):`${g}`}),new Sa(e.root===n?t:L_(e.root,n,t),c,l)}function L_(n,t,e){const s={};return xn(n.children,(l,c)=>{s[c]=l===t?e:L_(l,t,e)}),new vt(n.segments,s)}class Yu{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&Ku(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(ui);if(l&&l!==Lo(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qu{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function Ju(n,t,e){if(n||(n=new vt([],{})),0===n.segments.length&&n.hasChildren())return Xu(n,t,e);const s=function(n,t,e){let s=0,l=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(s>=e.length)return c;const g=n.segments[l],v=e[s];if(ui(v))break;const b=`${v}`,S=s<e.length-1?e[s+1]:null;if(l>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!fg(b,S,g))return c;s+=2}else{if(!fg(b,{},g))return c;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(n,t,e),l=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const c=new vt(n.segments.slice(0,s.pathIndex),{});return c.children[Qe]=new vt(n.segments.slice(s.pathIndex),n.children),Xu(c,0,l)}return s.match&&0===l.length?new vt(n.segments,{}):s.match&&!n.hasChildren()?of(n,t,e):s.match?Xu(n,0,l):of(n,t,e)}function Xu(n,t,e){if(0===e.length)return new vt(n.segments,{});{const s=function(n){return ui(n[0])?n[0].outlets:{[Qe]:n}}(e),l={};return xn(s,(c,g)=>{"string"==typeof c&&(c=[c]),null!==c&&(l[g]=Ju(n.children[g],t,c))}),xn(n.children,(c,g)=>{void 0===s[g]&&(l[g]=c)}),new vt(n.segments,l)}}function of(n,t,e){const s=n.segments.slice(0,t);let l=0;for(;l<e.length;){const c=e[l];if(ui(c)){const b=En(c.outlets);return new vt(s,b)}if(0===l&&Ku(e[0])){s.push(new Hu(n.segments[t].path,hg(e[0]))),l++;continue}const g=ui(c)?c.outlets[Qe]:`${c}`,v=l<e.length-1?e[l+1]:null;g&&v&&Ku(v)?(s.push(new Hu(g,hg(v))),l+=2):(s.push(new Hu(g,{})),l++)}return new vt(s,{})}function En(n){const t={};return xn(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=of(new vt([],{}),0,e))}),t}function hg(n){const t={};return xn(n,(e,s)=>t[s]=`${e}`),t}function fg(n,t,e){return n==e.path&&li(t,e.parameters)}class lf{constructor(t,e,s,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=l}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),Pa(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const l=Zu(e);t.children.forEach(c=>{const g=c.value.outlet;this.deactivateRoutes(c,l[g],s),delete l[g]}),xn(l,(c,g)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(t,e,s){const l=t.value,c=e?e.value:null;if(l===c)if(l.component){const g=s.getContext(l.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else c&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet);if(s&&s.outlet){const l=s.outlet.detach(),c=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),l=s&&t.value.component?s.children:e,c=Zu(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const l=Zu(e);t.children.forEach(c=>{this.activateRoutes(c,l[c.value.outlet],s),this.forwardEvent(new oi(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Ws(t.value.snapshot))}activateRoutes(t,e,s){const l=t.value,c=e?e.value:null;if(Pa(l),l===c)if(l.component){const g=s.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(l.component){const g=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const v=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),Sd(v.route)}else{const v=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),b=v?v.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=b,g.outlet&&g.outlet.activateWith(l,b),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}function Sd(n){Pa(n.value),n.children.forEach(Sd)}class uf{constructor(t,e){this.routes=t,this.module=e}}function fs(n){return"function"==typeof n}function xl(n){return n instanceof Sa}const kl=Symbol("INITIAL_VALUE");function Ma(){return Ln(n=>function(...n){let t,e;return(0,Vs.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,_l.k)(n[0])&&(n=n[0]),(0,vl.n)(n,e).lift(new El(t))}(n.map(t=>t.pipe(md(1),function(...n){const t=n[n.length-1];return(0,Vs.K)(t)?(n.pop(),e=>Us(n,e,t)):e=>Us(n,e)}(kl)))).pipe(Fu((t,e)=>{let s=!1;return e.reduce((l,c,g)=>l!==kl?l:(c===kl&&(s=!0),s||!1!==c&&g!==e.length-1&&!xl(c)?l:c),t)},kl),Bs(t=>t!==kl),(0,bt.U)(t=>xl(t)?t:!0===t),md(1)))}let nr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&h._UZ(0,"router-outlet")},directives:function(){return[Fd]},encapsulation:2}),n})();function Fl(n,t=""){for(let e=0;e<n.length;e++){const s=n[e];hf(s,$_(t,s))}}function hf(n,t){n.children&&Fl(n.children,t)}function $_(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Ll(n){const t=n.children&&n.children.map(Ll),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Qe&&(e.component=nr),e}function ci(n){return n.outlet||Qe}function ff(n,t){const e=n.filter(s=>ci(s)===t);return e.push(...n.filter(s=>ci(s)!==t)),e}const pf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Rd(n,t,e){var s;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},pf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||Aa)(e,n,t);if(!c)return Object.assign({},pf);const g={};xn(c.posParams,(b,S)=>{g[S]=b.path});const v=c.consumed.length>0?Object.assign(Object.assign({},g),c.consumed[c.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:v,positionalParamSegments:null!==(s=c.posParams)&&void 0!==s?s:{}}}function tc(n,t,e,s,l="corrected"){if(e.length>0&&function(n,t,e){return e.some(s=>Na(n,t,s)&&ci(s)!==Qe)}(n,e,s)){const g=new vt(t,function(n,t,e,s){const l={};l[Qe]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&ci(c)!==Qe){const g=new vt([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,l[ci(c)]=g}return l}(n,t,s,new vt(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(s=>Na(n,t,s))}(n,e,s)){const g=new vt(n.segments,function(n,t,e,s,l,c){const g={};for(const v of s)if(Na(n,e,v)&&!l[ci(v)]){const b=new vt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===c?n.segments.length:t.length,g[ci(v)]=b}return Object.assign(Object.assign({},l),g)}(n,t,e,s,n.children,l));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const c=new vt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Na(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function mf(n,t,e,s){return!!(ci(n)===s||s!==Qe&&Na(t,e,n))&&("**"===n.path||Rd(t,n,e).matched)}function Md(n,t,e){return 0===t.length&&!n.children[e]}class _r{constructor(t){this.segmentGroup=t||null}}class Oa{constructor(t){this.urlTree=t}}function Ho(n){return new tr.y(t=>t.error(new _r(n)))}function gg(n){return new tr.y(t=>t.error(new Oa(n)))}function _f(n){return new tr.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class mg{constructor(t,e,s,l,c){this.configLoader=e,this.urlSerializer=s,this.urlTree=l,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(h.h0i)}apply(){const t=tc(this.urlTree.root,[],[],this.config).segmentGroup,e=new vt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Qe).pipe((0,bt.U)(c=>this.createUrlTree(ps(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hs(c=>{if(c instanceof Oa)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof _r?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Qe).pipe((0,bt.U)(l=>this.createUrlTree(ps(l),t.queryParams,t.fragment))).pipe(hs(l=>{throw l instanceof _r?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,s){const l=t.segments.length>0?new vt([],{[Qe]:t}):t;return new Sa(l,e,s)}expandSegmentGroup(t,e,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,bt.U)(c=>new vt([],c))):this.expandSegment(t,s,e,s.segments,l,!0)}expandChildren(t,e,s){const l=[];for(const c of Object.keys(s.children))"primary"===c?l.unshift(c):l.push(c);return(0,cn.D)(l).pipe(Vu(c=>{const g=s.children[c],v=ff(e,c);return this.expandSegmentGroup(t,v,g,c).pipe((0,bt.U)(b=>({segment:b,outlet:c})))}),Fu((c,g)=>(c[g.outlet]=g.segment,c),{}),function(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Bs((l,c)=>n(l,c,s)):Hs.y,yd(1),e?Uu(t):Da(()=>new Wr))}())}expandSegment(t,e,s,l,c,g){return(0,cn.D)(s).pipe(Vu(v=>this.expandSegmentAgainstRoute(t,e,s,v,l,c,g).pipe(hs(S=>{if(S instanceof _r)return(0,Be.of)(null);throw S}))),Mn(v=>!!v),hs((v,b)=>{if(v instanceof Wr||"EmptyError"===v.name){if(Md(e,l,c))return(0,Be.of)(new vt([],{}));throw new _r(e)}throw v}))}expandSegmentAgainstRoute(t,e,s,l,c,g,v){return mf(l,e,c,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,c,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,l,c,g):Ho(e):Ho(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,l,c,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,l,c,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,l){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?gg(c):this.lineralizeSegments(s,c).pipe((0,yn.zg)(g=>{const v=new vt(g,{});return this.expandSegment(t,v,e,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,l,c,g){const{matched:v,consumedSegments:b,lastChild:S,positionalParamSegments:x}=Rd(e,l,c);if(!v)return Ho(e);const O=this.applyRedirectCommands(b,l.redirectTo,x);return l.redirectTo.startsWith("/")?gg(O):this.lineralizeSegments(l,O).pipe((0,yn.zg)(z=>this.expandSegment(t,e,s,z.concat(c.slice(S)),g,!1)))}matchSegmentAgainstRoute(t,e,s,l,c){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Be.of)(s._loadedConfig):this.configLoader.load(t.injector,s)).pipe((0,bt.U)(z=>(s._loadedConfig=z,new vt(l,{})))):(0,Be.of)(new vt(l,{}));const{matched:g,consumedSegments:v,lastChild:b}=Rd(e,s,l);if(!g)return Ho(e);const S=l.slice(b);return this.getChildConfig(t,s,l).pipe((0,yn.zg)(O=>{const z=O.module,re=O.routes,{segmentGroup:fe,slicedSegments:Ae}=tc(e,v,S,re),Me=new vt(fe.segments,fe.children);if(0===Ae.length&&Me.hasChildren())return this.expandChildren(z,re,Me).pipe((0,bt.U)(ht=>new vt(v,ht)));if(0===re.length&&0===Ae.length)return(0,Be.of)(new vt(v,{}));const dt=ci(s)===c;return this.expandSegment(z,Me,re,Ae,dt?Qe:c,!0).pipe((0,bt.U)(Ft=>new vt(v.concat(Ft.segments),Ft.children)))}))}getChildConfig(t,e,s){return e.children?(0,Be.of)(new uf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Be.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,s).pipe((0,yn.zg)(l=>{return l?this.configLoader.load(t.injector,e).pipe((0,bt.U)(c=>(e._loadedConfig=c,c))):(n=e,new tr.y(t=>t.error(Xp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Be.of)(new uf([],t))}runCanLoadGuards(t,e,s){const l=e.canLoad;if(!l||0===l.length)return(0,Be.of)(!0);const c=l.map(g=>{const v=t.get(g);let b;if((n=v)&&fs(n.canLoad))b=v.canLoad(e,s);else{if(!fs(v))throw new Error("Invalid CanLoad guard");b=v(e,s)}var n;return Vn(b)});return(0,Be.of)(c).pipe(Ma(),(0,Nn.b)(g=>{if(!xl(g))return;const v=Xp(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw v.url=g,v}),(0,bt.U)(g=>!0===g))}lineralizeSegments(t,e){let s=[],l=e.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return(0,Be.of)(s);if(l.numberOfChildren>1||!l.children[Qe])return _f(t.redirectTo);l=l.children[Qe]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreatreUrlTree(t,e,s,l){const c=this.createSegmentGroup(t,e.root,s,l);return new Sa(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return xn(t,(l,c)=>{if("string"==typeof l&&l.startsWith(":")){const v=l.substring(1);s[c]=e[v]}else s[c]=l}),s}createSegmentGroup(t,e,s,l){const c=this.createSegments(t,e.segments,s,l);let g={};return xn(e.children,(v,b)=>{g[b]=this.createSegmentGroup(t,v,s,l)}),new vt(c,g)}createSegments(t,e,s,l){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,l):this.findOrReturn(c,s))}findPosParam(t,e,s){const l=s[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let s=0;for(const l of e){if(l.path===t.path)return e.splice(s),l;s++}return t}}function ps(n){const t={};for(const s of Object.keys(n.children)){const c=ps(n.children[s]);(c.segments.length>0||c.hasChildren())&&(t[s]=c)}return function(n){if(1===n.numberOfChildren&&n.children[Qe]){const t=n.children[Qe];return new vt(n.segments.concat(t.segments),t.children)}return n}(new vt(n.segments,t))}class nc{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rr{constructor(t,e){this.component=t,this.route=e}}function yg(n,t,e){const s=n._root;return Vl(s,t?t._root:null,e,[s.value])}function rr(n,t,e){const s=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:e).get(n)}function Vl(n,t,e,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const c=Zu(t);return n.children.forEach(g=>{(function(n,t,e,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,g=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(g&&c.routeConfig===g.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Uo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Uo(n.url,t.url)||!li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nl(n,t)||!li(n.queryParams,t.queryParams);case"paramsChange":default:return!Nl(n,t)}}(g,c,c.routeConfig.runGuardsAndResolvers);b?l.canActivateChecks.push(new nc(s)):(c.data=g.data,c._resolvedData=g._resolvedData),Vl(n,t,c.component?v?v.children:null:e,s,l),b&&v&&v.outlet&&v.outlet.isActivated&&l.canDeactivateChecks.push(new Rr(v.outlet.component,g))}else g&&Qs(t,v,l),l.canActivateChecks.push(new nc(s)),Vl(n,null,c.component?v?v.children:null:e,s,l)})(g,c[g.value.outlet],e,s.concat([g.value]),l),delete c[g.value.outlet]}),xn(c,(g,v)=>Qs(g,e.getContext(v),l)),l}function Qs(n,t,e){const s=Zu(n),l=n.value;xn(s,(c,g)=>{Qs(c,l.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new Rr(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class f{}function p(n){return new tr.y(t=>t.error(n))}class D{constructor(t,e,s,l,c,g){this.rootComponentType=t,this.config=e,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=g}recognize(){const t=tc(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Qe);if(null===e)return null;const s=new Dd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Ks(s,e),c=new jo(this.url,l);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,s=ag(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,s)}processChildren(t,e){const s=[];for(const c of Object.keys(e.children)){const g=e.children[c],v=ff(t,c),b=this.processSegmentGroup(v,g,c);if(null===b)return null;s.push(...b)}const l=Se(s);return l.sort((t,e)=>t.value.outlet===Qe?-1:e.value.outlet===Qe?1:t.value.outlet.localeCompare(e.value.outlet)),l}processSegment(t,e,s,l){for(const c of t){const g=this.processSegmentAgainstRoute(c,e,s,l);if(null!==g)return g}return Md(e,s,l)?[]:null}processSegmentAgainstRoute(t,e,s,l){if(t.redirectTo||!mf(t,e,s,l))return null;let c,g=[],v=[];if("**"===t.path){const re=s.length>0?Lo(s).parameters:{};c=new Dd(s,re,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ct(t),ci(t),t.component,t,ke(e),Le(e)+s.length,In(t))}else{const re=Rd(e,t,s);if(!re.matched)return null;g=re.consumedSegments,v=s.slice(re.lastChild),c=new Dd(g,re.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ct(t),ci(t),t.component,t,ke(e),Le(e)+g.length,In(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:x}=tc(e,g,v,b.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);var n;if(0===x.length&&S.hasChildren()){const re=this.processChildren(b,S);return null===re?null:[new Ks(c,re)]}if(0===b.length&&0===x.length)return[new Ks(c,[])];const O=ci(t)===l,z=this.processSegment(b,S,x,O?Qe:l);return null===z?null:[new Ks(c,z)]}}function se(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Se(n){const t=[],e=new Set;for(const s of n){if(!se(s)){t.push(s);continue}const l=t.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==l?(l.children.push(...s.children),e.add(l)):t.push(s)}for(const s of e){const l=Se(s.children);t.push(new Ks(s.value,l))}return t.filter(s=>!e.has(s))}function ke(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Le(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function ct(n){return n.data||{}}function In(n){return n.resolve||{}}function ic(n){return Ln(t=>{const e=n(t);return e?(0,cn.D)(e).pipe((0,bt.U)(()=>t)):(0,Be.of)(t)})}class yf extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sc=new h.OlP("ROUTES");class xd{constructor(t,e,s,l){this.loader=t,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,bt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=c.create(t);return new uf(eg(g.injector.get(sc,void 0,h.XFs.Self|h.XFs.Optional)).map(Ll),g)}),hs(c=>{throw e._loader$=void 0,c}));return e._loader$=new pd.c(l,()=>new Hr.xQ).pipe((0,Fo.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,cn.D)(this.loader.load(t)):Vn(t()).pipe((0,yn.zg)(e=>e instanceof h.YKP?(0,Be.of)(e):(0,cn.D)(this.compiler.compileModuleAsync(e))))}}class kd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Go,this.attachRef=null}}class Go{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const s=this.getOrCreateContext(t);s.outlet=e,this.contexts.set(t,s)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new kd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class qI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vC(n){throw n}function EC(n,t,e){return t.parse("/")}function Ul(n,t){return(0,Be.of)(null)}const CC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{constructor(e,s,l,c,g,v,b,S){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=l,this.location=c,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Hr.xQ,this.errorHandler=vC,this.malformedUriErrorHandler=EC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ul,afterPreactivation:Ul},this.urlHandlingStrategy=new qI,this.routeReuseStrategy=new yf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(h.h0i),this.console=g.get(h.c2e);const z=g.get(h.R0b);this.isNgZoneEnabled=z instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Sa(new vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xd(v,b,re=>this.triggerEvent(new mr(re)),re=>this.triggerEvent(new On(re))),this.routerState=og(this.currentUrlTree,this.rootComponentType),this.transitions=new pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Bs(l=>0!==l.id),(0,bt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Ln(l=>{let c=!1,g=!1;return(0,Be.of)(l).pipe((0,Nn.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ln(v=>{const b=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return Sg(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,Be.of)(v).pipe(Ln(O=>{const z=this.transitions.getValue();return s.next(new U(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),z!==this.transitions.getValue()?gr.E:Promise.resolve(O)}),function(n,t,e,s){return Ln(l=>function(n,t,e,s,l){return new mg(n,t,e,s,l).apply()}(n,t,e,l.extractedUrl,s).pipe((0,bt.U)(c=>Object.assign(Object.assign({},l),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Nn.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,t,e,s,l){return(0,yn.zg)(c=>function(n,t,e,s,l="emptyOnly",c="legacy"){try{const g=new D(n,t,e,s,l,c).recognize();return null===g?p(new f):(0,Be.of)(g)}catch(g){return p(g)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),s,l).pipe((0,bt.U)(g=>Object.assign(Object.assign({},c),{targetSnapshot:g}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Nn.b)(O=>{"eager"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(O.urlAfterRedirects,O),this.browserUrlTree=O.urlAfterRedirects);const z=new Ne(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);s.next(z)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:re,source:fe,restoredState:Ae,extras:Me}=v,dt=new U(z,this.serializeUrl(re),fe,Ae);s.next(dt);const Xe=og(re,this.rootComponentType).snapshot;return(0,Be.of)(Object.assign(Object.assign({},v),{targetSnapshot:Xe,urlAfterRedirects:re,extras:Object.assign(Object.assign({},Me),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),gr.E}),ic(v=>{const{targetSnapshot:b,id:S,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:z,replaceUrl:re}}=v;return this.hooks.beforePreactivation(b,{navigationId:S,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!z,replaceUrl:!!re})}),(0,Nn.b)(v=>{const b=new xe(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),(0,bt.U)(v=>Object.assign(Object.assign({},v),{guards:yg(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,t){return(0,yn.zg)(e=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:c,canDeactivateChecks:g}}=e;return 0===g.length&&0===c.length?(0,Be.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,s){return(0,cn.D)(n).pipe((0,yn.zg)(l=>function(n,t,e,s,l){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Be.of)(!0);const g=c.map(v=>{const b=rr(v,t,l);let S;if(function(n){return n&&fs(n.canDeactivate)}(b))S=Vn(b.canDeactivate(n,t,e,s));else{if(!fs(b))throw new Error("Invalid CanDeactivate guard");S=Vn(b(n,t,e,s))}return S.pipe(Mn())});return(0,Be.of)(g).pipe(Ma())}(l.component,l.route,e,t,s)),Mn(l=>!0!==l,!0))}(g,s,l,n).pipe((0,yn.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,t,e,s){return(0,cn.D)(t).pipe(Vu(l=>Us(function(n,t){return null!==n&&t&&t(new wl(n)),(0,Be.of)(!0)}(l.route.parent,s),function(n,t){return null!==n&&t&&t(new Il(n)),(0,Be.of)(!0)}(l.route,s),function(n,t,e){const s=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(g=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>si(()=>{const v=g.guards.map(b=>{const S=rr(b,g.node,e);let x;if(function(n){return n&&fs(n.canActivateChild)}(S))x=Vn(S.canActivateChild(s,n));else{if(!fs(S))throw new Error("Invalid CanActivateChild guard");x=Vn(S(s,n))}return x.pipe(Mn())});return(0,Be.of)(v).pipe(Ma())}));return(0,Be.of)(c).pipe(Ma())}(n,l.path,e),function(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Be.of)(!0);const l=s.map(c=>si(()=>{const g=rr(c,t,e);let v;if(function(n){return n&&fs(n.canActivate)}(g))v=Vn(g.canActivate(t,n));else{if(!fs(g))throw new Error("Invalid CanActivate guard");v=Vn(g(t,n))}return v.pipe(Mn())}));return(0,Be.of)(l).pipe(Ma())}(n,l.route,e))),Mn(l=>!0!==l,!0))}(s,c,n,t):(0,Be.of)(v)),(0,bt.U)(v=>Object.assign(Object.assign({},e),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Nn.b)(v=>{if(xl(v.guardsResult)){const S=Xp(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const b=new Ct(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(b)}),Bs(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),ic(v=>{if(v.guards.canActivateChecks.length)return(0,Be.of)(v).pipe((0,Nn.b)(b=>{const S=new zt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}),Ln(b=>{let S=!1;return(0,Be.of)(b).pipe(function(n,t){return(0,yn.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,Be.of)(e);let c=0;return(0,cn.D)(l).pipe(Vu(g=>function(n,t,e,s){return function(n,t,e,s){const l=Object.keys(n);if(0===l.length)return(0,Be.of)({});const c={};return(0,cn.D)(l).pipe((0,yn.zg)(g=>function(n,t,e,s){const l=rr(n,t,s);return Vn(l.resolve?l.resolve(t,e):l(t,e))}(n[g],t,e,s).pipe((0,Nn.b)(v=>{c[g]=v}))),yd(1),(0,yn.zg)(()=>Object.keys(c).length===l.length?(0,Be.of)(c):gr.E))}(n._resolve,n,t,s).pipe((0,bt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),ag(n,e).resolve),null)))}(g.route,s,n,t)),(0,Nn.b)(()=>c++),yd(1),(0,yn.zg)(g=>c===l.length?(0,Be.of)(e):gr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Nn.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Nn.b)(b=>{const S=new vn(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}))}),ic(v=>{const{targetSnapshot:b,id:S,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:z,replaceUrl:re}}=v;return this.hooks.afterPreactivation(b,{navigationId:S,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!z,replaceUrl:!!re})}),(0,bt.U)(v=>{const b=function(n,t,e){const s=Ol(n,t._root,e?e._root:void 0);return new Id(s,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:b})}),(0,Nn.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,t,e)=>(0,bt.U)(s=>(new lf(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Nn.b)({next(){c=!0},complete(){c=!0}}),function(n){return t=>t.lift(new w(n))}(()=>{var v;if(!c&&!g){const b=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,b)):this.cancelNavigationTransition(l,b)}(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===l.id&&(this.currentNavigation=null)}),hs(v=>{if(g=!0,function(n){return n&&n[Dl]}(v)){const b=xl(v.url);b||(this.navigated=!0,this.restoreHistory(l,!0));const S=new ae(l.id,this.serializeUrl(l.extractedUrl),v.message);s.next(S),b?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),O={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sg(l.source)};this.scheduleNavigation(x,"imperative",null,O,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const b=new be(l.id,this.serializeUrl(l.extractedUrl),v);s.next(b);try{l.resolve(this.errorHandler(v))}catch(S){l.reject(S)}}return gr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:l,state:c,urlTree:g}=s,v={replaceUrl:!0};if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(v.state=b)}this.scheduleNavigation(g,l,c,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const l=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!l||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Fl(e),this.config=e.map(Ll),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:l,queryParams:c,fragment:g,queryParamsHandling:v,preserveFragment:b}=s,S=l||this.routerState.root,x=b?this.currentUrlTree.fragment:g;let O=null;switch(v){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=c||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,t,e,s,l){if(0===e.length)return dg(t.root,t.root,t,s,l);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yu(!0,0,n);let t=0,e=!1;const s=n.reduce((l,c,g)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return xn(c.outlets,(b,S)=>{v[S]="string"==typeof b?b.split("/"):b}),[...l,{outlets:v}]}if(c.segmentPath)return[...l,c.segmentPath]}return"string"!=typeof c?[...l,c]:0===g?(c.split("/").forEach((v,b)=>{0==b&&"."===v||(0==b&&""===v?e=!0:".."===v?t++:""!=v&&l.push(v))}),l):[...l,c]},[]);return new Yu(e,t,s)}(e);if(c.toRoot())return dg(t.root,new vt([],{}),t,s,l);const g=function(n,t,e){if(n.isAbsolute)return new Qu(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new Qu(c,c===t.root,0)}const s=Ku(n.commands[0])?0:1;return function(n,t,e){let s=n,l=t,c=e;for(;c>l;){if(c-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new Qu(s,!1,l-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(c,t,n),v=g.processChildren?Xu(g.segmentGroup,g.index,c.commands):Ju(g.segmentGroup,g.index,c.commands);return dg(g.segmentGroup,v,t,s,l)}(S,this.currentUrlTree,e,O,null!=x?x:null)}navigateByUrl(e,s={skipLocationChange:!1}){const l=xl(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return s}isActive(e,s){let l;if(l=!0===s?Object.assign({},CC):!1===s?Object.assign({},bC):s,xl(e))return $u(this.currentUrlTree,e,l);const c=this.parseUrl(e);return $u(this.currentUrlTree,c,l)}removeEmptyProps(e){return Object.keys(e).reduce((s,l)=>{const c=e[l];return null!=c&&(s[l]=c),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Q(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,l,c,g){var v,b;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),x=Sg(s)&&S&&!Sg(S.source),re=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===e.toString();if(x&&re)return Promise.resolve(!0);let fe,Ae,Me;g?(fe=g.resolve,Ae=g.reject,Me=g.promise):Me=new Promise((Ft,ht)=>{fe=Ft,Ae=ht});const dt=++this.navigationId;let Xe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Xe=l&&l.\u0275routerPageId?l.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Xe=0,this.setTransition({id:dt,targetPageId:Xe,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:fe,reject:Ae,promise:Me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Me.catch(Ft=>Promise.reject(Ft))}setBrowserUrl(e,s){const l=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",c):this.location.go(l,"",c)}restoreHistory(e,s=!1){var l,c;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const l=new ae(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.DyG),h.LFG(ef),h.LFG(Go),h.LFG(Ve),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Sg(n){return"imperative"!==n}let oc=(()=>{class n{constructor(e,s,l){this.router=e,this.route=s,this.locationStrategy=l,this.commands=[],this.onChanges=new Hr.xQ,this.subscription=e.events.subscribe(c=>{c instanceof Q&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,l,c,g){if(0!==e||s||l||c||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:ac(this.skipLocationChange),replaceUrl:ac(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ac(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(zr),h.Y36(Bo),h.Y36(he))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&h.NdJ("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function ac(n){return""===n||!!n}let Fd=(()=>{class n{constructor(e,s,l,c,g){this.parentContexts=e,this.location=s,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=c||Qe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,b=new Pg(e,v,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Go),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Pg{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Bo?this.route:t===Go?this.childContexts:this.parent.get(t,e)}}class q_{}class K_{preload(t,e){return(0,Be.of)(null)}}let Mg=(()=>{class n{constructor(e,s,l,c,g){this.router=e,this.injector=c,this.preloadingStrategy=g,this.loader=new xd(s,l,S=>e.triggerEvent(new mr(S)),S=>e.triggerEvent(new On(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bs(e=>e instanceof Q),Vu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(h.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const l=[];for(const c of s)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const g=c._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else c.loadChildren&&!c.canLoad?l.push(this.preloadConfig(e,c)):c.children&&l.push(this.processRoutes(e,c.children));return(0,cn.D)(l).pipe((0,Ui.J)(),(0,bt.U)(c=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Be.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,yn.zg)(c=>(s._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(zr),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(q_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),lc=(()=>{class n{constructor(e,s,l={}){this.router=e,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Q&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ai&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new ai(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(zr),h.LFG(ca),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=new h.OlP("ROUTER_CONFIGURATION"),IC=new h.OlP("ROUTER_FORROOT_GUARD"),DC=[Ve,{provide:ef,useClass:Sl},{provide:zr,useFactory:function(n,t,e,s,l,c,g,v={},b,S){const x=new zr(null,n,t,e,s,l,c,eg(g));return b&&(x.urlHandlingStrategy=b),S&&(x.routeReuseStrategy=S),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(v,x),v.enableTracing&&x.events.subscribe(O=>{var z,re;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(re=console.groupEnd)||void 0===re||re.call(console)}),x},deps:[ef,Go,Ve,h.zs3,h.v3s,h.Sil,sc,Bl,[class{},new h.FiY],[class{},new h.FiY]]},Go,{provide:Bo,useFactory:function(n){return n.routerState.root},deps:[zr]},{provide:h.v3s,useClass:h.EAV},Mg,K_,class{preload(t,e){return e().pipe(hs(()=>(0,Be.of)(null)))}},{provide:Bl,useValue:{enableTracing:!1}}];function Y_(){return new h.PXZ("Router",zr)}let Q_=(()=>{class n{constructor(e,s){}static forRoot(e,s){return{ngModule:n,providers:[DC,J_(e),{provide:IC,useFactory:KI,deps:[[zr,new h.FiY,new h.tp0]]},{provide:Bl,useValue:s||{}},{provide:he,useFactory:TC,deps:[Y,[new h.tBr(de),new h.FiY],Bl]},{provide:lc,useFactory:_R,deps:[zr,ca,Bl]},{provide:q_,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:K_},{provide:h.PXZ,multi:!0,useFactory:Y_},[X_,{provide:h.ip1,multi:!0,useFactory:AC,deps:[X_]},{provide:SC,useFactory:JI,deps:[X_]},{provide:h.tb,multi:!0,useExisting:SC}]]}}static forChild(e){return{ngModule:n,providers:[J_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(IC,8),h.LFG(zr,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function _R(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new lc(n,t,e)}function TC(n,t,e={}){return e.useHash?new Ie(n,t):new me(n,t)}function KI(n){return"guarded"}function J_(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:sc,multi:!0,useValue:n}]}let X_=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Hr.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(v=>s=v),c=this.injector.get(zr),g=this.injector.get(Bl);return"disabled"===g.initialNavigation?(c.setUpLocationChangeListener(),s(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Be.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),c.initialNavigation()):s(!0),l})}bootstrapListener(e){const s=this.injector.get(Bl),l=this.injector.get(Mg),c=this.injector.get(lc),g=this.injector.get(zr),v=this.injector.get(h.z2F);e===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),c.init(),g.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function AC(n){return n.appInitializer.bind(n)}function JI(n){return n.bootstrapListener.bind(n)}const SC=new h.OlP("Router Initializer");class ey{constructor(){this.title="",this.questions=[]}}var eD=L(3637),ty=L(6682),tD=L(8819);class RC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new PC(t,this.compare,this.keySelector))}}class PC extends Jt.L{constructor(t,e,s){super(t),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:l}=this;e=l?l(t):t}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,e)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=e,this.destination.next(t))}}class eo{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new MC(t,this.observables,this.project))}}class MC extends yl{constructor(t,e,s){super(t),this.observables=e,this.project=s,this.toRespond=[];const l=e.length;this.values=new Array(l);for(let c=0;c<l;c++)this.toRespond.push(c);for(let c=0;c<l;c++)this.add(mn(this,e[c],void 0,c))}notifyNext(t,e,s){this.values[s]=e;const l=this.toRespond;if(l.length>0){const c=l.indexOf(s);-1!==c&&l.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class ny{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new ka(t,this.predicate))}}class ka extends Jt.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Di=L(9098),gs=L(8939),vR=(L(941),L(3394)),jl=L(3910),Ld=L(8239),di=L(8026),V=L(3854),uc=L(5422);const Og="@firebase/database";let ry="";function iy(n){ry=n}class ER{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,V.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,V.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class iD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,V.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const sD=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ER(t)}}catch(t){}return new iD},$l=sD("localStorage"),xg=sD("sessionStorage"),Vd=new uc.Yd("@firebase/database"),kg=function(){let n=1;return function(){return n++}}(),oD=function(n){const t=(0,V.dS)(n),e=new V.gQ;e.update(t);const s=e.digest();return V.US.encodeByteArray(s)},Fg=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Fg.apply(null,s):t+="object"==typeof s?(0,V.Pz)(s):s,t+=" "}return t};let Ud=null,aD=!0;const lD=function(n,t){(0,V.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Vd.logLevel=uc.in.VERBOSE,Ud=Vd.log.bind(Vd),t&&xg.set("logging_enabled",!0)):"function"==typeof n?Ud=n:(Ud=null,xg.remove("logging_enabled"))},Pr=function(...n){if(!0===aD&&(aD=!1,null===Ud&&!0===xg.get("logging_enabled")&&lD(!0)),Ud){const t=Fg.apply(null,n);Ud(t)}},Lg=function(n){return function(...t){Pr(n,...t)}},OC=function(...n){const t="FIREBASE INTERNAL ERROR: "+Fg(...n);Vd.error(t)},Fa=function(...n){const t=`FIREBASE FATAL ERROR: ${Fg(...n)}`;throw Vd.error(t),new Error(t)},Ti=function(...n){const t="FIREBASE WARNING: "+Fg(...n);Vd.warn(t)},to=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},La="[MIN_NAME]",no="[MAX_NAME]",Va=function(n,t){if(n===t)return 0;if(n===La||t===no)return-1;if(t===La||n===no)return 1;{const e=Hl(n),s=Hl(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},xC=function(n,t){return n===t?0:n<t?-1:1},cc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Pz)(t))},oy=function(n){if("object"!=typeof n||null===n)return(0,V.Pz)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,V.Pz)(t[s]),e+=":",e+=oy(n[t[s]]);return e+="}",e},Ua=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let l=0;l<e;l+=t)s.push(n.substring(l,l+t>e?e:l+t));return s};function ir(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const kC=function(n){(0,V.hu)(!to(n),"Invalid JSON number");const s=1023;let l,c,g,v,b;0===n?(c=0,g=0,l=1/n==-1/0?1:0):(l=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),s),c=v+s,g=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(c=0,g=Math.round(n/Math.pow(2,-1074))));const S=[];for(b=52;b;b-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(b=11;b;b-=1)S.push(c%2?1:0),c=Math.floor(c/2);S.push(l?1:0),S.reverse();const x=S.join("");let O="";for(b=0;b<64;b+=8){let z=parseInt(x.substr(b,8),2).toString(16);1===z.length&&(z="0"+z),O+=z}return O.toLowerCase()},FC=new RegExp("^-?(0*)\\d{1,10}$"),LC=-2147483648,ly=2147483647,Hl=function(n){if(FC.test(n)){const t=Number(n);if(t>=LC&&t<=ly)return t}return null},ro=function(n){try{n()}catch(t){setTimeout(()=>{throw Ti("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},zo=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class vf{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bd{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ti(t)}}let Ef=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const bf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hy="websocket",fy="long_polling";class py{constructor(t,e,s,l,c=!1,g="",v=!1){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=c,this.persistenceKey=g,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$l.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$l.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function $C(n,t,e){let s;if((0,V.hu)("string"==typeof t,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),t===hy)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==fy)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const l=[];return ir(e,(c,g)=>{l.push(c+"="+g)}),s+l.join("&")}class cD{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,V.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,V.p$)(this.counters_)}}const hi={},gy={};function my(n){const t=n.toString();return hi[t]||(hi[t]=new cD),hi[t]}class IR{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&ro(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wl{constructor(t,e,s,l,c,g,v){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=c,this.transportSessionId=g,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lg(t),this.stats_=my(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),$C(e,fy,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new IR(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cy((...c)=>{const[g,v,b,S,x]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=v,this.password=b;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[g,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(g,v)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&bf.test(location.hostname)&&(s.r="f");const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wl.forceAllow_=!0}static forceDisallow(){Wl.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!Wl.forceAllow_&&(Wl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,V.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,V.h$)(e),l=Ua(s,1840);for(let c=0;c<l.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,V.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Cy{constructor(t,e,s,l){if(this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=kg(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Cy.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(v){Pr("frame writing exception"),v.stack&&Pr(v.stack),Pr(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Pr("No IE domain setting required")}catch(e){const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+l+"="+g.seg+"&ts"+l+"="+g.ts+"&d"+l+"="+g.d,l++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),s()})}addTag(t,e){(0,V.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||"loaded"===l||"complete"===l)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Pr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch(s){}},Math.floor(1))}}let jd=null;"undefined"!=typeof MozWebSocket?jd=MozWebSocket:"undefined"!=typeof WebSocket&&(jd=WebSocket);let wf=(()=>{class n{constructor(e,s,l,c,g,v,b){this.connId=e,this.applicationId=l,this.appCheckToken=c,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lg(this.connId),this.stats_=my(s),this.connURL=n.connectionURL_(s,v,b,c),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,l,c){const g={v:"5"};return!(0,V.Yr)()&&"undefined"!=typeof location&&location.hostname&&bf.test(location.hostname)&&(g.r="f"),s&&(g.s=s),l&&(g.ls=l),c&&(g.ac=c),$C(e,hy,g)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$l.set("previous_websocket_failure",!0);try{if((0,V.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${ry}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,v=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;v&&(c.proxy={origin:v}),this.mySock=new jd(this.connURL,[],c)}else this.mySock=new jd(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const c=l.message||l.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==jd&&!n.forceDisallow_}static previouslyFailed(){return $l.isInMemoryStorage||!0===$l.get("previous_websocket_failure")}markConnectionHealthy(){$l.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const l=(0,V.cI)(s);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const l=this.extractFrameCount_(s);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const s=(0,V.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const l=Ua(s,16384);l.length>1&&this.sendString_(String(l.length));for(let c=0;c<l.length;c++)this.sendString_(l[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class by{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Wl,wf]}initTransports_(t){const e=wf&&wf.isAvailable();let s=e&&!wf.previouslyFailed();if(t.webSocketOnly&&(e||Ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[wf];else{const l=this.transports_=[];for(const c of by.ALL_TRANSPORTS)c&&c.isAvailable()&&l.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class QC{constructor(t,e,s,l,c,g,v,b,S,x){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=c,this.onMessage_=g,this.onReady_=v,this.onDisconnect_=b,this.onKill_=S,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lg("c:"+this.id+":"),this.transportManager_=new by(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=zo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=cc("t",t),s=cc("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=cc("t",t),s=cc("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=cc("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?OC("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):OC("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),zo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ty{put(t,e,s,l){}merge(t,e,s,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Ay{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,V.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const l=this.getInitialEvent(t);l&&e.apply(s,l)}off(t,e,s){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let c=0;c<l.length;c++)if(l[c].callback===e&&(!s||s===l[c].context))return void l.splice(c,1)}validateEventType_(t){(0,V.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class If extends Ay{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new If}getInitialEvent(t){return(0,V.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class At{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Vt(){return new At("")}function wt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Gl(n){return n.pieces_.length-n.pieceNum_}function on(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new At(n.pieces_,t)}function zl(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ba(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Hd(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new At(t,0)}function Cn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof At)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new At(e,0)}function Et(n){return n.pieceNum_>=n.pieces_.length}function qr(n,t){const e=wt(n),s=wt(t);if(null===e)return t;if(e===s)return qr(on(n),on(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function CD(n,t){const e=Ba(n,0),s=Ba(t,0);for(let l=0;l<e.length&&l<s.length;l++){const c=Va(e[l],s[l]);if(0!==c)return c}return e.length===s.length?0:e.length<s.length?-1:1}function Hg(n,t){if(Gl(n)!==Gl(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function ms(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Gl(n)>Gl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Py{constructor(t,e){this.errorPrefix_=e,this.parts_=Ba(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,V.ug)(this.parts_[s]);My(this)}}function My(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_s(n))}function _s(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Wg extends Ay{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Wg}getInitialEvent(t){return(0,V.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Df=1e3;let Gd,dc=(()=>{class n extends Ty{constructor(e,s,l,c,g,v,b,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=l,this.onConnectStatus_=c,this.onServerInfoUpdate_=g,this.authTokenProvider_=v,this.appCheckTokenProvider_=b,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=Lg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Df,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&If.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,l){const c=++this.requestNumber_,g={r:c,a:e,b:s};this.log_((0,V.Pz)(g)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),l&&(this.requestCBHash_[c]=l)}get(e){this.initConnection_();const s=new V.BH,l={p:e._path.toString(),q:e._queryObject},c={action:"g",request:l,onComplete:v=>{const b=v.d;"ok"===v.s?(this.onDataUpdate_(l.p,b,!1,null),s.resolve(b)):s.reject(b)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const v=this.outstandingGets_[g];void 0===v||c!==v||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),s.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),s.promise}listen(e,s,l,c){this.initConnection_();const g=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+g),this.listens.has(v)||this.listens.set(v,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(v).has(g),"listen() called twice for same path/queryId.");const b={onComplete:c,hashFn:s,query:e,tag:l};this.listens.get(v).set(g,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(l)})}sendListen_(e){const s=e.query,l=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+l+" for "+c);const g={p:l};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,b=>{const S=b.d,x=b.s;n.warnOnListenWarnings_(S,s),(this.listens.get(l)&&this.listens.get(l).get(c))===e&&(this.log_("listen response",b),"ok"!==x&&this.removeListen_(l,c),e.onComplete&&e.onComplete(x,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const l=(0,V.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,V.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(s,l,c=>{const g=c.s,v=c.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,l=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,l)})}unlisten(e,s){const l=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+c),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,c)&&this.connected_&&this.sendUnlisten_(l,c,e._queryObject,s)}sendUnlisten_(e,s,l,c){this.log_("Unlisten on "+e+" for "+s);const g={p:e};c&&(g.q=l,g.t=c),this.sendRequest("n",g)}onDisconnectPut(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:l})}onDisconnectMerge(e,s,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:l})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,l,c){const g={p:s,d:l};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,v=>{c&&setTimeout(()=>{c(v.s,v.d)},Math.floor(0))})}put(e,s,l,c){this.putInternal("p",e,s,l,c)}merge(e,s,l,c){this.putInternal("m",e,s,l,c)}putInternal(e,s,l,c,g){this.initConnection_();const v={p:s,d:l};void 0!==g&&(v.h=g),this.outstandingPuts_.push({action:e,request:v,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,l,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Pz)(e));const s=e.r,l=this.requestCBHash_[s];l&&(delete this.requestCBHash_[s],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):OC("Unrecognized action received from server: "+(0,V.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Df),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ld.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let b=!1,S=null;const x=function(){S?S.close():(b=!0,c())};e.realtime_={close:x,sendRequest:function(re){(0,V.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(re)}};const z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[re,fe]=yield Promise.all([e.authTokenProvider_.getToken(z),e.appCheckTokenProvider_.getToken(z)]);b?Pr("getToken() completed but was canceled"):(Pr("getToken() completed. Creating connection."),e.authToken_=re&&re.accessToken,e.appCheckToken_=fe&&fe.token,S=new QC(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,l,c,Ae=>{Ti(Ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(re){e.log_("Failed to get token: "+re),b||(e.repoInfo_.nodeAdmin&&Ti(re),x())}}})()}interrupt(e){Pr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let l;l=s?s.map(g=>oy(g)).join("$"):"default";const c=this.removeListen_(e,l);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,s){const l=new At(e).toString();let c;if(this.listens.has(l)){const g=this.listens.get(l);c=g.get(s),g.delete(s),0===g.size&&this.listens.delete(l)}else c=void 0;return c}onAuthRevoked_(e,s){Pr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Pr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,V.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+ry.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=If.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class It{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new It(t,e)}}class en{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new It(La,t),l=new It(La,e);return 0!==this.compare(s,l)}minPost(){return It.MIN}}class RD extends en{static get __EMPTY_NODE(){return Gd}static set __EMPTY_NODE(t){Gd=t}compare(t,e){return Va(t.name,e.name)}isDefinedOn(t){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return It.MIN}maxPost(){return new It(no,Gd)}makePost(t,e){return(0,V.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new It(t,Gd)}toString(){return".key"}}const yr=new RD;class zd{constructor(t,e,s,l,c=null){this.isReverse_=l,this.resultGenerator_=c,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(t=t,g=e?s(t.key,e):1,l&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let zg,$i=(()=>{class n{constructor(e,s,l,c,g){this.key=e,this.value=s,this.color=null!=l?l:n.RED,this.left=null!=c?c:Ai.EMPTY_NODE,this.right=null!=g?g:Ai.EMPTY_NODE}copy(e,s,l,c,g){return new n(null!=e?e:this.key,null!=s?s:this.value,null!=l?l:this.color,null!=c?c:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,l){let c=this;const g=l(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,s,l),null):0===g?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(e,s,l)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ai.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let l,c;if(l=this,s(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,s),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===s(e,l.key)){if(l.right.isEmpty())return Ai.EMPTY_NODE;c=l.right.min_(),l=l.copy(c.key,c.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,s))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ai{constructor(t,e=Ai.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ai(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,$i.BLACK,null,null))}remove(t){return new Ai(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$i.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,l=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(l=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new zd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new zd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new zd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new zd(this.root_,null,this.comparator_,!0,t)}}function PD(n,t){return Va(n.name,t.name)}function Gg(n,t){return Va(n,t)}Ai.EMPTY_NODE=new class{copy(t,e,s,l,c){return this}insert(t,e,s){return new $i(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ny=function(n){return"number"==typeof n?"number:"+kC(n):"string:"+n},tb=function(n){if(n.isLeafNode()){const t=n.val();(0,V.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,V.r3)(t,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===zg||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===zg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nb,qg,Oy,Zo=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tb(this.priorityNode_)}static set __childrenNodeConstructor(e){nb=e}static get __childrenNodeConstructor(){return nb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:".priority"===wt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const l=wt(e);return null===l?s:s.isEmpty()&&".priority"!==l?this:((0,V.hu)(".priority"!==l||1===Gl(e),".priority must be the last token in a path"),this.updateImmediateChild(l,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(on(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ny(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?kC(this.value_):this.value_,this.lazyHash_=oD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,l=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(l);return(0,V.hu)(c>=0,"Unknown leaf type: "+s),(0,V.hu)(g>=0,"Unknown leaf type: "+l),c===g?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const an=new class extends en{compare(t,e){const s=t.node.getPriority(),l=e.node.getPriority(),c=s.compareTo(l);return 0===c?Va(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return It.MIN}maxPost(){return new It(no,new Zo("[PRIORITY-POST]",Oy))}makePost(t,e){const s=qg(t);return new It(e,new Zo("[PRIORITY-POST]",s))}toString(){return".priority"}},MD=Math.log(2);class ND{constructor(t){this.count=parseInt(Math.log(t+1)/MD,10),this.current_=this.count-1;const l=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Zg=function(n,t,e,s){n.sort(t);const l=function(b,S){const x=S-b;let O,z;if(0===x)return null;if(1===x)return O=n[b],z=e?e(O):O,new $i(z,O.node,$i.BLACK,null,null);{const re=parseInt(x/2,10)+b,fe=l(b,re),Ae=l(re+1,S);return O=n[re],z=e?e(O):O,new $i(z,O.node,$i.BLACK,fe,Ae)}},v=function(b){let S=null,x=null,O=n.length;const z=function(fe,Ae){const Me=O-fe,dt=O;O-=fe;const Xe=l(Me+1,dt),Ft=n[Me],ht=e?e(Ft):Ft;re(new $i(ht,Ft.node,Ae,null,Xe))},re=function(fe){S?(S.left=fe,S=fe):(x=fe,S=fe)};for(let fe=0;fe<b.count;++fe){const Ae=b.nextBitIsOne(),Me=Math.pow(2,b.count-(fe+1));Ae?z(Me,$i.BLACK):(z(Me,$i.BLACK),z(Me,$i.RED))}return x}(new ND(n.length));return new Ai(s||t,v)};let Kg;const Tf={};class Ko{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,V.hu)(Tf&&an,"ChildrenNode.ts has not been loaded"),Kg=Kg||new Ko({".priority":Tf},{".priority":an}),Kg}get(t){const e=(0,V.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ai?e:null}hasIndex(t){return(0,V.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,V.hu)(t!==yr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const c=e.getIterator(It.Wrap);let v,g=c.getNext();for(;g;)l=l||t.isDefinedOn(g.node),s.push(g),g=c.getNext();v=l?Zg(s,t.getCompare()):Tf;const b=t.toString(),S=Object.assign({},this.indexSet_);S[b]=t;const x=Object.assign({},this.indexes_);return x[b]=v,new Ko(x,S)}addToIndexes(t,e){const s=(0,V.UI)(this.indexes_,(l,c)=>{const g=(0,V.DV)(this.indexSet_,c);if((0,V.hu)(g,"Missing index implementation for "+c),l===Tf){if(g.isDefinedOn(t.node)){const v=[],b=e.getIterator(It.Wrap);let S=b.getNext();for(;S;)S.name!==t.name&&v.push(S),S=b.getNext();return v.push(t),Zg(v,g.getCompare())}return Tf}{const v=e.get(t.name);let b=l;return v&&(b=b.remove(new It(t.name,v))),b.insert(t,t.node)}});return new Ko(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,V.UI)(this.indexes_,l=>{if(l===Tf)return l;{const c=e.get(t.name);return c?l.remove(new It(t.name,c)):l}});return new Ko(s,this.indexSet_)}}let Af,pt=(()=>{class n{constructor(e,s,l){this.children_=e,this.priorityNode_=s,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&tb(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Af||(Af=new n(new Ai(Gg),null,Ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Af}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Af:s}}getChild(e){const s=wt(e);return null===s?this:this.getImmediateChild(s).getChild(on(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,V.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const l=new It(e,s);let c,g;s.isEmpty()?(c=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(l,this.children_)):(c=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(l,this.children_));const v=c.isEmpty()?Af:this.priorityNode_;return new n(c,v,g)}}updateChild(e,s){const l=wt(e);if(null===l)return s;{(0,V.hu)(".priority"!==wt(e)||1===Gl(e),".priority must be the last token in a path");const c=this.getImmediateChild(l).updateChild(on(e),s);return this.updateImmediateChild(l,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let l=0,c=0,g=!0;if(this.forEachChild(an,(v,b)=>{s[v]=b.val(e),l++,g&&n.INTEGER_REGEXP_.test(v)?c=Math.max(c,Number(v)):g=!1}),!e&&g&&c<2*l){const v=[];for(const b in s)v[b]=s[b];return v}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ny(this.getPriority().val())+":"),this.forEachChild(an,(s,l)=>{const c=l.hash();""!==c&&(e+=":"+s+":"+c)}),this.lazyHash_=""===e?"":oD(e)}return this.lazyHash_}getPredecessorChildName(e,s,l){const c=this.resolveIndex_(l);if(c){const g=c.getPredecessorKey(new It(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new It(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const l=s.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new It(s,this.children_.get(s)):null}forEachChild(e,s){const l=this.resolveIndex_(e);return l?l.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,It.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)<0;)c.getNext(),g=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const l=this.resolveIndex_(s);if(l)return l.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,It.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)>0;)c.getNext(),g=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yg?-1:0}withIndex(e){if(e===yr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===yr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const l=this.getIterator(an),c=s.getIterator(an);let g=l.getNext(),v=c.getNext();for(;g&&v;){if(g.name!==v.name||!g.node.equals(v.node))return!1;g=l.getNext(),v=c.getNext()}return null===g&&null===v}return!1}return!1}}resolveIndex_(e){return e===yr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Yg=new class extends pt{constructor(){super(new Ai(Gg),pt.EMPTY_NODE,Ko.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return pt.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,t=null){if(null===n)return pt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,V.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Zo(n,Dn(t));if(n instanceof Array){let e=pt.EMPTY_NODE;return ir(n,(s,l)=>{if((0,V.r3)(n,s)&&"."!==s.substring(0,1)){const c=Dn(l);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(s,c))}}),e.updatePriority(Dn(t))}{const e=[];let s=!1;if(ir(n,(g,v)=>{if("."!==g.substring(0,1)){const b=Dn(v);b.isEmpty()||(s=s||!b.getPriority().isEmpty(),e.push(new It(g,b)))}}),0===e.length)return pt.EMPTY_NODE;const c=Zg(e,PD,g=>g.name,Gg);if(s){const g=Zg(e,an.getCompare());return new pt(c,Dn(t),new Ko({".priority":g},{".priority":an}))}return new pt(c,Dn(t),Ko.Default)}}Object.defineProperties(It,{MIN:{value:new It(La,pt.EMPTY_NODE)},MAX:{value:new It(no,Yg)}}),RD.__EMPTY_NODE=pt.EMPTY_NODE,Zo.__childrenNodeConstructor=pt,zg=Yg,Oy=Yg,function(n){qg=n}(Dn);class Qg extends en{constructor(t){super(),this.indexPath_=t,(0,V.hu)(!Et(t)&&".priority"!==wt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),l=this.extractChild(e.node),c=s.compareTo(l);return 0===c?Va(t.name,e.name):c}makePost(t,e){const s=Dn(t),l=pt.EMPTY_NODE.updateChild(this.indexPath_,s);return new It(e,l)}maxPost(){const t=pt.EMPTY_NODE.updateChild(this.indexPath_,Yg);return new It(no,t)}toString(){return Ba(this.indexPath_,0).join("/")}}const ab=new class extends en{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Va(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return It.MIN}maxPost(){return It.MAX}makePost(t,e){const s=Dn(t);return new It(e,s)}toString(){return".value"}},Zr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ub=function(){let n=0;const t=[];return function(e){const s=e===n;let l;n=e;const c=new Array(8);for(l=7;l>=0;l--)c[l]=Zr.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let g=c.join("");if(s){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)g+=Zr.charAt(t[l]);return(0,V.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),ky=function(n){if(n===""+ly)return"-";const t=Hl(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return no;const c=Zr.charAt(Zr.indexOf(e[s])+1);return e[s]=c,e.slice(0,s+1).join("")},Fy=function(n){if(n===""+LC)return La;const t=Hl(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+ly:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zr.charAt(Zr.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function cb(n){return{type:"value",snapshotNode:n}}function Sf(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function qd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function hc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Rf{constructor(t){this.index_=t}updateChild(t,e,s,l,c,g){(0,V.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(l).equals(s.getChild(l))&&v.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(qd(e,v)):(0,V.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?g.trackChildChange(Sf(e,s)):g.trackChildChange(hc(e,s,v))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(an,(l,c)=>{e.hasChild(l)||s.trackChildChange(qd(l,c))}),e.isLeafNode()||e.forEachChild(an,(l,c)=>{if(t.hasChild(l)){const g=t.getImmediateChild(l);g.equals(c)||s.trackChildChange(hc(l,c,g))}else s.trackChildChange(Sf(l,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?pt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pf{constructor(t){this.indexedFilter_=new Rf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pf.getStartPost_(t),this.endPost_=Pf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,l,c,g){return this.matches(new It(e,s))||(s=pt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,l,c,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=pt.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(pt.EMPTY_NODE);const c=this;return e.forEachChild(an,(g,v)=>{c.matches(new It(g,v))||(l=l.updateImmediateChild(g,pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class FD{constructor(t){this.rangedFilter_=new Pf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,l,c,g){return this.rangedFilter_.matches(new It(e,s))||(s=pt.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,l,c,g):this.fullLimitUpdateChild_(t,e,s,c,g)}updateFullNode(t,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;l=pt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;c.hasNext()&&g<this.limit_;){const v=c.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!b)break;l=l.updateImmediateChild(v.name,v.node),g++}}else{let c,g,v,b;if(l=e.withIndex(this.index_),l=l.updatePriority(pt.EMPTY_NODE),this.reverse_){b=l.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();v=(z,re)=>O(re,z)}else b=l.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let S=0,x=!1;for(;b.hasNext();){const O=b.getNext();!x&&v(c,O)<=0&&(x=!0),x&&S<this.limit_&&v(O,g)<=0?S++:l=l.updateImmediateChild(O.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,l,c){let g;if(this.reverse_){const O=this.index_.getCompare();g=(z,re)=>O(re,z)}else g=this.index_.getCompare();const v=t;(0,V.hu)(v.numChildren()===this.limit_,"");const b=new It(e,s),S=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),x=this.rangedFilter_.matches(b);if(v.hasChild(e)){const O=v.getImmediateChild(e);let z=l.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=z&&(z.name===e||v.hasChild(z.name));)z=l.getChildAfterChild(this.index_,z,this.reverse_);const re=null==z?1:g(z,b);if(x&&!s.isEmpty()&&re>=0)return null!=c&&c.trackChildChange(hc(e,s,O)),v.updateImmediateChild(e,s);{null!=c&&c.trackChildChange(qd(e,O));const Ae=v.updateImmediateChild(e,pt.EMPTY_NODE);return null!=z&&this.rangedFilter_.matches(z)?(null!=c&&c.trackChildChange(Sf(z.name,z.node)),Ae.updateImmediateChild(z.name,z.node)):Ae}}return s.isEmpty()?t:x&&g(S,b)>=0?(null!=c&&(c.trackChildChange(qd(S.name,S.node)),c.trackChildChange(Sf(e,s))),v.updateImmediateChild(e,s).updateImmediateChild(S.name,pt.EMPTY_NODE)):t}}class Jg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:La}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:no}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const t=new Jg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Zd(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function Xg(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function ql(n,t){const e=n.copy();return e.index_=t,e}function db(n){const t={};if(n.isDefault())return t;let e;return n.index_===an?e="$priority":n.index_===ab?e="$value":n.index_===yr?e="$key":((0,V.hu)(n.index_ instanceof Qg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,V.Pz)(e),n.startSet_&&(t.startAt=(0,V.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,V.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,V.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,V.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function hb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==an&&(t.i=n.index_.toString()),t}class Yd extends Ty{constructor(t,e,s,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Lg("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,V.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,l){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const g=Yd.getListenId_(t,s),v={};this.listens_[g]=v;const b=db(t._queryParams);this.restRequest_(c+".json",b,(S,x)=>{let O=x;if(404===S&&(O=null,S=null),null===S&&this.onDataUpdate_(c,O,!1,s),(0,V.DV)(this.listens_,g)===v){let z;z=S?401===S?"permission_denied":"rest_error:"+S:"ok",l(z,null)}})}unlisten(t,e){const s=Yd.getListenId_(t,e);delete this.listens_[s]}get(t){const e=db(t._queryParams),s=t._path.toString(),l=new V.BH;return this.restRequest_(s+".json",e,(c,g)=>{let v=g;404===c&&(v=null,c=null),null===c?(this.onDataUpdate_(s,v,!1,null),l.resolve(v)):l.reject(new Error(v))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,c])=>{l&&l.accessToken&&(e.auth=l.accessToken),c&&c.token&&(e.ac=c.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+g);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(s&&4===v.readyState){this.log_("REST Response for "+g+" received. status:",v.status,"response:",v.responseText);let b=null;if(v.status>=200&&v.status<300){try{b=(0,V.cI)(v.responseText)}catch(S){Ti("Failed to parse JSON response for "+g+": "+v.responseText)}s(null,b)}else 401!==v.status&&404!==v.status&&Ti("Got unsuccessful REST response for "+g+" Status: "+v.status),s(v.status);s=null}},v.open("GET",g,!0),v.send()})}}class Yo{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Zl(){return{value:null,children:new Map}}function Un(n,t,e){if(Et(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=wt(t);n.children.has(s)||n.children.set(s,Zl()),Un(n.children.get(s),t=on(t),e)}}function ja(n,t){if(Et(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(an,(s,l)=>{Un(n,new At(s),l)}),ja(n,t)}}if(n.children.size>0){const e=wt(t);return t=on(t),n.children.has(e)&&ja(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Qd(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,l)=>{Qd(l,new At(t.toString()+"/"+s),e)})}class Ly{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ir(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=t,e}}class eh{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ly(t);const s=1e4+2e4*Math.random();zo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;ir(t,(l,c)=>{c>0&&(0,V.r3)(this.statsToReport_,l)&&(e[l]=c,s=!0)}),s&&this.server_.reportStats(e),zo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Mr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mr||(Mr={})),Mr))();function Ql(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class $a{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Mr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Et(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new At(t));return new $a(Vt(),e,this.revert)}}return(0,V.hu)(wt(this.path)===t,"operationForChild called for unrelated child."),new $a(on(this.path),this.affectedTree,this.revert)}}class th{constructor(t,e){this.source=t,this.path=e,this.type=Mr.LISTEN_COMPLETE}operationForChild(t){return Et(this.path)?new th(this.source,Vt()):new th(this.source,on(this.path))}}class Jl{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Mr.OVERWRITE}operationForChild(t){return Et(this.path)?new Jl(this.source,Vt(),this.snap.getImmediateChild(t)):new Jl(this.source,on(this.path),this.snap)}}class pc{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Mr.MERGE}operationForChild(t){if(Et(this.path)){const e=this.children.subtree(new At(t));return e.isEmpty()?null:e.value?new Jl(this.source,Vt(),e.value):new pc(this.source,Vt(),e)}return(0,V.hu)(wt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pc(this.source,on(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ha{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;const e=wt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class fb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function nh(n,t,e,s,l,c){const g=s.filter(v=>v.type===e);g.sort((v,b)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const s=new It(t.childName,t.snapshotNode),l=new It(e.childName,e.snapshotNode);return n.index_.compare(s,l)}(n,v,b)),g.forEach(v=>{const b=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,c);l.forEach(S=>{S.respondsTo(v.type)&&t.push(S.createEvent(b,n.query_))})})}function em(n,t){return{eventCache:n,serverCache:t}}function rh(n,t,e,s){return em(new Ha(t,e,s),n.serverCache)}function _b(n,t,e,s){return em(n.eventCache,new Ha(t,e,s))}function Mf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Xl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Vy;class ln{constructor(t,e=(()=>(Vy||(Vy=new Ai(xC)),Vy))()){this.value=t,this.children=e}static fromObject(t){let e=new ln(null);return ir(t,(s,l)=>{e=e.set(new At(s),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Vt(),value:this.value};if(Et(t))return null;{const s=wt(t),l=this.children.get(s);if(null!==l){const c=l.findRootMostMatchingPathAndValue(on(t),e);return null!=c?{path:Cn(new At(s),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Et(t))return this;{const e=wt(t),s=this.children.get(e);return null!==s?s.subtree(on(t)):new ln(null)}}set(t,e){if(Et(t))return new ln(e,this.children);{const s=wt(t),c=(this.children.get(s)||new ln(null)).set(on(t),e),g=this.children.insert(s,c);return new ln(this.value,g)}}remove(t){if(Et(t))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const e=wt(t),s=this.children.get(e);if(s){const l=s.remove(on(t));let c;return c=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&c.isEmpty()?new ln(null):new ln(this.value,c)}return this}}get(t){if(Et(t))return this.value;{const e=wt(t),s=this.children.get(e);return s?s.get(on(t)):null}}setTree(t,e){if(Et(t))return e;{const s=wt(t),c=(this.children.get(s)||new ln(null)).setTree(on(t),e);let g;return g=c.isEmpty()?this.children.remove(s):this.children.insert(s,c),new ln(this.value,g)}}fold(t){return this.fold_(Vt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((l,c)=>{s[l]=c.fold_(Cn(t,l),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Vt(),e)}findOnPath_(t,e,s){const l=!!this.value&&s(e,this.value);if(l)return l;if(Et(t))return null;{const c=wt(t),g=this.children.get(c);return g?g.findOnPath_(on(t),Cn(e,c),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Vt(),e)}foreachOnPath_(t,e,s){if(Et(t))return this;{this.value&&s(e,this.value);const l=wt(t),c=this.children.get(l);return c?c.foreachOnPath_(on(t),Cn(e,l),s):new ln(null)}}foreach(t){this.foreach_(Vt(),t)}foreach_(t,e){this.children.inorderTraversal((s,l)=>{l.foreach_(Cn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class vs{constructor(t){this.writeTree_=t}static empty(){return new vs(new ln(null))}}function Nf(n,t,e){if(Et(t))return new vs(new ln(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const l=s.path;let c=s.value;const g=qr(l,t);return c=c.updateChild(g,e),new vs(n.writeTree_.set(l,c))}{const l=new ln(e),c=n.writeTree_.setTree(t,l);return new vs(c)}}}function tm(n,t,e){let s=n;return ir(e,(l,c)=>{s=Nf(s,Cn(t,l),c)}),s}function yb(n,t){if(Et(t))return vs.empty();{const e=n.writeTree_.setTree(t,new ln(null));return new vs(e)}}function Uy(n,t){return null!=ih(n,t)}function ih(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(qr(e.path,t)):null}function vb(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(an,(s,l)=>{t.push(new It(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{null!=l.value&&t.push(new It(s,l.value))}),t}function Wa(n,t){if(Et(t))return n;{const e=ih(n,t);return new vs(null!=e?new ln(e):n.writeTree_.subtree(t))}}function Eb(n){return n.writeTree_.isEmpty()}function Of(n,t){return BD(Vt(),n.writeTree_,t)}function BD(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((l,c)=>{".priority"===l?((0,V.hu)(null!==c.value,"Priority writes must always be leaf nodes"),s=c.value):e=BD(Cn(n,l),c,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(Cn(n,".priority"),s)),e}}function nm(n,t){return wb(t,n)}function jy(n,t){if(n.snap)return ms(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ms(Cn(n.path,e),t))return!0;return!1}function NR(n){return n.visible}function WD(n,t,e){let s=vs.empty();for(let l=0;l<n.length;++l){const c=n[l];if(t(c)){const g=c.path;let v;if(c.snap)ms(e,g)?(v=qr(e,g),s=Nf(s,v,c.snap)):ms(g,e)&&(v=qr(g,e),s=Nf(s,Vt(),c.snap.getChild(v)));else{if(!c.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(ms(e,g))v=qr(e,g),s=tm(s,v,c.children);else if(ms(g,e))if(v=qr(g,e),Et(v))s=tm(s,Vt(),c.children);else{const b=(0,V.DV)(c.children,wt(v));if(b){const S=b.getChild(on(v));s=Nf(s,Vt(),S)}}}}}return s}function GD(n,t,e,s,l){if(s||l){const c=Wa(n.visibleWrites,t);return!l&&Eb(c)?e:l||null!=e||Uy(c,Vt())?Of(WD(n.allWrites,function(S){return(S.visible||l)&&(!s||!~s.indexOf(S.writeId))&&(ms(S.path,t)||ms(t,S.path))},t),e||pt.EMPTY_NODE):null}{const c=ih(n.visibleWrites,t);if(null!=c)return c;{const g=Wa(n.visibleWrites,t);return Eb(g)?e:null!=e||Uy(g,Vt())?Of(g,e||pt.EMPTY_NODE):null}}}function xf(n,t,e,s){return GD(n.writeTree,n.treePath,t,e,s)}function $y(n,t){return function(n,t,e){let s=pt.EMPTY_NODE;const l=ih(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(an,(c,g)=>{s=s.updateImmediateChild(c,g)}),s;if(e){const c=Wa(n.visibleWrites,t);return e.forEachChild(an,(g,v)=>{const b=Of(Wa(c,new At(g)),v);s=s.updateImmediateChild(g,b)}),vb(c).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return vb(Wa(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function Hy(n,t,e,s){return function(n,t,e,s,l){(0,V.hu)(s||l,"Either existingEventSnap or existingServerSnap must exist");const c=Cn(t,e);if(Uy(n.visibleWrites,c))return null;{const g=Wa(n.visibleWrites,c);return Eb(g)?l.getChild(e):Of(g,l.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function gc(n,t){return function(n,t){return ih(n.visibleWrites,t)}(n.writeTree,Cn(n.treePath,t))}function rm(n,t,e){return function(n,t,e,s){const l=Cn(t,e),c=ih(n.visibleWrites,l);return null!=c?c:s.isCompleteForChild(e)?Of(Wa(n.visibleWrites,l),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function bb(n,t){return wb(Cn(n.treePath,t),n.writeTree)}function wb(n,t){return{treePath:n,writeTree:t}}class YD{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const c=l.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(s,hc(s,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(s,qd(s,l.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(s,Sf(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,V.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(s,hc(s,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const Ib=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class im{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new Ha(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rm(this.writes_,t,s)}}getChildAfterChild(t,e,s){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xl(this.viewCache_),c=function(n,t,e,s,l,c){return function(n,t,e,s,l,c,g){let v;const b=Wa(n.visibleWrites,t),S=ih(b,Vt());if(null!=S)v=S;else{if(null==e)return[];v=Of(b,e)}if(v=v.withIndex(g),v.isEmpty()||v.isLeafNode())return[];{const x=[],O=g.getCompare(),z=c?v.getReverseIteratorFrom(s,g):v.getIteratorFrom(s,g);let re=z.getNext();for(;re&&x.length<l;)0!==O(re,s)&&x.push(re),re=z.getNext();return x}}(n.writeTree,n.treePath,t,e,s,l,c)}(this.writes_,l,e,1,s,t);return 0===c.length?null:c[0]}}function XD(n,t,e,s,l,c){const g=t.eventCache;if(null!=gc(s,e))return t;{let v,b;if(Et(e))if((0,V.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=Xl(t),O=$y(s,S instanceof pt?S:pt.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),O,c)}else{const S=xf(s,Xl(t));v=n.filter.updateFullNode(t.eventCache.getNode(),S,c)}else{const S=wt(e);if(".priority"===S){(0,V.hu)(1===Gl(e),"Can't have a priority with additional path components");const x=g.getNode();b=t.serverCache.getNode();const O=Hy(s,e,x,b);v=null!=O?n.filter.updatePriority(x,O):g.getNode()}else{const x=on(e);let O;if(g.isCompleteForChild(S)){b=t.serverCache.getNode();const z=Hy(s,e,g.getNode(),b);O=null!=z?g.getNode().getImmediateChild(S).updateChild(x,z):g.getNode().getImmediateChild(S)}else O=rm(s,S,t.serverCache);v=null!=O?n.filter.updateChild(g.getNode(),S,O,x,l,c):g.getNode()}}return rh(t,v,g.isFullyInitialized()||Et(e),n.filter.filtersNodes())}}function oh(n,t,e,s,l,c,g,v){const b=t.serverCache;let S;const x=g?n.filter:n.filter.getIndexedFilter();if(Et(e))S=x.updateFullNode(b.getNode(),s,null);else if(x.filtersNodes()&&!b.isFiltered()){const re=b.getNode().updateChild(e,s);S=x.updateFullNode(b.getNode(),re,null)}else{const re=wt(e);if(!b.isCompleteForPath(e)&&Gl(e)>1)return t;const fe=on(e),Me=b.getNode().getImmediateChild(re).updateChild(fe,s);S=".priority"===re?x.updatePriority(b.getNode(),Me):x.updateChild(b.getNode(),re,Me,fe,Ib,null)}const O=_b(t,S,b.isFullyInitialized()||Et(e),x.filtersNodes());return XD(n,O,e,l,new im(l,O,c),v)}function Gy(n,t,e,s,l,c,g){const v=t.eventCache;let b,S;const x=new im(l,t,c);if(Et(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,g),b=rh(t,S,!0,n.filter.filtersNodes());else{const O=wt(e);if(".priority"===O)S=n.filter.updatePriority(t.eventCache.getNode(),s),b=rh(t,S,v.isFullyInitialized(),v.isFiltered());else{const z=on(e),re=v.getNode().getImmediateChild(O);let fe;if(Et(z))fe=s;else{const Ae=x.getCompleteChild(O);fe=null!=Ae?".priority"===zl(z)&&Ae.getChild(Hd(z)).isEmpty()?Ae:Ae.updateChild(z,s):pt.EMPTY_NODE}b=re.equals(fe)?t:rh(t,n.filter.updateChild(v.getNode(),O,fe,z,x,g),v.isFullyInitialized(),n.filter.filtersNodes())}}return b}function eT(n,t){return n.eventCache.isCompleteForChild(t)}function Ab(n,t,e){return e.foreach((s,l)=>{t=t.updateChild(s,l)}),t}function Ff(n,t,e,s,l,c,g,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,b=t;S=Et(e)?s:new ln(null).setTree(e,s);const x=t.serverCache.getNode();return S.children.inorderTraversal((O,z)=>{if(x.hasChild(O)){const fe=Ab(0,t.serverCache.getNode().getImmediateChild(O),z);b=oh(n,b,new At(O),fe,l,c,g,v)}}),S.children.inorderTraversal((O,z)=>{const re=!t.serverCache.isCompleteForChild(O)&&void 0===z.value;if(!x.hasChild(O)&&!re){const Ae=Ab(0,t.serverCache.getNode().getImmediateChild(O),z);b=oh(n,b,new At(O),Ae,l,c,g,v)}}),b}class Zy{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Rf(s.getIndex()),c=function(n){return n.loadsAllData()?new Rf(n.getIndex()):n.hasLimit()?new FD(n):new Pf(n)}(s);this.processor_=function(n){return{filter:n}}(c);const g=e.serverCache,v=e.eventCache,b=l.updateFullNode(pt.EMPTY_NODE,g.getNode(),null),S=c.updateFullNode(pt.EMPTY_NODE,v.getNode(),null),x=new Ha(b,g.isFullyInitialized(),l.filtersNodes()),O=new Ha(S,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=em(O,x),this.eventGenerator_=new fb(this.query_)}get query(){return this.query_}}function nT(n,t){const e=Xl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Et(t)&&!e.getImmediateChild(wt(t)).isEmpty())?e.getChild(t):null}function Ky(n){return 0===n.eventRegistrations_.length}function Yy(n,t,e){const s=[];if(e){(0,V.hu)(null==t,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(c=>{const g=c.createCancelEvent(e,l);g&&s.push(g)})}if(t){let l=[];for(let c=0;c<n.eventRegistrations_.length;++c){const g=n.eventRegistrations_[c];if(g.matches(t)){if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(c+1));break}}else l.push(g)}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Qy(n,t,e,s){t.type===Mr.MERGE&&null!==t.source.queryId&&((0,V.hu)(Xl(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(Mf(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,c=function(n,t,e,s,l){const c=new YD;let g,v;if(e.type===Mr.OVERWRITE){const S=e;S.source.fromUser?g=Gy(n,t,S.path,S.snap,s,l,c):((0,V.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered()&&!Et(S.path),g=oh(n,t,S.path,S.snap,s,l,v,c))}else if(e.type===Mr.MERGE){const S=e;S.source.fromUser?g=function(n,t,e,s,l,c,g){let v=t;return s.foreach((b,S)=>{const x=Cn(e,b);eT(t,wt(x))&&(v=Gy(n,v,x,S,l,c,g))}),s.foreach((b,S)=>{const x=Cn(e,b);eT(t,wt(x))||(v=Gy(n,v,x,S,l,c,g))}),v}(n,t,S.path,S.children,s,l,c):((0,V.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered(),g=Ff(n,t,S.path,S.children,s,l,v,c))}else if(e.type===Mr.ACK_USER_WRITE){const S=e;g=S.revert?function(n,t,e,s,l,c){let g;if(null!=gc(s,e))return t;{const v=new im(s,t,l),b=t.eventCache.getNode();let S;if(Et(e)||".priority"===wt(e)){let x;if(t.serverCache.isFullyInitialized())x=xf(s,Xl(t));else{const O=t.serverCache.getNode();(0,V.hu)(O instanceof pt,"serverChildren would be complete if leaf node"),x=$y(s,O)}x=x,S=n.filter.updateFullNode(b,x,c)}else{const x=wt(e);let O=rm(s,x,t.serverCache);null==O&&t.serverCache.isCompleteForChild(x)&&(O=b.getImmediateChild(x)),S=null!=O?n.filter.updateChild(b,x,O,on(e),v,c):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(b,x,pt.EMPTY_NODE,on(e),v,c):b,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=xf(s,Xl(t)),g.isLeafNode()&&(S=n.filter.updateFullNode(S,g,c)))}return g=t.serverCache.isFullyInitialized()||null!=gc(s,Vt()),rh(t,S,g,n.filter.filtersNodes())}}(n,t,S.path,s,l,c):function(n,t,e,s,l,c,g){if(null!=gc(l,e))return t;const v=t.serverCache.isFiltered(),b=t.serverCache;if(null!=s.value){if(Et(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return oh(n,t,e,b.getNode().getChild(e),l,c,v,g);if(Et(e)){let S=new ln(null);return b.getNode().forEachChild(yr,(x,O)=>{S=S.set(new At(x),O)}),Ff(n,t,e,S,l,c,v,g)}return t}{let S=new ln(null);return s.foreach((x,O)=>{const z=Cn(e,x);b.isCompleteForPath(z)&&(S=S.set(x,b.getNode().getChild(z)))}),Ff(n,t,e,S,l,c,v,g)}}(n,t,S.path,S.affectedTree,s,l,c)}else{if(e.type!==Mr.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);g=function(n,t,e,s,l){const c=t.serverCache;return XD(n,_b(t,c.getNode(),c.isFullyInitialized()||Et(e),c.isFiltered()),e,s,Ib,l)}(n,t,e.path,s,c)}const b=c.getChanges();return function(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),c=Mf(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(c)||!s.getNode().getPriority().equals(c.getPriority()))&&e.push(cb(Mf(t)))}}(t,g,b),{viewCache:g,changes:b}}(n.processor_,l,t,e,s);return function(n,t){(0,V.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,V.hu)(c.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,Xy(n,c.changes,c.viewCache.eventCache.getNode(),null)}function Xy(n,t,e,s){return function(n,t,e,s){const l=[],c=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&c.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),nh(n,l,"child_removed",t,s,e),nh(n,l,"child_added",t,s,e),nh(n,l,"child_moved",c,s,e),nh(n,l,"child_changed",t,s,e),nh(n,l,"value",t,s,e),l}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let ah,Uf;class sm{constructor(){this.views=new Map}}function om(n,t,e,s){const l=t.source.queryId;if(null!==l){const c=n.views.get(l);return(0,V.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Qy(c,t,e,s)}{let c=[];for(const g of n.views.values())c=c.concat(Qy(g,t,e,s));return c}}function am(n,t,e,s,l){const g=n.views.get(t._queryIdentifier);if(!g){let v=xf(e,l?s:null),b=!1;v?b=!0:s instanceof pt?(v=$y(e,s),b=!1):(v=pt.EMPTY_NODE,b=!1);const S=em(new Ha(v,b,!1),new Ha(s,l,!1));return new Zy(t,S)}return g}function ev(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ga(n,t){let e=null;for(const s of n.views.values())e=e||nT(s,t);return e}function tv(n,t){return t._queryParams.loadsAllData()?Vf(n):n.views.get(t._queryIdentifier)}function Lf(n,t){return null!=tv(n,t)}function za(n){return null!=Vf(n)}function Vf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let kb=1;class nv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ln(null),this.pendingWriteTree_={visibleWrites:vs.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lm(n,t,e,s,l){return function(n,t,e,s,l){(0,V.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:l}),l&&(n.visibleWrites=Nf(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,l),l?mc(n,new Jl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function eu(n,t,e=!1){const s=function(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let l=s.visible,c=!1,g=n.allWrites.length-1;for(;l&&g>=0;){const v=n.allWrites[g];v.visible&&(g>=e&&jy(v,s.path)?l=!1:ms(s.path,v.path)&&(c=!0)),g--}return!!l&&(c?(function(n){n.visibleWrites=WD(n.allWrites,NR,Vt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=yb(n.visibleWrites,s.path):ir(s.children,b=>{n.visibleWrites=yb(n.visibleWrites,Cn(s.path,b))}),!0))}(n.pendingWriteTree_,t)){let c=new ln(null);return null!=s.snap?c=c.set(Vt(),!0):ir(s.children,g=>{c=c.set(new At(g),!0)}),mc(n,new $a(s.path,c,e))}return[]}function Bf(n,t,e){return mc(n,new Jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function um(n,t,e,s){const l=t._path,c=n.syncPointTree_.get(l);let g=[];if(c&&("default"===t._queryIdentifier||Lf(c,t))){const v=function(n,t,e,s){const l=t._queryIdentifier,c=[];let g=[];const v=za(n);if("default"===l)for(const[b,S]of n.views.entries())g=g.concat(Yy(S,e,s)),Ky(S)&&(n.views.delete(b),S.query._queryParams.loadsAllData()||c.push(S.query));else{const b=n.views.get(l);b&&(g=g.concat(Yy(b,e,s)),Ky(b)&&(n.views.delete(l),b.query._queryParams.loadsAllData()||c.push(b.query)))}return v&&!za(n)&&c.push(new((0,V.hu)(ah,"Reference.ts has not been loaded"),ah)(t._repo,t._path)),{removed:c,events:g}}(c,t,e,s);(function(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const b=v.removed;g=v.events;const S=-1!==b.findIndex(O=>O._queryParams.loadsAllData()),x=n.syncPointTree_.findOnPath(l,(O,z)=>za(z));if(S&&!x){const O=n.syncPointTree_.subtree(l);if(!O.isEmpty()){const z=function(n){return n.fold((t,e,s)=>{if(e&&za(e))return[Vf(e)];{let l=[];return e&&(l=ev(e)),ir(s,(c,g)=>{l=l.concat(g)}),l}})}(O);for(let re=0;re<z.length;++re){const fe=z[re],Ae=fe.query,Me=Ub(n,fe);n.listenProvider_.startListening(Si(Ae),jf(n,Ae),Me.hashFn,Me.onComplete)}}}if(!x&&b.length>0&&!s)if(S){const O=null;n.listenProvider_.stopListening(Si(t),O)}else b.forEach(O=>{const z=n.queryToTagMap.get(dm(O));n.listenProvider_.stopListening(Si(O),z)});!function(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const l=dm(s),c=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(c)}}}(n,b)}return g}function rv(n,t,e){const s=t._path;let l=null,c=!1;n.syncPointTree_.foreachOnPath(s,(O,z)=>{const re=qr(O,s);l=l||Ga(z,re),c=c||za(z)});let v,g=n.syncPointTree_.get(s);g?(c=c||za(g),l=l||Ga(g,Vt())):(g=new sm,n.syncPointTree_=n.syncPointTree_.set(s,g)),null!=l?v=!0:(v=!1,l=pt.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((z,re)=>{const fe=Ga(re,Vt());fe&&(l=l.updateImmediateChild(z,fe))}));const b=Lf(g,t);if(!b&&!t._queryParams.loadsAllData()){const O=dm(t);(0,V.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const z=kb++;n.queryToTagMap.set(O,z),n.tagToQueryMap.set(z,O)}let x=function(n,t,e,s,l,c){const g=am(n,t,s,l,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function(n,t){n.eventRegistrations_.push(t)}(g,e),function(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(an,(c,g)=>{s.push(Sf(c,g))}),e.isFullyInitialized()&&s.push(cb(e.getNode())),Xy(n,s,e.getNode(),t)}(g,e)}(g,t,e,nm(n.pendingWriteTree_,s),l,v);if(!b&&!c){const O=tv(g,t);x=x.concat(function(n,t,e){const s=t._path,l=jf(n,t),c=Ub(n,e),g=n.listenProvider_.startListening(Si(t),l,c.hashFn,c.onComplete),v=n.syncPointTree_.subtree(s);if(l)(0,V.hu)(!za(v.value),"If we're adding a query, it shouldn't be shadowed");else{const b=v.fold((S,x,O)=>{if(!Et(S)&&x&&za(x))return[Vf(x).query];{let z=[];return x&&(z=z.concat(ev(x).map(re=>re.query))),ir(O,(re,fe)=>{z=z.concat(fe)}),z}});for(let S=0;S<b.length;++S){const x=b[S];n.listenProvider_.stopListening(Si(x),jf(n,x))}}return g}(n,t,O))}return x}function cm(n,t,e){const l=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(g,v)=>{const S=Ga(v,qr(g,t));if(S)return S});return GD(l,t,c,e,!0)}function mc(n,t){return _c(t,n.syncPointTree_,null,nm(n.pendingWriteTree_,Vt()))}function _c(n,t,e,s){if(Et(n.path))return Vb(n,t,e,s);{const l=t.get(Vt());null==e&&null!=l&&(e=Ga(l,Vt()));let c=[];const g=wt(n.path),v=n.operationForChild(g),b=t.children.get(g);if(b&&v){const S=e?e.getImmediateChild(g):null,x=bb(s,g);c=c.concat(_c(v,b,S,x))}return l&&(c=c.concat(om(l,n,s,e))),c}}function Vb(n,t,e,s){const l=t.get(Vt());null==e&&null!=l&&(e=Ga(l,Vt()));let c=[];return t.children.inorderTraversal((g,v)=>{const b=e?e.getImmediateChild(g):null,S=bb(s,g),x=n.operationForChild(g);x&&(c=c.concat(Vb(x,v,b,S)))}),l&&(c=c.concat(om(l,n,s,e))),c}function Ub(n,t){const e=t.query,s=jf(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||pt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return s?function(n,t,e){const s=hm(n,e);if(s){const l=Bb(s),c=l.path,g=l.queryId,v=qr(c,t);return $f(n,c,new th(Ql(g),v))}return[]}(n,e._path,s):function(n,t){return mc(n,new th({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(l,e);return um(n,e,null,c)}}}}function jf(n,t){const e=dm(t);return n.queryToTagMap.get(e)}function dm(n){return n._path.toString()+"$"+n._queryIdentifier}function hm(n,t){return n.tagToQueryMap.get(t)}function Bb(n){const t=n.indexOf("$");return(0,V.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new At(n.substr(0,t))}}function $f(n,t,e){const s=n.syncPointTree_.get(t);return(0,V.hu)(s,"Missing sync point for query tag that we're tracking"),om(s,e,nm(n.pendingWriteTree_,t),null)}function Si(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,V.hu)(Uf,"Reference.ts has not been loaded"),Uf)(n._repo,n._path):n}class Hi{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Hi(e)}node(){return this.node_}}class Wi{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Cn(this.path_,t);return new Wi(this.syncTree_,e)}node(){return cm(this.syncTree_,this.path_)}}const sv=function(n,t,e){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?cT(n[".sv"],t,e):"object"==typeof n[".sv"]?dT(n[".sv"],t):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},cT=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,V.hu)(!1,"Unexpected server value: "+n)}},dT=function(n,t,e){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,V.hu)(!1,"Unexpected increment value: "+s);const l=t.node();if((0,V.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const g=l.getValue();return"number"!=typeof g?s:g+s},$b=function(n,t,e,s){return Hf(t,new Wi(e,n),s)},ov=function(n,t,e){return Hf(n,new Hi(t),e)};function Hf(n,t,e){const s=n.getPriority().val(),l=sv(s,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const g=n,v=sv(g.getValue(),t,e);return v!==g.getValue()||l!==g.getPriority().val()?new Zo(v,Dn(l)):n}{const g=n;return c=g,l!==g.getPriority().val()&&(c=c.updatePriority(new Zo(l))),g.forEachChild(an,(v,b)=>{const S=Hf(b,t.getImmediateChild(v),e);S!==b&&(c=c.updateImmediateChild(v,S))}),c}}class yc{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function fm(n,t){let e=t instanceof At?t:new At(t),s=n,l=wt(e);for(;null!==l;){const c=(0,V.DV)(s.node.children,l)||{children:{},childCount:0};s=new yc(l,s,c),e=on(e),l=wt(e)}return s}function tu(n){return n.node.value}function av(n,t){n.node.value=t,Wf(n)}function lv(n){return n.node.childCount>0}function vc(n,t){ir(n.node.children,(e,s)=>{t(new yc(e,n,s))})}function Wb(n,t,e,s){e&&!s&&t(n),vc(n,l=>{Wb(l,t,!0,s)}),e&&s&&t(n)}function lh(n){return new At(null===n.parent?n.name:lh(n.parent)+"/"+n.name)}function Wf(n){null!==n.parent&&function(n,t,e){const s=function(n){return void 0===tu(n)&&!lv(n)}(e),l=(0,V.r3)(n.node.children,t);s&&l?(delete n.node.children[t],n.node.childCount--,Wf(n)):!s&&!l&&(n.node.children[t]=e.node,n.node.childCount++,Wf(n))}(n.parent,n.name,n)}const uv=/[\[\].#$\/\u0000-\u001F\u007F]/,zb=/[\[\].#$\u0000-\u001F\u007F]/,gm=10485760,Gf=function(n){return"string"==typeof n&&0!==n.length&&!uv.test(n)},cv=function(n){return"string"==typeof n&&0!==n.length&&!zb.test(n)},uh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!to(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},so=function(n,t,e,s){s&&void 0===t||zf((0,V.gK)(n,"value"),t,e)},zf=function(n,t,e){const s=e instanceof At?new Py(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+_s(s));if("function"==typeof t)throw new Error(n+"contains a function "+_s(s)+" with contents = "+t.toString());if(to(t))throw new Error(n+"contains "+t.toString()+" "+_s(s));if("string"==typeof t&&t.length>gm/3&&(0,V.ug)(t)>gm)throw new Error(n+"contains a string greater than "+gm+" utf8 bytes "+_s(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,c=!1;if(ir(t,(g,v)=>{if(".value"===g)l=!0;else if(".priority"!==g&&".sv"!==g&&(c=!0,!Gf(g)))throw new Error(n+" contains an invalid key ("+g+") "+_s(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,V.ug)(t),My(n)})(s,g),zf(n,v,s),function(n){const t=n.parts_.pop();n.byteLength_-=(0,V.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),l&&c)throw new Error(n+' contains ".value" child '+_s(s)+" in addition to actual children.")}},Zb=function(n,t,e,s){if(s&&void 0===t)return;const l=(0,V.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const c=[];ir(t,(g,v)=>{const b=new At(g);if(zf(l,v,Cn(e,b)),".priority"===zl(b)&&!uh(v))throw new Error(l+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(b)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const c=Ba(s);for(let g=0;g<c.length;g++)if((".priority"!==c[g]||g!==c.length-1)&&!Gf(c[g]))throw new Error(n+"contains an invalid key ("+c[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(CD);let l=null;for(e=0;e<t.length;e++){if(s=t[e],null!==l&&ms(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}}(l,c)},dv=function(n,t,e){if(!e||void 0!==t){if(to(t))throw new Error((0,V.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uh(t))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},qf=function(n,t,e,s){if(!(s&&void 0===e||Gf(e)))throw new Error((0,V.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zf=function(n,t,e,s){if(!(s&&void 0===e||cv(e)))throw new Error((0,V.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Es=function(n,t){if(".info"===wt(t))throw new Error(n+" failed = Can't modify data under /.info/")},Kb=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Gf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cv(n)}(e))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class pT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mm(n,t){let e=null;for(let s=0;s<t.length;s++){const l=t[s],c=l.getPath();null!==e&&!Hg(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(l)}e&&n.eventLists_.push(e)}function hv(n,t,e){mm(n,e),Yb(n,s=>Hg(s,t))}function Cs(n,t,e){mm(n,e),Yb(n,s=>ms(s,t)||ms(t,s))}function Yb(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];l&&(t(l.path)?(gT(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function gT(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Ud&&Pr("event: "+e.toString()),ro(s)}}}const Qb="repo_interrupt";class _T{constructor(t,e,s,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zl(),this.transactionQueueTree_=new yc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fv(n){const e=n.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ch(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:fv(n)})}function pv(n,t,e,s,l){n.dataUpdateCount++;const c=new At(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(l)if(s){const b=(0,V.UI)(e,S=>Dn(S));g=function(n,t,e,s){const l=hm(n,s);if(l){const c=Bb(l),g=c.path,v=c.queryId,b=qr(g,t),S=ln.fromObject(e);return $f(n,g,new pc(Ql(v),b,S))}return[]}(n.serverSyncTree_,c,b,l)}else{const b=Dn(e);g=function(n,t,e,s){const l=hm(n,s);if(null!=l){const c=Bb(l),g=c.path,v=c.queryId,b=qr(g,t);return $f(n,g,new Jl(Ql(v),b,e))}return[]}(n.serverSyncTree_,c,b,l)}else if(s){const b=(0,V.UI)(e,S=>Dn(S));g=function(n,t,e){const s=ln.fromObject(e);return mc(n,new pc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,c,b)}else{const b=Dn(e);g=Bf(n.serverSyncTree_,c,b)}let v=c;g.length>0&&(v=hh(n,c)),Cs(n.eventQueue_,v,g)}function gv(n,t){_m(n,"connected",t),!1===t&&function(n){Qf(n,"onDisconnectEvents");const t=ch(n),e=Zl();Qd(n.onDisconnect_,Vt(),(l,c)=>{const g=$b(l,c,n.serverSyncTree_,t);Un(e,l,g)});let s=[];Qd(e,Vt(),(l,c)=>{s=s.concat(Bf(n.serverSyncTree_,l,c));const g=ep(n,l);hh(n,g)}),n.onDisconnect_=Zl(),Cs(n.eventQueue_,Vt(),s)}(n)}function _m(n,t,e){const s=new At("/.info/"+t),l=Dn(e);n.infoData_.updateSnapshot(s,l);const c=Bf(n.infoSyncTree_,s,l);Cs(n.eventQueue_,s,c)}function Kf(n){return n.nextWriteId_++}function Yf(n,t,e,s,l){Qf(n,"set",{path:t.toString(),value:e,priority:s});const c=ch(n),g=Dn(e,s),v=cm(n.serverSyncTree_,t),b=ov(g,v,c),S=Kf(n),x=lm(n.serverSyncTree_,t,b,S,!0);mm(n.eventQueue_,x),n.server_.put(t.toString(),g.val(!0),(z,re)=>{const fe="ok"===z;fe||Ti("set at "+t+" failed: "+z);const Ae=eu(n.serverSyncTree_,S,!fe);Cs(n.eventQueue_,t,Ae),Ge(0,l,z,re)});const O=ep(n,t);hh(n,O),Cs(n.eventQueue_,O,[])}function yT(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,l)=>{"ok"===s&&ja(n.onDisconnect_,t),Ge(0,e,s,l)})}function nw(n,t,e,s){const l=Dn(e);n.server_.onDisconnectPut(t.toString(),l.val(!0),(c,g)=>{"ok"===c&&Un(n.onDisconnect_,t,l),Ge(0,s,c,g)})}function rw(n,t,e){let s;s=".info"===wt(t._path)?um(n.infoSyncTree_,t,e):um(n.serverSyncTree_,t,e),hv(n.eventQueue_,t._path,s)}function _v(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Qb)}function Qf(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Pr(e,...t)}function Ge(n,t,e,s){t&&ro(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let c=l;s&&(c+=": "+s);const g=new Error(c);g.code=l,t(g)}})}function yv(n,t,e){return cm(n.serverSyncTree_,t,e)||pt.EMPTY_NODE}function ym(n,t=n.transactionQueueTree_){if(t||Xf(n,t),tu(t)){const e=Tn(n,t);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function(n,t,e){const s=e.map(S=>S.currentWriteId),l=yv(n,t,s);let c=l;const g=l.hash();for(let S=0;S<e.length;S++){const x=e[S];(0,V.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const O=qr(t,x.path);c=c.updateChild(O,x.currentOutputSnapshotRaw)}const v=c.val(!0),b=t;n.server_.put(b.toString(),v,S=>{Qf(n,"transaction put response",{path:b.toString(),status:S});let x=[];if("ok"===S){const O=[];for(let z=0;z<e.length;z++)e[z].status=2,x=x.concat(eu(n.serverSyncTree_,e[z].currentWriteId)),e[z].onComplete&&O.push(()=>e[z].onComplete(null,!0,e[z].currentOutputSnapshotResolved)),e[z].unwatcher();Xf(n,fm(n.transactionQueueTree_,t)),ym(n,n.transactionQueueTree_),Cs(n.eventQueue_,t,x);for(let z=0;z<O.length;z++)ro(O[z])}else{if("datastale"===S)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Ti("transaction at "+b.toString()+" failed: "+S);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=S}hh(n,t)}},g)}(n,lh(t),e)}else lv(t)&&vc(t,e=>{ym(n,e)})}function hh(n,t){const e=Jf(n,t),s=lh(e);return function(n,t,e){if(0===t.length)return;const s=[];let l=[];const g=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const b=t[v],S=qr(e,b.path);let O,x=!1;if((0,V.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)x=!0,O=b.abortReason,l=l.concat(eu(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)x=!0,O="maxretry",l=l.concat(eu(n.serverSyncTree_,b.currentWriteId,!0));else{const z=yv(n,b.path,g);b.currentInputSnapshot=z;const re=t[v].update(z.val());if(void 0!==re){zf("transaction failed: Data returned ",re,b.path);let fe=Dn(re);"object"==typeof re&&null!=re&&(0,V.r3)(re,".priority")||(fe=fe.updatePriority(z.getPriority()));const Me=b.currentWriteId,dt=ch(n),Xe=ov(fe,z,dt);b.currentOutputSnapshotRaw=fe,b.currentOutputSnapshotResolved=Xe,b.currentWriteId=Kf(n),g.splice(g.indexOf(Me),1),l=l.concat(lm(n.serverSyncTree_,b.path,Xe,b.currentWriteId,b.applyLocally)),l=l.concat(eu(n.serverSyncTree_,Me,!0))}else x=!0,O="nodata",l=l.concat(eu(n.serverSyncTree_,b.currentWriteId,!0))}Cs(n.eventQueue_,e,l),l=[],x&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&s.push("nodata"===O?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(O),!1,null)))}Xf(n,n.transactionQueueTree_);for(let v=0;v<s.length;v++)ro(s[v]);ym(n,n.transactionQueueTree_)}(n,Tn(n,e),s),s}function Jf(n,t){let e,s=n.transactionQueueTree_;for(e=wt(t);null!==e&&void 0===tu(s);)s=fm(s,e),e=wt(t=on(t));return s}function Tn(n,t){const e=[];return ET(n,t,e),e.sort((s,l)=>s.order-l.order),e}function ET(n,t,e){const s=tu(t);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);vc(t,l=>{ET(n,l,e)})}function Xf(n,t){const e=tu(t);if(e){let s=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[s]=e[l],s++);e.length=s,av(t,e.length>0?e:void 0)}vc(t,s=>{Xf(n,s)})}function ep(n,t){const e=lh(Jf(n,t)),s=fm(n.transactionQueueTree_,t);return function(n,t,e){let s=n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,l=>{vv(n,l)}),vv(n,s),Wb(s,l=>{vv(n,l)}),e}function vv(n,t){const e=tu(t);if(e){const s=[];let l=[],c=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,V.hu)(c===g-1,"All SENT items should be at beginning of queue."),c=g,e[g].status=3,e[g].abortReason="set"):((0,V.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),l=l.concat(eu(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===c?av(t,void 0):e.length=c+1,Cs(n.eventQueue_,lh(t),l);for(let g=0;g<s.length;g++)ro(s[g])}}const Cm=function(n,t){const e=aw(n),s=e.namespace;return"firebase.com"===e.domain&&Fa(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Fa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new py(e.host,e.secure,s,t,"ws"===e.scheme||"wss"===e.scheme,"",s!==e.subdomain),path:new At(e.pathString)}},aw=function(n){let t="",e="",s="",l="",c="",g=!0,v="https",b=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(v=n.substring(0,S-1),n=n.substring(S+2));let x=n.indexOf("/");-1===x&&(x=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(x,O)),x<O&&(l=function(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(c){}t+="/"+l}return t}(n.substring(x,O)));const z=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ti(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));S=t.indexOf(":"),S>=0?(g="https"===v||"wss"===v,b=parseInt(t.substring(S+1),10)):S=t.length;const re=t.slice(0,S);if("localhost"===re.toLowerCase())e="localhost";else if(re.split(".").length<=2)e=re;else{const fe=t.indexOf(".");s=t.substring(0,fe).toLowerCase(),e=t.substring(fe+1),c=s}"ns"in z&&(c=z.ns)}return{host:t,port:b,domain:e,subdomain:s,secure:g,scheme:v,pathString:l,namespace:c}};class lw{constructor(t,e,s,l){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Pz)(this.snapshot.exportVal())}}class uw{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cw{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class fh{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new V.BH;return yT(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Es("OnDisconnect.remove",this._path);const t=new V.BH;return nw(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Es("OnDisconnect.set",this._path),so("OnDisconnect.set",t,this._path,!1);const e=new V.BH;return nw(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Es("OnDisconnect.setWithPriority",this._path),so("OnDisconnect.setWithPriority",t,this._path,!1),dv("OnDisconnect.setWithPriority",e,!1);const s=new V.BH;return function(n,t,e,s,l){const c=Dn(e,s);n.server_.onDisconnectPut(t.toString(),c.val(!0),(g,v)=>{"ok"===g&&Un(n.onDisconnect_,t,c),Ge(0,l,g,v)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){Es("OnDisconnect.update",this._path),Zb("OnDisconnect.update",t,this._path,!1);const e=new V.BH;return function(n,t,e,s){if((0,V.xb)(e))return Pr("onDisconnect().update() called with empty data.  Don't do anything."),void Ge(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(l,c)=>{"ok"===l&&ir(e,(g,v)=>{const b=Dn(v);Un(n.onDisconnect_,Cn(t,g),b)}),Ge(0,s,l,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ri{constructor(t,e,s,l){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return Et(this._path)?null:zl(this._path)}get ref(){return new Gi(this._repo,this._path)}get _queryIdentifier(){const t=hb(this._queryParams),e=oy(t);return"{}"===e?"default":e}get _queryObject(){return hb(this._queryParams)}isEqual(t){if(!((t=(0,V.m9)(t))instanceof Ri))return!1;const e=this._repo===t._repo,s=Hg(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function bm(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===yr){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==La)throw new Error(s);if("string"!=typeof t)throw new Error(l)}if(n.hasEnd()){if(n.getIndexEndName()!==no)throw new Error(s);if("string"!=typeof e)throw new Error(l)}}else if(n.getIndex()===an){if(null!=t&&!uh(t)||null!=e&&!uh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof Qg||n.getIndex()===ab,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Cc(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Gi extends Ri{constructor(t,e){super(t,e,new Jg,!1)}get parent(){const t=Hd(this._path);return null===t?null:new Gi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ru{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new At(t),s=oo(this.ref,t);return new ru(this._node.getChild(e),s,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,l)=>t(new ru(l,oo(this.ref,s),an)))}hasChild(t){const e=new At(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ev(n,t){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==t?oo(n._root,t):n._root}function dw(n,t){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const e=Cm(t,n._repo.repoInfo_.nodeAdmin);Kb("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Fa("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),Ev(n,e.path.toString())}function oo(n,t){return null===wt((n=(0,V.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zf("child","path",e,!1)):Zf("child","path",t,!1),new Gi(n._repo,Cn(n._path,t));var e}function Cv(n,t){n=(0,V.m9)(n),Es("set",n._path),so("set",t,n._path,!1);const e=new V.BH;return Yf(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function pw(n,t){Zb("update",t,n._path,!1);const e=new V.BH;return function(n,t,e,s){Qf(n,"update",{path:t.toString(),value:e});let l=!0;const c=ch(n),g={};if(ir(e,(v,b)=>{l=!1,g[v]=$b(Cn(t,v),Dn(b),n.serverSyncTree_,c)}),l)Pr("update() called with empty data.  Don't do anything."),Ge(0,s,"ok",void 0);else{const v=Kf(n),b=function(n,t,e,s){!function(n,t,e,s){(0,V.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=tm(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const l=ln.fromObject(e);return mc(n,new pc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(n.serverSyncTree_,t,g,v);mm(n.eventQueue_,b),n.server_.merge(t.toString(),e,(S,x)=>{const O="ok"===S;O||Ti("update at "+t+" failed: "+S);const z=eu(n.serverSyncTree_,v,!O),re=z.length>0?hh(n,t):t;Cs(n.eventQueue_,re,z),Ge(0,s,S,x)}),ir(e,S=>{const x=ep(n,Cn(t,S));hh(n,x)}),Cs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function wT(n){return function(n,t){const e=function(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,x)=>{const O=qr(S,e);s=s||Ga(x,O)});let l=n.syncPointTree_.get(e);l?s=s||Ga(l,Vt()):(l=new sm,n.syncPointTree_=n.syncPointTree_.set(e,l));const c=null!=s,g=c?new Ha(s,!0,!1):null;return function(n){return Mf(n.viewCache_)}(am(l,t,nm(n.pendingWriteTree_,t._path),c?g.getNode():pt.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(s=>{const l=Dn(s).withIndex(t._queryParams.getIndex()),c=Bf(n.serverSyncTree_,t._path,l);return hv(n.eventQueue_,t._path,c),Promise.resolve(l)},s=>(Qf(n,"get for query "+(0,V.Pz)(t)+" failed: "+s),Promise.reject(new Error(s))))}((n=(0,V.m9)(n))._repo,n).then(t=>new ru(t,new Gi(n._repo,n._path),n._queryParams.getIndex()))}class tp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new lw("value",this,new ru(t.snapshotNode,new Gi(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uw(this,t,e):null}matches(t){return t instanceof tp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Im{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uw(this,t,e):null}createEvent(t,e){(0,V.hu)(null!=t.childName,"Child events should have a childName.");const s=oo(new Gi(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new lw(t.type,this,new ru(t.snapshotNode,s,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Im&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function np(n,t,e,s,l){let c;if("object"==typeof s&&(c=void 0,l=s),"function"==typeof s&&(c=s),l&&l.onlyOnce){const b=e,S=(x,O)=>{rw(n._repo,n,v),b(x,O)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new cw(e,c||void 0),v="value"===t?new tp(g):new Im(t,g);return function(n,t,e){let s;s=".info"===wt(t._path)?rv(n.infoSyncTree_,t,e):rv(n.serverSyncTree_,t,e),hv(n.eventQueue_,t._path,s)}(n._repo,n,v),()=>rw(n._repo,n,v)}function gw(n,t,e,s){return np(n,"value",t,e,s)}function IT(n,t,e,s){return np(n,"child_added",t,e,s)}function DT(n,t,e,s){return np(n,"child_changed",t,e,s)}function TT(n,t,e,s){return np(n,"child_moved",t,e,s)}function bv(n,t,e,s){return np(n,"child_removed",t,e,s)}function rp(n,t,e){let s=null;const l=e?new cw(e):null;"value"===t?s=new tp(l):t&&(s=new Im(t,l)),rw(n._repo,n,s)}class ao{}class mw extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){so("endAt",this._value,t._path,!0);const e=Xg(t._queryParams,this._value,this._key);if(Cc(e),nu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class ip extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){so("endBefore",this._value,t._path,!1);const e=function(n,t,e){let s,l;return n.index_===yr?("string"==typeof t&&(t=Fy(t)),l=Xg(n,t,e)):(s=null==e?La:Fy(e),l=Xg(n,t,s)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(Cc(e),nu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class yw extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){so("startAt",this._value,t._path,!0);const e=Zd(t._queryParams,this._value,this._key);if(Cc(e),nu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class RT extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){so("startAfter",this._value,t._path,!1);const e=function(n,t,e){let s;if(n.index_===yr)"string"==typeof t&&(t=ky(t)),s=Zd(n,t,e);else{let l;l=null==e?no:ky(e),s=Zd(n,t,l)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(Cc(e),nu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ri(t._repo,t._path,e,t._orderByCalled)}}class vw extends ao{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ri(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class NT extends ao{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ri(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class OT extends ao{constructor(t){super(),this._path=t}_apply(t){bm(t,"orderByChild");const e=new At(this._path);if(Et(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Qg(e),l=ql(t._queryParams,s);return nu(l),new Ri(t._repo,t._path,l,!0)}}class xT extends ao{_apply(t){bm(t,"orderByKey");const e=ql(t._queryParams,yr);return nu(e),new Ri(t._repo,t._path,e,!0)}}class kT extends ao{_apply(t){bm(t,"orderByPriority");const e=ql(t._queryParams,an);return nu(e),new Ri(t._repo,t._path,e,!0)}}class FT extends ao{_apply(t){bm(t,"orderByValue");const e=ql(t._queryParams,ab);return nu(e),new Ri(t._repo,t._path,e,!0)}}class LT extends ao{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(so("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mw(this._value,this._key)._apply(new yw(this._value,this._key)._apply(t))}}function bs(n,...t){let e=(0,V.m9)(n);for(const s of t)e=s._apply(e);return e}(function(n){(0,V.hu)(!ah,"__referenceConstructor has already been defined"),ah=n})(Gi),function(n){(0,V.hu)(!Uf,"__referenceConstructor has already been defined"),Uf=n}(Gi);const Iv={};function Dw(n,t,e,s,l){let c=s||n.options.databaseURL;void 0===c&&(n.options.projectId||Fa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pr("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,S,g=Cm(c,l),v=g.repoInfo;"undefined"!=typeof process&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(b=!0,c=`http://${S}?ns=${v.namespace}`,g=Cm(c,l),v=g.repoInfo):b=!g.repoInfo.secure;const x=l&&b?new Ef(Ef.OWNER):new Bd(n.name,n.options,t);Kb("Invalid Firebase Database URL",g),Et(g.path)||Fa("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function(n,t,e,s){let l=Iv[t.name];l||(l={},Iv[t.name]=l);let c=l[n.toURLString()];return c&&Fa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new _T(n,false,e,s),l[n.toURLString()]=c,c}(v,n,x,new vf(n.name,e));return new jT(O,n)}class jT{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=my(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Yd(n.repoInfo_,(s,l,c,g)=>{pv(n,s,l,c,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gv(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new dc(n.repoInfo_,t,(s,l,c,g)=>{pv(n,s,l,c,g)},s=>{gv(n,s)},s=>{!function(n,t){ir(t,(e,s)=>{_m(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function(n,t){const e=n.toString();return gy[e]||(gy[e]=t()),gy[e]}(n.repoInfo_,()=>new eh(n.stats_,n.server_)),n.infoData_=new Yo,n.infoSyncTree_=new nv({startListening:(s,l,c,g)=>{let v=[];const b=n.infoData_.getNode(s._path);return b.isEmpty()||(v=Bf(n.infoSyncTree_,s._path,b),setTimeout(()=>{g("ok")},0)),v},stopListening:()=>{}}),_m(n,"connected",!1),n.serverSyncTree_=new nv({startListening:(s,l,c,g)=>(n.server_.listen(s,c,l,(v,b)=>{const S=g(v,b);Cs(n.eventQueue_,s._path,S)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gi(this._repo,Vt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=Iv[t];(!e||e[n.key]!==n)&&Fa(`Database ${t}(${n.repoInfo_}) has already been deleted.`),_v(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Fa("Cannot call "+t+" on a deleted database.")}}function GT(n,t){lD(n,t)}class Rw{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}dc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},dc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},iy(di.SDK_VERSION),(0,di._registerComponent)(new jl.wA("database",(t,{instanceIdentifier:e})=>Dw(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,di.registerVersion)(Og,"0.12.4",void 0),(0,di.registerVersion)(Og,"0.12.4","esm2017");const Pw=new uc.Yd("@firebase/database-compat"),Dm=function(n){Pw.warn("FIREBASE WARNING: "+n)};class Sv{constructor(t){this._delegate=t}cancel(t){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(t,e,s){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const l=this._delegate.setWithPriority(t,e);return s&&l.then(()=>s(null),c=>s(c)),l}update(t,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let c=0;c<t.length;++c)l[""+c]=t[c];t=l,Dm("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),l=>e(l)),s}}class QT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class qa{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Zf("DataSnapshot.child","path",t,!1),new qa(this._database,this._delegate.child(t))}hasChild(t){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Zf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new qa(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new Pi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Nr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,l){var c;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const g=Nr.getCancelAndContextArgs_("Query.on",s,l),v=(S,x)=>{e.call(g.context,new qa(this.database,S),x)};v.userCallback=e,v.context=g.context;const b=null===(c=g.cancel)||void 0===c?void 0:c.bind(g.context);switch(t){case"value":return gw(this._delegate,v,b),e;case"child_added":return IT(this._delegate,v,b),e;case"child_removed":return bv(this._delegate,v,b),e;case"child_changed":return DT(this._delegate,v,b),e;case"child_moved":return TT(this._delegate,v,b),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",s,!0),e){const l=()=>{};l.userCallback=e,l.context=s,rp(this._delegate,t,l)}else rp(this._delegate,t)}get(){return wT(this._delegate).then(t=>new qa(this.database,t))}once(t,e,s,l){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const c=Nr.getCancelAndContextArgs_("Query.once",s,l),g=new V.BH,v=(S,x)=>{const O=new qa(this.database,S);e&&e.call(c.context,O,x),g.resolve(O)};v.userCallback=e,v.context=c.context;const b=S=>{c.cancel&&c.cancel.call(c.context,S),g.reject(S)};switch(t){case"value":gw(this._delegate,v,b,{onlyOnce:!0});break;case"child_added":IT(this._delegate,v,b,{onlyOnce:!0});break;case"child_removed":bv(this._delegate,v,b,{onlyOnce:!0});break;case"child_changed":DT(this._delegate,v,b,{onlyOnce:!0});break;case"child_moved":TT(this._delegate,v,b,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new Nr(this.database,bs(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new vw(n)}(t)))}limitToLast(t){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new Nr(this.database,bs(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new NT(n)}(t)))}orderByChild(t){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new Nr(this.database,bs(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zf("orderByChild","path",n,!1),new OT(n)}(t)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new Nr(this.database,bs(this._delegate,new xT))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new Nr(this.database,bs(this._delegate,new kT))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new Nr(this.database,bs(this._delegate,new FT))}startAt(t=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new Nr(this.database,bs(this._delegate,function(n=null,t){return qf("startAt","key",t,!0),new yw(n,t)}(t,e)))}startAfter(t=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new Nr(this.database,bs(this._delegate,function(n,t){return qf("startAfter","key",t,!0),new RT(n,t)}(t,e)))}endAt(t=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new Nr(this.database,bs(this._delegate,function(n,t){return qf("endAt","key",t,!0),new mw(n,t)}(t,e)))}endBefore(t=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new Nr(this.database,bs(this._delegate,function(n,t){return qf("endBefore","key",t,!0),new ip(n,t)}(t,e)))}equalTo(t,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new Nr(this.database,bs(this._delegate,function(n,t){return qf("equalTo","key",t,!0),new LT(n,t)}(t,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Nr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const l={cancel:void 0,context:void 0};if(e&&s)l.cancel=e,(0,V.Wj)(t,"cancel",l.cancel,!0),l.context=s,(0,V.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new Pi(this.database,new Gi(this._delegate._repo,this._delegate._path))}}class Pi extends Nr{constructor(t,e){super(t,new Ri(e._repo,e._path,new Jg,!1)),this.database=t,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Pi(this.database,oo(this._delegate,t))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Pi(this.database,t):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new Pi(this.database,this._delegate.root)}set(t,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const s=Cv(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}update(t,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let c=0;c<t.length;++c)l[""+c]=t[c];t=l,Dm("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Es("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const s=pw(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}setWithPriority(t,e,s){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",s,!0);const l=function(n,t,e){if(Es("setWithPriority",n._path),so("setWithPriority",t,n._path,!1),dv("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new V.BH;return Yf(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&l.then(()=>s(null),c=>s(c)),l}remove(t){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return Es("remove",n._path),Cv(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const l=function(n,t,e){var s;if(n=(0,V.m9)(n),Es("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const l=null===(s=null==e?void 0:e.applyLocally)||void 0===s||s,c=new V.BH,v=gw(n,()=>{});return function(n,t,e,s,l,c){Qf(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:kg(),applyLocally:c,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=yv(n,t,void 0);g.currentInputSnapshot=v;const b=g.update(v.val());if(void 0===b)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{zf("transaction failed: Data returned ",b,g.path),g.status=0;const S=fm(n.transactionQueueTree_,t),x=tu(S)||[];let O;x.push(g),av(S,x),"object"==typeof b&&null!==b&&(0,V.r3)(b,".priority")?(O=(0,V.DV)(b,".priority"),(0,V.hu)(uh(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(cm(n.serverSyncTree_,t)||pt.EMPTY_NODE).getPriority().val();const z=ch(n),re=Dn(b,O),fe=ov(re,v,z);g.currentOutputSnapshotRaw=re,g.currentOutputSnapshotResolved=fe,g.currentWriteId=Kf(n);const Ae=lm(n.serverSyncTree_,t,fe,g.currentWriteId,g.applyLocally);Cs(n.eventQueue_,t,Ae),ym(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,S,x)=>{let O=null;b?c.reject(b):(O=new ru(x,new Gi(n._repo,n._path),an),c.resolve(new Rw(S,O)))},v,l),c.promise}(this._delegate,t,{applyLocally:s}).then(c=>new QT(c.committed,new qa(this.database,c.snapshot)));return e&&l.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),l}setPriority(t,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const s=function(n,t){n=(0,V.m9)(n),Es("setPriority",n._path),dv("setPriority",t,!1);const e=new V.BH;return Yf(n._repo,Cn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),l=>e(l)),s}push(t,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const s=function(n,t){n=(0,V.m9)(n),Es("push",n._path),so("push",t,n._path,!0);const e=fv(n._repo),s=ub(e),l=oo(n,s),c=oo(n,s);let g;return g=null!=t?Cv(c,t).then(()=>c):Promise.resolve(c),l.then=g.then.bind(g),l.catch=g.then.bind(g,void 0),l}(this._delegate,t),l=s.then(g=>new Pi(this.database,g));e&&l.then(()=>e(null),g=>e(g));const c=new Pi(this.database,s);return c.then=l.then.bind(l),c.catch=l.catch.bind(l,void 0),c}onDisconnect(){return Es("Reference.onDisconnect",this._delegate._path),new Sv(new fh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class gh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,s={}){!function(n,t,e,s={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Fa("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let c;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Fa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Ef(Ef.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,V.Sg)(s.mockUserToken,n.app.options.projectId);c=new Ef(g)}!function(n,t,e,s){n.repoInfo_=new py(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(l,t,e,c)}(this._delegate,t,e,s)}ref(t){if((0,V.Dv)("database.ref",0,1,arguments.length),t instanceof Pi){const e=dw(this._delegate,t.toString());return new Pi(this,e)}{const e=Ev(this._delegate,t);return new Pi(this,e)}}refFromURL(t){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const s=dw(this._delegate,t);return new Pi(this,s)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),_v(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(Qb)}(n._repo)}(this._delegate)}}gh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var BR=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:s,namespace:l,nodeAdmin:c=!1}){iy(e);const g=new jl.zt("auth-internal",new jl.H0("database-standalone"));return g.setComponent(new jl.wA("auth-internal",()=>s,"PRIVATE")),{instance:new gh(Dw(n,g,void 0,t,c),n),namespace:l}}});const JT=gh.ServerValue;!function(n){n.INTERNAL.registerComponent(new jl.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new gh(l,s)},"PUBLIC").setServiceProps({Reference:Pi,Query:Nr,Database:gh,DataSnapshot:qa,enableLogging:GT,INTERNAL:BR,ServerValue:JT}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.4")}(vR.Z);var Tm=L(309),Rv=L(7771),Am=L(8858);class XT extends Hr.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new _h(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,c=s.length;let g;if(this.closed)throw new ku.N;if(this.isStopped||this.hasError?g=ju.w.EMPTY:(this.observers.push(t),g=new Am.W(this,t)),l&&t.add(t=new Tm.ht(t,l)),e)for(let v=0;v<c&&!t.closed;v++)t.next(s[v]);else for(let v=0;v<c&&!t.closed;v++)t.next(s[v].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),g}_getNow(){return(this.scheduler||Rv.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,l=this._events,c=l.length;let g=0;for(;g<c&&!(t-l[g].time<s);)g++;return c>e&&(g=Math.max(g,c-e)),g>0&&l.splice(0,g),l}}class _h{constructor(t,e){this.time=t,this.value=e}}function Nw(n,t,e){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},l=>l.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let l,g,c=0,v=!1,b=!1;return function(x){let O;c++,!l||v?(v=!1,l=new XT(n,t,s),O=l.subscribe(this),g=x.subscribe({next(z){l.next(z)},error(z){v=!0,l.error(z)},complete(){b=!0,g=void 0,l.complete()}}),b&&(g=void 0)):O=l.subscribe(this),this.add(()=>{c--,O.unsubscribe(),O=void 0,g&&!b&&e&&0===c&&(g.unsubscribe(),g=void 0,l=void 0)})}}(s))}function Ow(n,t){return t?Ln(()=>n,t):Ln(()=>n)}var ws=L(3101);L(2329);const Ov=new Map,Fw={activated:!1,tokenObservers:[]},Lw={initialized:!1,enabled:!1};function vr(n){return Ov.get(n)||Fw}function lo(n,t){Ov.set(n,t)}function sp(){return Lw}class sA{constructor(t,e,s,l,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=l,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=l,l>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ld.Z)(function*(){e.stop();try{e.pending=new V.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const fi=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Uw(n){if(!vr(n).activated)throw fi.create("use-before-activation",{appName:n.name})}function kv(n,t){return Fv.apply(this,arguments)}function Fv(){return(Fv=(0,Ld.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});l&&(s["X-Firebase-Client"]=l.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(t),headers:s};let g,v;try{g=yield fetch(n,c)}catch(O){throw fi.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==g.status)throw fi.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(O){throw fi.create("fetch-parse-error",{originalErrorMessage:O.message})}const b=v.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(b[1]),x=Date.now();return{token:v.attestationToken,expireTimeMillis:x+S,issuedAtTimeMillis:x}})).apply(this,arguments)}function uA(n,t){const{projectId:e,appId:s,apiKey:l}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${s}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const up="firebase-app-check-store";let bc=null;function iu(){return bc||(bc=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var l;t(fi.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=s=>{const l=s.target.result;switch(s.oldVersion){case 0:l.createObjectStore(up,{keyPath:"compositeKey"})}}}catch(e){t(fi.create("storage-open",{originalErrorMessage:e.message}))}}),bc)}function Lv(){return(Lv=(0,Ld.Z)(function*(n,t){const s=(yield iu()).transaction(up,"readwrite"),c=s.objectStore(up).put({compositeKey:n,value:t});return new Promise((g,v)=>{c.onsuccess=b=>{g()},s.onerror=b=>{var S;v(fi.create("storage-set",{originalErrorMessage:null===(S=b.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const wc=new uc.Yd("@firebase/app-check");function Ww(n,t){return(0,V.hl)()?function(n,t){return function(n,t){return Lv.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{wc.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Gw(){return sp().enabled}function Uv(){return vh.apply(this,arguments)}function vh(){return(vh=(0,Ld.Z)(function*(){const n=sp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const JR={error:"UNKNOWN_ERROR"};function dp(n){return V.US.encodeString(JSON.stringify(n),!1)}function $t(n){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,Ld.Z)(function*(n,t=!1){const e=n.app;Uw(e);const s=vr(e);let c,l=s.token;if(!l){const b=yield s.cachedTokenPromise;b&&Eh(b)&&(l=b)}if(!t&&l&&Eh(l))return{token:l.token};let v,g=!1;if(Gw()){s.exchangeTokenPromise||(s.exchangeTokenPromise=kv(uA(e,yield Uv()),n.platformLoggerProvider).then(S=>(s.exchangeTokenPromise=void 0,S)),g=!0);const b=yield s.exchangeTokenPromise;return yield Ww(e,b),lo(e,Object.assign(Object.assign({},s),{token:b})),{token:b.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(b=>(s.exchangeTokenPromise=void 0,b)),g=!0),l=yield s.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?wc.warn(b.message):wc.error(b),c=b}return l?(v={token:l.token},lo(e,Object.assign(Object.assign({},s),{token:l})),yield Ww(e,l)):v=Dc(c),g&&zi(e,v),v})).apply(this,arguments)}function Ic(n,t){const e=vr(n),s=e.tokenObservers.filter(l=>l.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),lo(n,Object.assign(Object.assign({},e),{tokenObservers:s}))}function pA(n){const{app:t}=n,e=vr(t);let s=e.tokenRefresher;s||(s=function(n){const{app:t}=n;return new sA((0,Ld.Z)(function*(){let s;if(s=vr(t).token?yield $t(n,!0):yield $t(n),s.error)throw s.error}),()=>!0,()=>{const e=vr(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),lo(t,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function zi(n,t){const e=vr(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch(l){}}function Eh(n){return n.expireTimeMillis-Date.now()>0}function Dc(n){return{token:dp(JR),error:n}}class XR{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=vr(this.app);for(const e of t)Ic(this.app,e.next);return Promise.resolve()}}const $v="app-check-internal";(0,di._registerComponent)(new jl.wA("app-check",n=>function(n,t){return new XR(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider($v).initialize()})),(0,di._registerComponent)(new jl.wA($v,n=>function(n){return{getToken:t=>$t(n,t),addTokenListener:t=>function(n,t,e,s){const{app:l}=n,c=vr(l),g={next:e,error:s,type:t};if(lo(l,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,g]})),c.token&&Eh(c.token)){const v=c.token;Promise.resolve().then(()=>{e({token:v.token}),pA(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>pA(n))}(n,"INTERNAL",t),removeTokenListener:t=>Ic(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,di.registerVersion)("@firebase/app-check","0.5.2");class _p{constructor(){return(0,Di.vb)("app-check")}}"undefined"!=typeof window&&window;var CA=L(7841);const n0=new h.OlP("angularfire2.auth.use-emulator"),r0=new h.OlP("angularfire2.auth.settings"),s0=new h.OlP("angularfire2.auth.tenant-id"),o0=new h.OlP("angularfire2.auth.langugage-code"),Um=new h.OlP("angularfire2.auth.use-device-language"),a0=new h.OlP("angularfire.auth.persistence"),l0=(n,t,e,s,l,c,g,v)=>(0,gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),s&&(b.tenantId=s),b.languageCode=l,c&&b.useDeviceLanguage(),g)for(const[S,x]of Object.entries(g))b.settings[S]=x;return v&&b.setPersistence(v),b},[e,s,l,c,g,v]);let Hv=(()=>{class n{constructor(e,s,l,c,g,v,b,S,x,O,z,re){const fe=new Hr.xQ,Ae=(0,Be.of)(void 0).pipe((0,Tm.QV)(g.outsideAngular),Ln(()=>c.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,941)))),(0,bt.U)(()=>(0,gs.on)(e,c,s)),(0,bt.U)(Me=>l0(Me,c,v,S,x,O,b,z)),Nw({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{Ae.pipe(Mn()).subscribe();const dt=Ae.pipe(Ln(ht=>ht.getRedirectResult().then(Fr=>Fr,()=>null)),Di.iC,Nw({bufferSize:1,refCount:!1})),Xe=Ae.pipe(Ln(ht=>new tr.y(Fr=>({unsubscribe:c.runOutsideAngular(()=>ht.onAuthStateChanged(Kr=>Fr.next(Kr),Kr=>Fr.error(Kr),()=>Fr.complete()))})))),Ft=Ae.pipe(Ln(ht=>new tr.y(Fr=>({unsubscribe:c.runOutsideAngular(()=>ht.onIdTokenChanged(Kr=>Fr.next(Kr),Kr=>Fr.error(Kr),()=>Fr.complete()))}))));this.authState=dt.pipe(Ow(Xe),(0,ws.R)(g.outsideAngular),(0,Tm.QV)(g.insideAngular)),this.user=dt.pipe(Ow(Ft),(0,ws.R)(g.outsideAngular),(0,Tm.QV)(g.insideAngular)),this.idToken=this.user.pipe(Ln(ht=>ht?(0,cn.D)(ht.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe(Ln(ht=>ht?(0,cn.D)(ht.getIdTokenResult()):(0,Be.of)(null))),this.credential=(0,ty.T)(dt,fe,this.authState.pipe(Bs(ht=>!ht))).pipe((0,bt.U)(ht=>(null==ht?void 0:ht.user)?ht:null),(0,ws.R)(g.outsideAngular),(0,Tm.QV)(g.insideAngular))}return(0,gs.pX)(this,Ae,c,{spy:{apply:(Me,dt,Xe)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&Xe.then(Ft=>fe.next(Ft))}}})}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(gs.Dh),h.LFG(gs.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Di.HU),h.LFG(n0,8),h.LFG(r0,8),h.LFG(s0,8),h.LFG(o0,8),h.LFG(Um,8),h.LFG(a0,8),h.LFG(_p,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function c0(n){return null==n}function d0(n){return"function"==typeof n.set}function h0(n,t){return d0(t)?t:n.ref(t)}function f0(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(d0(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function yp(n,t,e="on",s=eD.z){return new tr.y(l=>{let c=null;return c=n[e](t,(g,v)=>{s.schedule(()=>{l.next({snapshot:g,prevKey:v})}),"once"===e&&s.schedule(()=>l.complete())},g=>{s.schedule(()=>l.error(g))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,bt.U)(l=>{const{snapshot:c,prevKey:g}=l;let v=null;return c.exists()&&(v=c.key),{type:t,payload:c,prevKey:g,key:v}}),(0,tD.B)())}function Ih(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function TA(n,t){const{payload:e,prevKey:s,key:l}=t,c=Ih(n,l),g=function(n,t){if(c0(t))return 0;{const e=Ih(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(b=>{const S={payload:b,type:"value",prevKey:v,key:b.key};return v=b.key,n=[...n,S],!1})}return n;case"child_added":if(c>-1){const v=n[c-1];(v&&v.key||null)!==s&&(n=n.filter(b=>b.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===l?t:v);case"child_moved":if(c>-1){const v=n.splice(c,1)[0];return(n=n.slice()).splice(g,0,v),n}return n;default:return n}}function Wv(n){return(c0(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Dh(n,t,e){return function(n,t,e){return yp(n,"value","once",e).pipe(Ln(s=>{const l=[(0,Be.of)(s)];return t.forEach(c=>l.push(yp(n,c,"on",e))),(0,ty.T)(...l).pipe(Fu(TA,[]))}),e=>e.lift(new RC(void 0,void 0)))}(n,t=Wv(t),e)}function AA(n,t,e){const s=(t=Wv(t)).map(l=>yp(n,l,"on",e));return(0,ty.T)(...s)}function g0(n,t){return function(s,l){return f0(s,{stringCase:()=>n.child(s)[t](l),firebaseCase:()=>s[t](l),snapshotCase:()=>s.ref[t](l)})}}function PA(n){return function(e){return e?f0(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Gv(n,t){return function(){return yp(n,"value","on",t)}}const OA=new h.OlP("angularfire2.realtimeDatabaseURL"),uP=new h.OlP("angularfire2.database.use-emulator");let Bm=(()=>{class n{constructor(e,s,l,c,g,v,b,S,x,O,z,re,fe,Ae,Me){this.schedulers=v;const dt=b,Xe=(0,gs.on)(e,g,s);S&&l0(Xe,g,x,z,re,fe,O,Ae),this.database=(0,gs.cc)(`${Xe.name}.database.${l}`,"AngularFireDatabase",Xe.name,()=>{const Ft=g.runOutsideAngular(()=>Xe.database(l||void 0));return dt&&Ft.useEmulator(...dt),Ft},[dt])}list(e,s){const l=this.schedulers.ngZone.runOutsideAngular(()=>h0(this.database,e));let c=l;return s&&(c=s(l)),function(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:g0(s,"update"),set:g0(s,"set"),push:l=>s.push(l),remove:PA(s),snapshotChanges:l=>Dh(n,l,e).pipe(Di.iC),stateChanges:l=>AA(n,l,e).pipe(Di.iC),auditTrail:l=>function(n,t,e){return function(n,t,e){return function(n,t){return yp(n,"value","on",t).pipe((0,bt.U)(e=>{let s;return e.payload.forEach(l=>(s=l.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new eo(n,e))}}(t),(0,bt.U)(([l,c])=>{const g=l.lastKeyToLoad,v=c.map(b=>b.key);return{actions:c,lastKeyToLoad:g,loadedKeys:v}}),function(n){return t=>t.lift(new ny(n))}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,bt.U)(l=>l.actions))}(n,AA(n,t).pipe(Fu((l,c)=>[...l,c],[])),e)}(n,l,e).pipe(Di.iC),valueChanges:(l,c)=>Dh(n,l,e).pipe((0,bt.U)(v=>v.map(b=>c&&c.idField?Object.assign(Object.assign({},b.payload.val()),{[c.idField]:b.key}):b.payload.val())),Di.iC)}}(c,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>Gv(n,t.schedulers.outsideAngular)().pipe(Di.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Gv(n,t.schedulers.outsideAngular)().pipe(Di.iC,(0,bt.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>h0(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(gs.Dh),h.LFG(gs.xv,8),h.LFG(OA,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Di.HU),h.LFG(uP,8),h.LFG(Hv,8),h.LFG(n0,8),h.LFG(r0,8),h.LFG(s0,8),h.LFG(o0,8),h.LFG(Um,8),h.LFG(a0,8),h.LFG(_p,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cP=(()=>{class n{constructor(){CA.Z.registerVersion("angularfire",Di.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Bm]}),n})();var zv=L(1555);function jm(n,t){return new tr.y(e=>{const s=n.length;if(0===s)return void e.complete();const l=new Array(s);let c=0,g=0;for(let v=0;v<s;v++){const b=(0,cn.D)(n[v]);let S=!1;e.add(b.subscribe({next:x=>{S||(S=!0,g++),l[v]=x},error:x=>e.error(x),complete:()=>{c++,(c===s||!S)&&(g===s&&e.next(t?t.reduce((x,O,z)=>(x[O]=l[z],x),{}):l),e.complete())}}))}})}let m0=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Tc=(()=>{class n extends m0{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Xo=new h.OlP("NgValueAccessor"),kA={provide:Xo,useExisting:(0,h.Gpc)(()=>$m),multi:!0};let $m=(()=>{class n extends Tc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,s){1&e&&h.NdJ("change",function(c){return s.onChange(c.target.checked)})("blur",function(){return s.onTouched()})},features:[h._Bn([kA]),h.qOj]}),n})();const qv={provide:Xo,useExisting:(0,h.Gpc)(()=>zn),multi:!0},Th=new h.OlP("CompositionEventMode");let zn=(()=>{class n extends m0{constructor(e,s,l){super(e,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Th,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&h.NdJ("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[h._Bn([qv]),h.qOj]}),n})();const Er=new h.OlP("NgValidators"),au=new h.OlP("NgAsyncValidators");function Ac(n){return null!=n}function UA(n){const t=(0,h.QGY)(n)?(0,cn.D)(n):n;return(0,h.CqO)(t),t}function Yv(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function w0(n,t){return t.map(e=>e(n))}function Qv(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function vp(n){return null!=n?function(n){if(!n)return null;const t=n.filter(Ac);return 0==t.length?null:function(e){return Yv(w0(e,t))}}(Qv(n)):null}function Jv(n){return null!=n?function(n){if(!n)return null;const t=n.filter(Ac);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,_l.k)(t))return jm(t,null);if((0,zv.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return jm(e.map(s=>t[s]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return jm(n=1===n.length&&(0,_l.k)(n[0])?n[0]:n,null).pipe((0,bt.U)(e=>t(...e)))}return jm(n,null)}(w0(e,t).map(UA)).pipe((0,bt.U)(Yv))}}(Qv(n)):null}function T0(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Xv(n){return n?Array.isArray(n)?n:[n]:[]}function Hm(n,t){return Array.isArray(n)?n.includes(t):n===t}function R0(n,t){const e=Xv(t);return Xv(n).forEach(l=>{Hm(e,l)||e.push(l)}),e}function P0(n,t){return Xv(t).filter(e=>!Hm(n,e))}let M0=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,s){return!!this.control&&this.control.hasError(e,s)}getError(e,s){return this.control?this.control.getError(e,s):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n}),n})(),or=(()=>{class n extends M0{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();class Ka extends M0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eE{constructor(t){this._cd=t}is(t){var e,s,l;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(l=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===l?void 0:l[t])}}let Wm=(()=>{class n extends eE{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Ka,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[h.qOj]}),n})(),Gm=(()=>{class n extends eE{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(or,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[h.qOj]}),n})();function Cp(n,t){bp(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&x0(n,t)})}(n,t),function(n,t){const e=(s,l)=>{t.valueAccessor.writeValue(s),l&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&x0(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function rE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function bp(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(T0(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(T0(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const l=()=>n.updateValueAndValidity();rE(t._rawValidators,l),rE(t._rawAsyncValidators,l)}function x0(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ah="VALID",Jm="INVALID",Rc="PENDING",Sh="DISABLED";function Or(n){return(L0(n)?n.validators:n)||null}function Pc(n){return Array.isArray(n)?vp(n):n||null}function uE(n,t){return(L0(t)?t.asyncValidators:n)||null}function F0(n){return Array.isArray(n)?Jv(n):n||null}function L0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Mc{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Pc(this._rawValidators),this._composedAsyncValidatorFn=F0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ah}get invalid(){return this.status===Jm}get pending(){return this.status==Rc}get disabled(){return this.status===Sh}get enabled(){return this.status!==Sh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Pc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=F0(t)}addValidators(t){this.setValidators(R0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(R0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(P0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(P0(t,this._rawAsyncValidators))}hasValidator(t){return Hm(this._rawValidators,t)}hasAsyncValidator(t){return Hm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sh,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ah,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ah||this.status===Rc)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sh:Ah}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rc,this._hasOwnPendingAsyncValidator=!0;const e=UA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let s=n;return t.forEach(l=>{s=s instanceof Ip?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof KA&&s.at(l)||null}),s}(this,t)}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Sh:this.errors?Jm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rc)?Rc:this._anyControlsHaveStatus(Jm)?Jm:Ah}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){L0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Xm extends Mc{constructor(t=null,e,s){super(Or(e),uE(s,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qm(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qm(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ip extends Mc{constructor(t,e,s){super(Or(e),uE(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,l)=>{s.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=e instanceof Xm?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((l,c)=>{s=e(s,l,c)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class KA extends Mc{constructor(t,e,s){super(Or(e),uE(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,l)=>{s.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Xm?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,s)=>{if(void 0===t[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const V0={provide:or,useExisting:(0,h.Gpc)(()=>Nc)},Dp=(()=>Promise.resolve(null))();let Nc=(()=>{class n extends or{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.vpe,this.form=new Ip({},vp(e),Jv(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Dp.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),Cp(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Dp.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),Qm(this._directives,e)})}addFormGroup(e){Dp.then(()=>{const s=this._findContainer(e.path),l=new Ip({});(function(n,t){bp(n,t)})(l,e),s.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Dp.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){Dp.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Er,10),h.Y36(au,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&h.NdJ("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([V0]),h.qOj]}),n})();const $0={provide:Ka,useExisting:(0,h.Gpc)(()=>e_)},fE=(()=>Promise.resolve(null))();let e_=(()=>{class n extends Ka{constructor(e,s,l,c){super(),this.control=new Xm,this._registered=!1,this.update=new h.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function(n,t){if(!t)return null;let e,s,l;return Array.isArray(t),t.forEach(c=>{c.constructor===zn?e=c:function(n){return Object.getPrototypeOf(n.constructor)===Tc}(c)?s=c:l=c}),l||s||e||null}(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fE.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,l=""===s||s&&"false"!==s;fE.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(or,9),h.Y36(Er,10),h.Y36(au,10),h.Y36(Xo,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([$0]),h.qOj,h.TTD]}),n})(),Tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),gE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const lS={provide:Er,useExisting:(0,h.Gpc)(()=>Ap),multi:!0};let Ap=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&h.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[h._Bn([lS])]}),n})(),X0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[gE]]}),n})(),CE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[X0]}),n})(),bE=(()=>{class n{constructor(e){this.db=e,this.quiz=new ey}ngOnInit(){}createQuiz(e){this.db.list("quizes").push(this.quiz).then(function(){alert("Quiz Sekmingai Sukurtas"),e.reset()})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Bm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quiz-create"]],decls:14,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-6","offset-3","mt-3"],[1,"text-center"],[3,"ngSubmit"],["quizForm","ngForm"],[1,"col-6"],["type","text","placeholder","Quiz Title *","name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success"]],template:function(e,s){if(1&e){const l=h.EpF();h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"h1"),h._uU(5,"Create new quiz!"),h.qZA(),h.qZA(),h.TgZ(6,"div"),h.TgZ(7,"form",4,5),h.NdJ("ngSubmit",function(){h.CHM(l);const g=h.MAs(8);return s.createQuiz(g)}),h.TgZ(9,"div",1),h.TgZ(10,"div",6),h.TgZ(11,"input",7),h.NdJ("ngModelChange",function(g){return s.quiz.title=g}),h.qZA(),h.qZA(),h.TgZ(12,"div",6),h._UZ(13,"input",8),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()}2&e&&(h.xp6(11),h.Q6J("ngModel",s.quiz.title))},directives:[Tp,Gm,Nc,zn,Ap,Wm,e_],styles:[""]}),n})();class wE{constructor(){this.title=""}}function eI(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",11),h.TgZ(1,"div",12),h.NdJ("click",function(){const c=h.CHM(e).$implicit;return h.oxw().selectQuestion(c)}),h._uU(2),h.qZA(),h.TgZ(3,"div",13),h.TgZ(4,"button",14),h.NdJ("click",function(){const c=h.CHM(e).$implicit;return h.oxw().deleteQuestion(c.key)}),h._uU(5,"X"),h.qZA(),h.TgZ(6,"small",15),h._uU(7),h.qZA(),h.qZA(),h.qZA()}if(2&n){const e=t.$implicit;h.xp6(2),h.hij(" ",e.value.title," "),h.xp6(5),h.hij("Key: ",e.key," ")}}function tI(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",11),h.TgZ(1,"div",23),h._uU(2),h.qZA(),h.TgZ(3,"div",13),h.TgZ(4,"button",24),h.NdJ("click",function(){const c=h.CHM(e).$implicit;return h.oxw(2).deleteAnswer(c.key)}),h._uU(5," X "),h.qZA(),h.qZA(),h.qZA()}if(2&n){const e=t.$implicit;h.xp6(2),h.hij(" ",e.value.title," ")}}function RP(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",16),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h._UZ(3,"hr"),h.TgZ(4,"h4"),h._uU(5,"Add new answer"),h.qZA(),h.TgZ(6,"form",17),h.NdJ("ngSubmit",function(){h.CHM(e);const l=h.oxw();return l.addAnswer(l.seletedQuestion)}),h.TgZ(7,"input",18),h.NdJ("ngModelChange",function(l){return h.CHM(e),h.oxw().newAnswer.title=l}),h.qZA(),h.TgZ(8,"div",19),h.TgZ(9,"input",20),h.NdJ("ngModelChange",function(l){return h.CHM(e),h.oxw().newAnswer.correct=l}),h.qZA(),h.TgZ(10,"label",21),h._uU(11,"Correct answer"),h.qZA(),h.qZA(),h.TgZ(12,"button",22),h._uU(13," Save "),h.qZA(),h.qZA(),h._UZ(14,"hr"),h.TgZ(15,"div",1),h.TgZ(16,"div",2),h.YNc(17,tI,6,1,"div",9),h.ALo(18,"keyvalue"),h.qZA(),h.qZA(),h.qZA()}if(2&n){const e=h.oxw();h.xp6(2),h.hij("",e.seletedQuestion.value.title," Answers: "),h.xp6(5),h.Q6J("ngModel",e.newAnswer.title),h.xp6(2),h.Q6J("ngModel",e.newAnswer.correct),h.xp6(8),h.Q6J("ngForOf",h.lcZ(18,4,e.seletedQuestion.value.answers))}}let nI=(()=>{class n{constructor(e,s,l){this.route=e,this.router=s,this.db=l,this.quiz=new ey,this.questions=new wE,this.seletedQuestion=null,this.newQuestion=new wE,this.newAnswer={title:"",correct:!1},this.showQuestionForm=!1,this.quizId=this.route.snapshot.paramMap.get("id"),console.log(this.quizId),l.object("quizes/"+this.quizId).valueChanges().subscribe(c=>{this.quiz=c}),this.questionsRef=l.list("quizes/"+this.quizId+"/questions")}ngOnInit(){}addQuestion(){this.showQuestionForm=!0}createQuestion(e){this.questionsRef.push(this.newQuestion).then(function(){alert("Klausimas sekmingai pridetas")})}deleteQuestion(e){this.questionsRef.remove(e).then(function(){alert("Klausimas istrintas")})}selectQuestion(e){this.seletedQuestion=e}addAnswer(e){this.selectedQuestionAnswersRef=this.db.list("quizes/"+this.quizId+"/questions/"+e.key+"/answers/"),this.selectedQuestionAnswersRef.push(this.newAnswer)}deleteAnswer(e){this.selectedQuestionAnswersRef=this.db.list("quizes/"+this.quizId+"/questions/"+this.seletedQuestion.key+"/answers/"),this.selectedQuestionAnswersRef.remove(e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Bo),h.Y36(zr),h.Y36(Bm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quiz-edit"]],decls:25,vars:6,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-12"],[3,"ngSubmit"],["questionForm","ngForm"],[1,"col-6"],["type","text","name","title","placeholder","Enter question title","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col"],["type","submit",1,"btn","btn-primary"],["class","card mb-3",4,"ngFor","ngForOf"],["class","selected-question",4,"ngIf"],[1,"card","mb-3"],[1,"card-body",3,"click"],[1,"card-footer"],[1,"btn-sm","btn","btn-danger",3,"click"],[1,"text-mutted"],[1,"selected-question"],["ngNativeValidate","",3,"ngSubmit"],["type","text","required","","name","title","placeholder","Answer title",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mt-3"],["type","checkbox","name","correct",3,"ngModel","ngModelChange"],["for","correct",1,"ms-2"],["type","submit",1,"btn","btn-warning","mt-3"],[1,"card-body"],[1,"btn","btn-danger",3,"click"]],template:function(e,s){if(1&e){const l=h.EpF();h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"h1"),h._uU(4),h.qZA(),h._UZ(5,"hr"),h.TgZ(6,"h3"),h._uU(7," Add New Question "),h.qZA(),h.TgZ(8,"form",3,4),h.NdJ("ngSubmit",function(){h.CHM(l);const g=h.MAs(9);return s.createQuestion(g)}),h.TgZ(10,"div",1),h.TgZ(11,"div",5),h.TgZ(12,"input",6),h.NdJ("ngModelChange",function(g){return s.newQuestion.title=g}),h.qZA(),h.qZA(),h.TgZ(13,"div",7),h._UZ(14,"input",8),h.qZA(),h.qZA(),h.qZA(),h._UZ(15,"hr"),h.TgZ(16,"h2"),h._uU(17,"Quiz Questions:"),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"div",5),h.YNc(20,eI,8,2,"div",9),h.ALo(21,"keyvalue"),h.qZA(),h.TgZ(22,"div",5),h.YNc(23,RP,19,6,"div",10),h.qZA(),h.qZA(),h._UZ(24,"hr"),h.qZA(),h.qZA(),h.qZA()}2&e&&(h.xp6(4),h.hij(" Editing: ",s.quiz.title," "),h.xp6(8),h.Q6J("ngModel",s.newQuestion.title),h.xp6(8),h.Q6J("ngForOf",h.lcZ(21,4,s.quiz.questions)),h.xp6(3),h.Q6J("ngIf",s.seletedQuestion))},directives:[Tp,Gm,Nc,zn,Ap,Wm,e_,Mt,Oi,$m],pipes:[sa],styles:[""]}),n})();function r_(n,t){if(1&n&&(h.TgZ(0,"div",4),h.TgZ(1,"div",5),h._uU(2),h.qZA(),h.TgZ(3,"div",6),h.TgZ(4,"a",7),h._uU(5," Go To Quiz "),h.qZA(),h.TgZ(6,"a",8),h._uU(7," Edit Quiz "),h.qZA(),h.qZA(),h.qZA()),2&n){const e=t.$implicit;h.xp6(2),h.hij(" ",e.value.title," "),h.xp6(2),h.MGl("routerLink","/quiz/",e.key,""),h.xp6(2),h.MGl("routerLink","/quiz/",e.key,"/edit")}}let rI=(()=>{class n{constructor(e){this.db=e,this.allQuizes=[]}ngOnInit(){this.db.object("quizes").valueChanges().subscribe(e=>{this.allQuizes=e})}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Bm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quiz-list"]],decls:7,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-footer"],[1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-info","text-white","ms-3",3,"routerLink"]],template:function(e,s){1&e&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"h1"),h._uU(4," All Quizes "),h.qZA(),h.YNc(5,r_,8,3,"div",3),h.ALo(6,"keyvalue"),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(5),h.Q6J("ngForOf",h.lcZ(6,1,s.allQuizes)))},directives:[Mt,oc],pipes:[sa],styles:[""]}),n})();const Bn="undefined"!=typeof window&&window||{};let xr;function i_(){return void 0===Bn||(void 0===Bn.__theme?(xr||(xr=function(){if(void 0===Bn.document)return"bs4";const n=Bn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("visually-hidden"),Bn.document.head.appendChild(n);const t=n.getBoundingClientRect(),e=Bn.getComputedStyle(n).overflow;return Bn.document.head.removeChild(n),!t||t&&0!==t.top?"bs3":e&&"hidden"===e?"bs5":"bs4"}()),"bs3"===xr):"bs3"===Bn.__theme)}"undefined"==typeof console||console;const aI=["*"];function lI(n,t){1&n&&h.GkF(0)}function uI(n,t){if(1&n&&(h.TgZ(0,"bar",3),h.Hsn(1),h.qZA()),2&n){const e=h.oxw();h.Q6J("type",e.type)("value",e._value)("max",e.max)("animate",e.animate)("striped",e.striped)}}function wS(n,t){if(1&n&&(h.TgZ(0,"bar",3),h._uU(1),h.qZA()),2&n){const e=t.$implicit,s=h.oxw(2);h.Q6J("type",e.type)("value",e.value)("max",e.max)("animate",s.animate)("striped",s.striped),h.xp6(1),h.Oqu(e.label)}}function IS(n,t){if(1&n&&h.YNc(0,wS,2,6,"bar",4),2&n){const e=h.oxw();h.Q6J("ngForOf",e._values)}}let TE=(()=>{class n{constructor(e,s){this.el=e,this.renderer=s,this.max=100,this.value=0,this.animate=!1,this.striped=!1,this.type="info",this.percent=100}get isBs3(){return i_()}ngOnChanges(e){var s;(e.value||e.max)&&(this.percent=Number(e.value.currentValue||0)/Number((null===(s=e.max)||void 0===s?void 0:s.currentValue)||this.max||100)*100),e.type&&this.applyTypeClasses()}applyTypeClasses(){if(this._prevType){const s=`bg-${this._prevType}`;this.renderer.removeClass(this.el.nativeElement,`progress-bar-${this._prevType}`),this.renderer.removeClass(this.el.nativeElement,s),this._prevType=void 0}if(this.type){const s=`bg-${this.type}`;this.renderer.addClass(this.el.nativeElement,`progress-bar-${this.type}`),this.renderer.addClass(this.el.nativeElement,s),this._prevType=this.type}}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["bar"]],hostAttrs:["role","progressbar","aria-valuemin","0"],hostVars:15,hostBindings:function(e,s){2&e&&(h.uIk("aria-valuenow",s.value)("aria-valuetext",s.percent?s.percent.toFixed(0)+"%":"")("aria-valuemax",s.max),h.Udp("height","100","%")("width",s.percent,"%"),h.ekj("progress-bar",!0)("progress-bar-animated",!s.isBs3&&s.animate)("progress-bar-striped",s.striped)("active",s.isBs3&&s.animate))},inputs:{max:"max",value:"value",animate:"animate",striped:"striped",type:"type"},features:[h.TTD],ngContentSelectors:aI,decls:1,vars:0,template:function(e,s){1&e&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),cI=(()=>{class n{constructor(){this.animate=!1,this.max=100}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,h.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})(),dI=(()=>{class n{constructor(e){this.max=100,this.animate=!1,this.striped=!1,this.isStacked=!1,this._value=0,Object.assign(this,e)}set value(e){this.isStacked=Array.isArray(e),"number"==typeof e?(this._value=e,this._values=void 0):(this._value=void 0,this._values=e)}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(cI))},n.\u0275cmp=h.Xpm({type:n,selectors:[["progressbar"]],hostVars:3,hostBindings:function(e,s){2&e&&(h.uIk("max",s.max),h.ekj("progress",!0))},inputs:{max:"max",animate:"animate",striped:"striped",value:"value",type:"type"},ngContentSelectors:aI,decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["NotStacked",""],["Stacked",""],[3,"type","value","max","animate","striped"],[3,"type","value","max","animate","striped",4,"ngFor","ngForOf"]],template:function(e,s){if(1&e&&(h.F$t(),h.YNc(0,lI,1,0,"ng-container",0),h.YNc(1,uI,2,5,"ng-template",null,1,h.W1O),h.YNc(3,IS,1,1,"ng-template",null,2,h.W1O)),2&e){const l=h.MAs(2),c=h.MAs(4);h.Q6J("ngIf",!s.isStacked)("ngIfThen",l)("ngIfElse",c)}},directives:[Oi,TE,Mt],styles:["[_nghost-%COMP%] {\n      width: 100%;\n      display: flex;\n    }"],changeDetection:0}),n})(),AE=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Br]]}),n})();function DS(n,t){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.qZA()),2&n){const e=h.oxw(2);h.xp6(1),h.hij(" Quiz Title: ",e.quiz.title," ")}}function co(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"div",29),h.TgZ(1,"div",30),h.NdJ("click",function(){const c=h.CHM(e).$implicit,g=h.oxw(2).$implicit;return h.oxw(2).userSelectedAnswer(g,c)}),h.TgZ(2,"div",31),h.TgZ(3,"div",32),h._uU(4),h.qZA(),h.TgZ(5,"div",33),h._uU(6),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&n){const e=t.$implicit,s=t.index,l=h.oxw(4);h.ekj("selected",e.key==l.selectedAnswerKey),h.xp6(4),h.hij(" ",s+1," "),h.xp6(2),h.hij(" ",e.value.title," ")}}function TS(n,t){if(1&n&&(h.TgZ(0,"div",26),h.TgZ(1,"div",3),h.TgZ(2,"div",27),h.TgZ(3,"h2"),h._uU(4),h.qZA(),h.qZA(),h.qZA(),h.TgZ(5,"div",3),h.YNc(6,co,7,4,"div",28),h.ALo(7,"keyvalue"),h.qZA(),h.qZA()),2&n){const e=h.oxw().$implicit;h.xp6(4),h.hij(" ",e.value.title," "),h.xp6(2),h.Q6J("ngForOf",h.lcZ(7,2,e.value.answers))}}function BP(n,t){if(1&n&&(h.TgZ(0,"div",24),h.YNc(1,TS,8,4,"div",25),h.qZA()),2&n){const e=t.index,s=h.oxw(2);h.xp6(1),h.Q6J("ngIf",e==s.currentQuestion)}}function AS(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"button",34),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).nextQuestion()}),h._uU(1," Next Question "),h.qZA()}}function jP(n,t){if(1&n&&(h.TgZ(0,"button",35),h._uU(1," Select Answer "),h.qZA()),2&n){const e=h.oxw(2);h.Q6J("disabled",null===e.selectedAnswerKey)}}function SS(n,t){if(1&n){const e=h.EpF();h.TgZ(0,"section",1),h.TgZ(1,"div",2),h.TgZ(2,"div",3),h.TgZ(3,"div",4),h.TgZ(4,"div",3),h.TgZ(5,"div",5),h.TgZ(6,"div",6),h.YNc(7,DS,2,1,"div",7),h.TgZ(8,"span"),h._uU(9),h.ALo(10,"date"),h.qZA(),h.TgZ(11,"div",8),h._uU(12,"Question 1"),h.qZA(),h.TgZ(13,"h1",9),h._uU(14,"Start Quiz"),h.qZA(),h.TgZ(15,"p",10),h._uU(16," User interface design. One Awesome Flat Ui Kit in Psd format. The pack ... Quiz App is a mobile UI kit created using Sketch and Photoshop, aimed to help you kick start your next mobile quiz or trivia project "),h.qZA(),h.qZA(),h.qZA(),h.TgZ(17,"div",11),h.YNc(18,BP,2,1,"div",12),h.ALo(19,"keyvalue"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(20,"div",13),h.TgZ(21,"div",14),h._UZ(22,"img",15),h.qZA(),h.TgZ(23,"div",16),h.TgZ(24,"div",17),h.TgZ(25,"button",18),h.NdJ("click",function(){return h.CHM(e),h.oxw().previousQuestion()}),h._uU(26," Previous Question "),h.qZA(),h.qZA(),h.TgZ(27,"div",19),h._UZ(28,"progressbar",20),h.qZA(),h.TgZ(29,"div",21),h.YNc(30,AS,2,0,"button",22),h.YNc(31,jP,2,1,"button",23),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&n){const e=h.oxw();h.xp6(7),h.Q6J("ngIf",e.quiz.title),h.xp6(2),h.hij("\u0160iandien yra: ",h.xi3(10,8,e.today,"shortTime"),""),h.xp6(9),h.Q6J("ngForOf",h.lcZ(19,11,e.quizQuestions)),h.xp6(7),h.Q6J("disabled",e.currentQuestion<1),h.xp6(3),h.Q6J("value",e.progress)("striped",!0),h.xp6(2),h.Q6J("ngIf",null!==e.selectedAnswerKey),h.xp6(1),h.Q6J("ngIf",null===e.selectedAnswerKey)}}function RS(n,t){if(1&n&&(h.TgZ(0,"section",1),h.TgZ(1,"div",36),h.TgZ(2,"div",3),h.TgZ(3,"div",37),h.TgZ(4,"div",38),h.TgZ(5,"div",39),h._uU(6," You have succesfully finished the quiz! \u{1f64b}\u200d\u2642\ufe0f "),h.qZA(),h.TgZ(7,"div",40),h.TgZ(8,"h1"),h._uU(9),h.qZA(),h._UZ(10,"img",41),h.TgZ(11,"div"),h.TgZ(12,"a",42),h._uU(13," < Back To All Quizes"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const e=h.oxw();h.xp6(9),h.AsE("Your Score: ",e.userScore," / ",e.questionCount,"")}}const PS=[{path:"",component:rI},{path:"quiz/create",component:bE},{path:"quiz/:id",component:(()=>{class n{constructor(e,s,l){this.route=s,this.router=l,this.title="quiz",this.answers=[],this.quiz={},this.quizQuestions=[],this.today=new Date,this.currentQuestion=0,this.progress=0,this.selectedAnswerKey=null,this.selectedAnswerObj={key:"",value:{title:"",correct:!1}},this.selectedQuestionKey="",this.userAnswers=[],this.showResults=!1,this.userScore=0,this.questionCount=0,this.quizId=this.route.snapshot.paramMap.get("id"),e.object("quizes/"+this.quizId).valueChanges().subscribe(c=>{this.quiz=c,this.quizQuestions=c.questions})}ngOnInit(){}nextQuestion(){let e={questionKey:this.selectedQuestionKey,answerKey:this.selectedAnswerKey,correct:this.selectedAnswerObj.value.correct};this.currentQuestion++,this.userAnswers.push(e),this.countProgress()}previousQuestion(){this.currentQuestion--,this.userAnswers.pop(),this.countProgress()}countProgress(){let e=Object.keys(this.quizQuestions).length;this.progress=this.currentQuestion/e*100,100===this.progress&&(this.showResults=!0,this.userScore=this.countResult())}countResult(){let e=0;this.questionCount=0;for(let s=0;s<this.userAnswers.length;s++)this.userAnswers[s].correct&&e++,this.questionCount++;return e}userSelectedAnswer(e,s){this.selectedAnswerKey=this.selectedAnswerKey==s.key?null:s.key,this.selectedQuestionKey=e.key,this.selectedAnswerObj=s}}return n.\u0275fac=function(e){return new(e||n)(h.Y36(Bm),h.Y36(Bo),h.Y36(zr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-quiz"]],decls:2,vars:2,consts:[["class","quiz",4,"ngIf"],[1,"quiz"],[1,"container","quiz-answers-container"],[1,"row"],[1,"col-12","quiz-wrapper"],[1,"col-lg-6","offset-lg-3"],[1,"quiz-title","text-center"],[4,"ngIf"],[1,"quiz-title__subtitle"],[1,"fw-bold"],[1,"quiz-title__description"],[1,"col-lg-8","offset-lg-2"],["class","question",4,"ngFor","ngForOf"],[1,"quiz-actions"],[1,"quiz-actions__icon"],["src","assets/img/bq1.png"],[1,"row","align-items-center"],[1,"col-3"],[1,"btn","btn-lg","btn-light","text-uppercase","fw-bold",3,"disabled","click"],[1,"col-6"],["type","danger",3,"value","striped"],[1,"col-3","text-end"],["class","btn btn-lg btn-light text-uppercase fw-bold",3,"click",4,"ngIf"],["class","btn btn-lg btn-light text-uppercase fw-bold",3,"disabled",4,"ngIf"],[1,"question"],["class","question__wrapper",4,"ngIf"],[1,"question__wrapper"],[1,"col-12"],["class","col-sm-6 mb-3 quiz-answer",3,"selected",4,"ngFor","ngForOf"],[1,"col-sm-6","mb-3","quiz-answer"],[1,"card",3,"click"],[1,"card-body","d-flex","flex-nowrap","align-items-center"],[1,"quiz-answer__number"],[1,"quiz-answer__text"],[1,"btn","btn-lg","btn-light","text-uppercase","fw-bold",3,"click"],[1,"btn","btn-lg","btn-light","text-uppercase","fw-bold",3,"disabled"],[1,"container"],[1,"col-6","offset-3"],[1,"card","mt-3"],[1,"card-header"],[1,"card-body","text-center"],["src","assets/img/th.png",1,"thank-you-image","mb-3"],["routerLink","/",1,"btn","btn-primary"]],template:function(e,s){1&e&&(h.YNc(0,SS,32,13,"section",0),h.YNc(1,RS,14,2,"section",0)),2&e&&(h.Q6J("ngIf",!s.showResults),h.xp6(1),h.Q6J("ngIf",s.showResults))},directives:[Oi,Mt,dI,oc],pipes:[nl,sa],styles:['@charset "UTF-8";[_nghost-%COMP%]   .quiz[_ngcontent-%COMP%]{min-height:100vh;background-image:url(/assets/img/qbg.jpeg);background-size:cover;background-position:center center}[_nghost-%COMP%]   .quiz[_ngcontent-%COMP%]   .quiz-wrapper[_ngcontent-%COMP%]{padding:90px 30px;box-sizing:border-box;width:100%}[_nghost-%COMP%]   .quiz-title__subtitle[_ngcontent-%COMP%]{color:#f42e35}[_nghost-%COMP%]   .quiz-title__description[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   .quiz-answer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .quiz-answer__number[_ngcontent-%COMP%]{font-size:30px;width:50px;border:1px solid #3c3c3c;text-align:center;margin-right:40px;background:white;font-weight:700}[_nghost-%COMP%]   .quiz-answer__text[_ngcontent-%COMP%]{font-size:23px;font-weight:600;color:#3c3c3c}[_nghost-%COMP%]   .quiz-answer.selected[_ngcontent-%COMP%]   .quiz-answer__text[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .quiz-answer.selected[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#f42e35}@media (max-width: 767.98px){[_nghost-%COMP%]   .quiz-answers-container[_ngcontent-%COMP%]{padding-bottom:250px}}[_nghost-%COMP%]   .quiz-actions[_ngcontent-%COMP%]{background:#3c3c3c;padding:20px 30px;width:90%;margin:0 auto;position:fixed;bottom:0;left:5%}[_nghost-%COMP%]   .quiz-actions__icon[_ngcontent-%COMP%]{position:absolute;left:0;bottom:100%}[_nghost-%COMP%]   .quiz-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:18px}[_nghost-%COMP%]   .thank-you-image[_ngcontent-%COMP%]{max-width:250px}']}),n})()},{path:"quiz/:id/edit",component:nI}];let hI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Q_.forRoot(PS)],Q_]}),n})(),MS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:19,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["aria-current","page","routerLink","/",1,"nav-link","active"],["href","#",1,"nav-link"],["routerLink","/quiz/create",1,"nav-link"],[1,"badge","bg-danger"],["href","https://github.com/Tvaitilas/quiz-angular-build",1,"nav-link","ms-5","btn-warning"]],template:function(e,s){1&e&&(h.TgZ(0,"nav",0),h.TgZ(1,"div",1),h.TgZ(2,"a",2),h._uU(3,"Angular Quiz"),h.qZA(),h.TgZ(4,"button",3),h._UZ(5,"span",4),h.qZA(),h.TgZ(6,"div",5),h.TgZ(7,"div",6),h.TgZ(8,"a",7),h._uU(9,"All Quizes"),h.qZA(),h.TgZ(10,"a",8),h._uU(11,"Contact"),h.qZA(),h.TgZ(12,"a",9),h._uU(13," Create Quiz! "),h.TgZ(14,"span",10),h._uU(15,"New!"),h.qZA(),h.qZA(),h.TgZ(16,"a",11),h._uU(17,"Kodas Github'e"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(18,"router-outlet"))},directives:[oc,Fd],styles:[""]}),n})();class fI{}const Qa="*";function gI(n,t=null){return{type:2,steps:n,options:t}}function mI(n){return{type:6,styles:n,offset:null}}function FS(n){Promise.resolve(null).then(n)}class Oc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){FS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class SE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,s=0,l=0;const c=this.players.length;0==c?FS(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++e==c&&this._onFinish()}),g.onDestroy(()=>{++s==c&&this._onDestroy()}),g.onStart(()=>{++l==c&&this._onStart()})}),this.totalTime=this.players.reduce((g,v)=>Math.max(g,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,e/s.totalTime):1;s.setPosition(l)})}getPosition(){const t=this.players.reduce((e,s)=>null===e||s.totalTime>e.totalTime?s:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}function yI(){return"undefined"!=typeof window&&void 0!==window.document}function PE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function uu(n){switch(n.length){case 0:return new Oc;case 1:return n[0];default:return new SE(n)}}function ME(n,t,e,s,l={},c={}){const g=[],v=[];let b=-1,S=null;if(s.forEach(x=>{const O=x.offset,z=O==b,re=z&&S||{};Object.keys(x).forEach(fe=>{let Ae=fe,Me=x[fe];if("offset"!==fe)switch(Ae=t.normalizePropertyName(Ae,g),Me){case"!":Me=l[fe];break;case Qa:Me=c[fe];break;default:Me=t.normalizeStyleValue(fe,Ae,Me,g)}re[Ae]=Me}),z||v.push(re),S=re,b=O}),g.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${g.join(x)}`)}return v}function vI(n,t,e,s){switch(t){case"start":n.onStart(()=>s(e&&EI(e,"start",n)));break;case"done":n.onDone(()=>s(e&&EI(e,"done",n)));break;case"destroy":n.onDestroy(()=>s(e&&EI(e,"destroy",n)))}}function EI(n,t,e){const s=e.totalTime,c=NE(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==s?n.totalTime:s,!!e.disabled),g=n._data;return null!=g&&(c._data=g),c}function NE(n,t,e,s,l="",c=0,g){return{element:n,triggerName:t,fromState:e,toState:s,phaseName:l,totalTime:c,disabled:!!g}}function gi(n,t,e){let s;return n instanceof Map?(s=n.get(t),s||n.set(t,s=e)):(s=n[t],s||(s=n[t]=e)),s}function ar(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let CI=(n,t)=>!1,l_=(n,t)=>!1,Rp=(n,t,e)=>[];const bI=PE();(bI||"undefined"!=typeof Element)&&(CI=yI()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),l_=(()=>{if(bI||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,s)=>t.apply(e,[s]):l_}})(),Rp=(n,t,e)=>{let s=[];if(e){const l=n.querySelectorAll(t);for(let c=0;c<l.length;c++)s.push(l[c])}else{const l=n.querySelector(t);l&&s.push(l)}return s});let Zi=null,OE=!1;function Pp(n){Zi||(Zi=("undefined"!=typeof document?document.body:null)||{},OE=!!Zi.style&&"WebkitAppearance"in Zi.style);let t=!0;return Zi.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Zi.style,!t&&OE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Zi.style)),t}const kE=l_,Rh=CI,FE=Rp;function u_(n){const t={};return Object.keys(n).forEach(e=>{const s=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=n[e]}),t}let LE=(()=>{class n{validateStyleProperty(e){return Pp(e)}matchesElement(e,s){return kE(e,s)}containsElement(e,s){return Rh(e,s)}query(e,s,l){return FE(e,s,l)}computeStyle(e,s,l){return l||""}animate(e,s,l,c,g,v=[],b){return new Oc(l,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),qn=(()=>{class n{}return n.NOOP=new LE,n})();const DI="ng-enter",xc="ng-leave",VE="ng-trigger",UE=".ng-trigger",TI="ng-animating",BE=".ng-animating";function kc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:jE(parseFloat(t[1]),t[2])}function jE(n,t){switch(t){case"s":return 1e3*n;default:return n}}function c_(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let l,c=0,g="";if("string"==typeof n){const v=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};l=jE(parseFloat(v[1]),v[2]);const b=v[3];null!=b&&(c=jE(parseFloat(b),v[4]));const S=v[5];S&&(g=S)}else l=n;if(!e){let v=!1,b=t.length;l<0&&(t.push("Duration values below 0 are not allowed for this animation step."),v=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&t.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:l,delay:c,easing:g}}(n,t,e)}function Ph(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function cu(n,t,e={}){if(t)for(let s in n)e[s]=n[s];else Ph(n,e);return e}function US(n,t,e){return e?t+":"+e+";":""}function BS(n){let t="";for(let e=0;e<n.style.length;e++){const s=n.style.item(e);t+=US(0,s,n.style.getPropertyValue(s))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=US(0,YP(e),n.style[e]));n.setAttribute("style",t)}function ea(n,t,e){n.style&&(Object.keys(t).forEach(s=>{const l=HE(s);e&&!e.hasOwnProperty(s)&&(e[s]=n.style[l]),n.style[l]=t[s]}),PE()&&BS(n))}function Fc(n,t){n.style&&(Object.keys(t).forEach(e=>{const s=HE(e);n.style[s]=""}),PE()&&BS(n))}function Mp(n){return Array.isArray(n)?1==n.length?n[0]:gI(n):n}const $E=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ts(n){let t=[];if("string"==typeof n){let e;for(;e=$E.exec(n);)t.push(e[1]);$E.lastIndex=0}return t}function d_(n,t,e){const s=n.toString(),l=s.replace($E,(c,g)=>{let v=t[g];return t.hasOwnProperty(g)||(e.push(`Please provide a value for the animation param ${g}`),v=""),v.toString()});return l==s?n:l}function h_(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const $S=/-+([a-z0-9])/g;function HE(n){return n.replace($S,(...t)=>t[1].toUpperCase())}function YP(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function SI(n,t){return 0===n||0===t}function RI(n,t,e){const s=Object.keys(e);if(s.length&&t.length){let c=t[0],g=[];if(s.forEach(v=>{c.hasOwnProperty(v)||g.push(v),c[v]=e[v]}),g.length)for(var l=1;l<t.length;l++){let v=t[l];g.forEach(function(b){v[b]=Lc(n,b)})}}return t}function Ki(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Lc(n,t){return window.getComputedStyle(n)[t]}function QP(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(s=>function(n,t,e){if(":"==n[0]){const b=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,s)=>parseFloat(s)>parseFloat(e);case":decrement":return(e,s)=>parseFloat(s)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const s=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const l=s[1],c=s[2],g=s[3];t.push(f_(l,g));"<"==c[0]&&!("*"==l&&"*"==g)&&t.push(f_(g,l))}(s,e,t)):e.push(n),e}const WE=new Set(["true","1"]),GE=new Set(["false","0"]);function f_(n,t){const e=WE.has(n)||GE.has(n),s=WE.has(t)||GE.has(t);return(l,c)=>{let g="*"==n||n==l,v="*"==t||t==c;return!g&&e&&"boolean"==typeof l&&(g=l?WE.has(n):GE.has(n)),!v&&s&&"boolean"==typeof c&&(v=c?WE.has(t):GE.has(t)),g&&v}}const WS=new RegExp("s*:selfs*,?","g");function zE(n,t,e){return new zS(n).build(t,e)}class zS{constructor(t){this._driver=t}build(t,e){const s=new ho(e);return this._resetContextStyleTimingState(s),Ki(this,Mp(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,l=e.depCount=0;const c=[],g=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(v=>{if(this._resetContextStyleTimingState(e),0==v.type){const b=v,S=b.name;S.toString().split(/\s*,\s*/).forEach(x=>{b.name=x,c.push(this.visitState(b,e))}),b.name=S}else if(1==v.type){const b=this.visitTransition(v,e);s+=b.queryCount,l+=b.depCount,g.push(b)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:g,queryCount:s,depCount:l,options:null}}visitState(t,e){const s=this.visitStyle(t.styles,e),l=t.options&&t.options.params||null;if(s.containsDynamicStyles){const c=new Set,g=l||{};if(s.styles.forEach(v=>{if(Op(v)){const b=v;Object.keys(b).forEach(S=>{Ts(b[S]).forEach(x=>{g.hasOwnProperty(x)||c.add(x)})})}}),c.size){const v=h_(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:t.name,style:s,options:l?{params:l}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const s=Ki(this,Mp(t.animation),e);return{type:1,matchers:QP(t.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:du(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(s=>Ki(this,s,e)),options:du(t.options)}}visitGroup(t,e){const s=e.currentTime;let l=0;const c=t.steps.map(g=>{e.currentTime=s;const v=Ki(this,g,e);return l=Math.max(l,e.currentTime),v});return e.currentTime=l,{type:3,steps:c,options:du(t.options)}}visitAnimate(t,e){const s=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return p_(c_(n,t).duration,0,"");const s=n;if(s.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=p_(0,0,"");return c.dynamic=!0,c.strValue=s,c}return e=e||c_(s,t),p_(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=s;let l,c=t.styles?t.styles:mI({});if(5==c.type)l=this.visitKeyframes(c,e);else{let g=t.styles,v=!1;if(!g){v=!0;const S={};s.easing&&(S.easing=s.easing),g=mI(S)}e.currentTime+=s.duration+s.delay;const b=this.visitStyle(g,e);b.isEmptyStep=v,l=b}return e.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(t,e){const s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){const s=[];Array.isArray(t.styles)?t.styles.forEach(g=>{"string"==typeof g?g==Qa?s.push(g):e.errors.push(`The provided style string value ${g} is not allowed.`):s.push(g)}):s.push(t.styles);let l=!1,c=null;return s.forEach(g=>{if(Op(g)){const v=g,b=v.easing;if(b&&(c=b,delete v.easing),!l)for(let S in v)if(v[S].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:c,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const s=e.currentAnimateTimings;let l=e.currentTime,c=e.currentTime;s&&c>0&&(c-=s.duration+s.delay),t.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void e.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const b=e.collectedStyles[e.currentQuerySelector],S=b[v];let x=!0;S&&(c!=l&&c>=S.startTime&&l<=S.endTime&&(e.errors.push(`The CSS property "${v}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${l}ms"`),x=!1),c=S.startTime),x&&(b[v]={startTime:c,endTime:l}),e.options&&function(n,t,e){const s=t.params||{},l=Ts(n);l.length&&l.forEach(c=>{s.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(g[v],e.options,e.errors)})})}visitKeyframes(t,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let c=0;const g=[];let v=!1,b=!1,S=0;const x=t.steps.map(dt=>{const Xe=this._makeStyleAst(dt,e);let Ft=null!=Xe.offset?Xe.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Op(e)&&e.hasOwnProperty("offset")){const s=e;t=parseFloat(s.offset),delete s.offset}});else if(Op(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Xe.styles),ht=0;return null!=Ft&&(c++,ht=Xe.offset=Ft),b=b||ht<0||ht>1,v=v||ht<S,S=ht,g.push(ht),Xe});b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&e.errors.push("Please ensure that all keyframe offsets are in order");const O=t.steps.length;let z=0;c>0&&c<O?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(z=1/(O-1));const re=O-1,fe=e.currentTime,Ae=e.currentAnimateTimings,Me=Ae.duration;return x.forEach((dt,Xe)=>{const Ft=z>0?Xe==re?1:z*Xe:g[Xe],ht=Ft*Me;e.currentTime=fe+Ae.delay+ht,Ae.duration=ht,this._validateStyleAst(dt,e),dt.offset=Ft,s.styles.push(dt)}),s}visitReference(t,e){return{type:8,animation:Ki(this,Mp(t.animation),e),options:du(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:du(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:du(t.options)}}visitQuery(t,e){const s=e.currentQuerySelector,l=t.options||{};e.queryCount++,e.currentQuery=t;const[c,g]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(WS,"")),[n=n.replace(/@\*/g,UE).replace(/@\w+/g,e=>UE+"-"+e.substr(1)).replace(/:animating/g,BE),t]}(t.selector);e.currentQuerySelector=s.length?s+" "+c:c,gi(e.collectedStyles,e.currentQuerySelector,{});const v=Ki(this,Mp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:c,limit:l.limit||0,optional:!!l.optional,includeSelf:g,animation:v,originalSelector:t.selector,options:du(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:c_(t.timings,e.errors,!0);return{type:12,animation:Ki(this,Mp(t.animation),e),timings:s,options:null}}}class ho{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Op(n){return!Array.isArray(n)&&"object"==typeof n}function du(n){return n?(n=Ph(n)).params&&(n.params=function(n){return n?Ph(n):null}(n.params)):n={},n}function p_(n,t,e){return{duration:n,delay:t,easing:e}}function g_(n,t,e,s,l,c,g=null,v=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:s,duration:l,delay:c,totalTime:l+c,easing:g,subTimeline:v}}class Mh{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const m_=new RegExp(":enter","g"),MI=new RegExp(":leave","g");function y_(n,t,e,s,l,c={},g={},v,b,S=[]){return(new YS).buildKeyframes(n,t,e,s,l,c,g,v,b,S)}class YS{buildKeyframes(t,e,s,l,c,g,v,b,S,x=[]){S=S||new Mh;const O=new E_(t,e,S,l,c,x,[]);O.options=b,O.currentTimeline.setStyles([g],null,O.errors,b),Ki(this,s,O);const z=O.timelines.filter(re=>re.containsAnimation());if(z.length&&Object.keys(v).length){const re=z[z.length-1];re.allowOnlyTimelineStyles()||re.setStyles([v],null,O.errors,b)}return z.length?z.map(re=>re.buildKeyframes()):[g_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const s=e.subInstructions.consume(e.element);if(s){const l=e.createSubContext(t.options),c=e.currentTimeline.currentTime,g=this._visitSubInstructions(s,l,l.options);c!=g&&e.transformIntoNewTimeline(g)}e.previousNode=t}visitAnimateRef(t,e){const s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,s){let c=e.currentTimeline.currentTime;const g=null!=s.duration?kc(s.duration):null,v=null!=s.delay?kc(s.delay):null;return 0!==g&&t.forEach(b=>{const S=e.appendInstructionToTimeline(b,g,v);c=Math.max(c,S.duration+S.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Ki(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const s=e.subContextCount;let l=e;const c=t.options;if(c&&(c.params||c.delay)&&(l=e.createSubContext(c),l.transformIntoNewTimeline(),null!=c.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=v_);const g=kc(c.delay);l.delayNextStep(g)}t.steps.length&&(t.steps.forEach(g=>Ki(this,g,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const s=[];let l=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?kc(t.options.delay):0;t.steps.forEach(g=>{const v=e.createSubContext(t.options);c&&v.delayNextStep(c),Ki(this,g,v),l=Math.max(l,v.currentTimeline.currentTime),s.push(v.currentTimeline)}),s.forEach(g=>e.currentTimeline.mergeTimelineCollectedStyles(g)),e.transformIntoNewTimeline(l),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const s=t.strValue;return c_(e.params?d_(s,e.params,e.errors):s,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const s=e.currentAnimateTimings=this._visitTiming(t.timings,e),l=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),l.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(s.duration),this.visitStyle(c,e),l.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const s=e.currentTimeline,l=e.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const c=l&&l.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(c):s.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const s=e.currentAnimateTimings,l=e.currentTimeline.duration,c=s.duration,v=e.createSubContext().currentTimeline;v.easing=s.easing,t.styles.forEach(b=>{v.forwardTime((b.offset||0)*c),v.setStyles(b.styles,b.easing,e.errors,e.options),v.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(v),e.transformIntoNewTimeline(l+c),e.previousNode=t}visitQuery(t,e){const s=e.currentTimeline.currentTime,l=t.options||{},c=l.delay?kc(l.delay):0;c&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=v_);let g=s;const v=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!l.optional,e.errors);e.currentQueryTotal=v.length;let b=null;v.forEach((S,x)=>{e.currentQueryIndex=x;const O=e.createSubContext(t.options,S);c&&O.delayNextStep(c),S===e.element&&(b=O.currentTimeline),Ki(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(g),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const s=e.parentContext,l=e.currentTimeline,c=t.timings,g=Math.abs(c.duration),v=g*(e.currentQueryTotal-1);let b=g*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":b=v-b;break;case"full":b=s.currentStaggerTime}const x=e.currentTimeline;b&&x.delayNextStep(b);const O=x.currentTime;Ki(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=l.currentTime-O+(l.startTime-s.currentTimeline.startTime)}}const v_={};class E_{constructor(t,e,s,l,c,g,v,b){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=c,this.errors=g,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=v_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new C_(this._driver,e,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const s=t;let l=this.options;null!=s.duration&&(l.duration=kc(s.duration)),null!=s.delay&&(l.delay=kc(s.delay));const c=s.params;if(c){let g=l.params;g||(g=this.options.params={}),Object.keys(c).forEach(v=>{(!e||!g.hasOwnProperty(v))&&(g[v]=d_(c[v],g,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const s=t.params={};Object.keys(e).forEach(l=>{s[l]=e[l]})}}return t}createSubContext(t=null,e,s){const l=e||this.element,c=new E_(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=v_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){const l={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+t.delay,easing:""},c=new QS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,l,t.stretchStartingKeyframe);return this.timelines.push(c),l}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,l,c,g){let v=[];if(l&&v.push(this.element),t.length>0){t=(t=t.replace(m_,"."+this._enterClassName)).replace(MI,"."+this._leaveClassName);let S=this._driver.query(this.element,t,1!=s);0!==s&&(S=s<0?S.slice(S.length+s,S.length):S.slice(0,s)),v.push(...S)}return!c&&0==v.length&&g.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),v}}class C_{constructor(t,e,s,l){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new C_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Qa,this._currentKeyframe[e]=Qa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,l){e&&(this._previousKeyframe.easing=e);const c=l&&l.params||{},g=function(n,t){const e={};let s;return n.forEach(l=>{"*"===l?(s=s||Object.keys(t),s.forEach(c=>{e[c]=Qa})):cu(l,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(g).forEach(v=>{const b=d_(g[v],c,s);this._pendingStyles[v]=b,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:Qa),this._updateStyle(v,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(s=>{this._currentKeyframe[s]=t[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const s=this._styleSummary[e],l=t._styleSummary[e];(!s||l.time>s.time)&&this._updateStyle(e,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((v,b)=>{const S=cu(v,!0);Object.keys(S).forEach(x=>{const O=S[x];"!"==O?t.add(x):O==Qa&&e.add(x)}),s||(S.offset=b/this.duration),l.push(S)});const c=t.size?h_(t.values()):[],g=e.size?h_(e.values()):[];if(s){const v=l[0],b=Ph(v);v.offset=0,b.offset=1,l=[v,b]}return g_(this.element,l,c,g,this.duration,this.startTime,this.easing,!1)}}class QS extends C_{constructor(t,e,s,l,c,g,v=!1){super(t,e,g.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=c,this._stretchStartingKeyframe=v,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],g=s+e,v=e/g,b=cu(t[0],!1);b.offset=0,c.push(b);const S=cu(t[0],!1);S.offset=NI(v),c.push(S);const x=t.length-1;for(let O=1;O<=x;O++){let z=cu(t[O],!1);z.offset=NI((e+z.offset*s)/g),c.push(z)}s=g,e=0,l="",t=c}return g_(this.element,t,this.preStyleProps,this.postStyleProps,s,e,l,!0)}}function NI(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class kr{}class w_ extends kr{normalizePropertyName(t,e){return HE(t)}normalizeStyleValue(t,e,s,l){let c="";const g=s.toString().trim();if(I_[e]&&0!==s&&"0"!==s)if("number"==typeof s)c="px";else{const v=s.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&l.push(`Please provide a CSS unit value for ${t}:${s}`)}return g+c}}const I_=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QE(n,t,e,s,l,c,g,v,b,S,x,O,z){return{type:0,element:n,triggerName:t,isRemovalTransition:l,fromState:e,fromStyles:c,toState:s,toStyles:g,timelines:v,queriedElements:b,preStyleProps:S,postStyleProps:x,totalTime:O,errors:z}}const Nh={};class OI{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,l){return function(n,t,e,s,l){return n.some(c=>c(t,e,s,l))}(this.ast.matchers,t,e,s,l)}buildStyles(t,e,s){const l=this._stateStyles["*"],c=this._stateStyles[t],g=l?l.buildStyles(e,s):{};return c?c.buildStyles(e,s):g}build(t,e,s,l,c,g,v,b,S,x){const O=[],z=this.ast.options&&this.ast.options.params||Nh,fe=this.buildStyles(s,v&&v.params||Nh,O),Ae=b&&b.params||Nh,Me=this.buildStyles(l,Ae,O),dt=new Set,Xe=new Map,Ft=new Map,ht="void"===l,Fr={params:Object.assign(Object.assign({},z),Ae)},Kr=x?[]:y_(t,e,this.ast.animation,c,g,fe,Me,Fr,S,O);let Qi=0;if(Kr.forEach($c=>{Qi=Math.max($c.duration+$c.delay,Qi)}),O.length)return QE(e,this._triggerName,s,l,ht,fe,Me,[],[],Xe,Ft,Qi,O);Kr.forEach($c=>{const Hc=$c.element,dM=gi(Xe,Hc,{});$c.preStyleProps.forEach(Lp=>dM[Lp]=!0);const dC=gi(Ft,Hc,{});$c.postStyleProps.forEach(Lp=>dC[Lp]=!0),Hc!==e&&dt.add(Hc)});const jc=h_(dt.values());return QE(e,this._triggerName,s,l,ht,fe,Me,Kr,jc,Xe,Ft,Qi)}}class eR{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){const s={},l=Ph(this.defaultParams);return Object.keys(t).forEach(c=>{const g=t[c];null!=g&&(l[c]=g)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const g=c;Object.keys(g).forEach(v=>{let b=g[v];b.length>1&&(b=d_(b,l,e));const S=this.normalizer.normalizePropertyName(v,e);b=this.normalizer.normalizeStyleValue(v,S,b,e),s[S]=b})}}),s}}class xI{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(l=>{this.states[l.name]=new eR(l.style,l.options&&l.options.params||{},s)}),kI(this.states,"true","1"),kI(this.states,"false","0"),e.transitions.forEach(l=>{this.transitionFactories.push(new OI(t,l,this.states))}),this.fallbackTransition=function(n,t,e){return new OI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,v)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,l){return this.transitionFactories.find(g=>g.match(t,e,s,l))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}}function kI(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const rR=new Mh;class hu{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(t,e){const s=[],l=zE(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[t]=l}_buildPlayer(t,e,s){const l=t.element,c=ME(0,this._normalizer,0,t.keyframes,e,s);return this._driver.animate(l,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){const l=[],c=this._animations[t];let g;const v=new Map;if(c?(g=y_(this._driver,e,c,DI,xc,{},{},s,rR,l),g.forEach(x=>{const O=gi(v,x.element,{});x.postStyleProps.forEach(z=>O[z]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),g=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);v.forEach((x,O)=>{Object.keys(x).forEach(z=>{x[z]=this._driver.computeStyle(O,z,Qa)})});const S=uu(g.map(x=>{const O=v.get(x.element);return this._buildPlayer(x,{},O)}));return this._playersById[t]=S,S.onDestroy(()=>this.destroy(t)),this.players.push(S),S}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,s,l){const c=NE(e,"","","");return vI(this._getPlayer(t),s,c,l),()=>{}}command(t,e,s,l){if("register"==s)return void this.register(t,l[0]);if("create"==s)return void this.create(t,e,l[0]||{});const c=this._getPlayer(t);switch(s){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(t)}}}const Oh="ng-animate-queued",FI="ng-animate-disabled",LI=".ng-animate-disabled",sR=[],eC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},As="__ng_removed";class tC{constructor(t,e=""){this.namespaceId=e;const s=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(s?t.value:t),s){const c=Ph(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const s=this.options.params;Object.keys(e).forEach(l=>{null==s[l]&&(s[l]=e[l])})}}}const xp="void",fo=new tC(xp);class kp{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ss(e,this._hostClassName)}listen(t,e,s,l){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);const c=gi(this._elementListeners,t,[]),g={name:e,phase:s,callback:l};c.push(g);const v=gi(this._engine.statesByElement,t,{});return v.hasOwnProperty(e)||(Ss(t,VE),Ss(t,VE+"-"+e),v[e]=fo),()=>{this._engine.afterFlush(()=>{const b=c.indexOf(g);b>=0&&c.splice(b,1),this._triggers[e]||delete v[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,s,l=!0){const c=this._getTrigger(e),g=new kh(this.id,e,t);let v=this._engine.statesByElement.get(t);v||(Ss(t,VE),Ss(t,VE+"-"+e),this._engine.statesByElement.set(t,v={}));let b=v[e];const S=new tC(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&b&&S.absorbOptions(b.options),v[e]=S,b||(b=fo),S.value!==xp&&b.value===S.value){if(!function(n,t){const e=Object.keys(n),s=Object.keys(t);if(e.length!=s.length)return!1;for(let l=0;l<e.length;l++){const c=e[l];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(b.params,S.params)){const Ae=[],Me=c.matchStyles(b.value,b.params,Ae),dt=c.matchStyles(S.value,S.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{Fc(t,Me),ea(t,dt)})}return}const z=gi(this._engine.playersByElement,t,[]);z.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==e&&Ae.queued&&Ae.destroy()});let re=c.matchTransition(b.value,S.value,t,S.params),fe=!1;if(!re){if(!l)return;re=c.fallbackTransition,fe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:re,fromState:b,toState:S,player:g,isFallbackTransition:fe}),fe||(Ss(t,Oh),g.onStart(()=>{Lh(t,Oh)})),g.onDone(()=>{let Ae=this.players.indexOf(g);Ae>=0&&this.players.splice(Ae,1);const Me=this._engine.playersByElement.get(t);if(Me){let dt=Me.indexOf(g);dt>=0&&Me.splice(dt,1)}}),this.players.push(g),z.push(g),g}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,s)=>{delete e[t]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(l=>l.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(s=>s.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const s=this._engine.driver.query(t,UE,!0);s.forEach(l=>{if(l[As])return;const c=this._engine.fetchNamespacesByElement(l);c.size?c.forEach(g=>g.triggerLeaveAnimation(l,e,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(t,e,s,l){const c=this._engine.statesByElement.get(t);if(c){const g=[];if(Object.keys(c).forEach(v=>{if(this._triggers[v]){const b=this.trigger(t,v,xp,l);b&&g.push(b)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),s&&uu(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){const l=new Set;e.forEach(c=>{const g=c.name;if(l.has(g))return;l.add(g);const b=this._triggers[g].fallbackTransition,S=s[g]||fo,x=new tC(xp),O=new kh(this.id,g,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:g,transition:b,fromState:S,toState:x,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let l=!1;if(s.totalAnimations){const c=s.players.length?s.playersByQueriedElement.get(t):[];if(c&&c.length)l=!0;else{let g=t;for(;g=g.parentNode;)if(s.statesByElement.get(g)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(t),l)s.markElementAsRemoved(this.id,t,!1,e);else{const c=t[As];(!c||c===eC)&&(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){Ss(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const c=s.element,g=this._elementListeners.get(c);g&&g.forEach(v=>{if(v.name==s.triggerName){const b=NE(c,s.triggerName,s.fromState.value,s.toState.value);b._data=t,vI(s.player,v.phase,b,v.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):e.push(s)}),this._queue=[],e.sort((s,l)=>{const c=s.transition.ast.depCount,g=l.transition.ast.depCount;return 0==c||0==g?c-g:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(s=>s.element===t)||e,e}}class xh{constructor(t,e,s){this.bodyNode=t,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(s=>{s.queued&&t.push(s)})}),t}createNamespace(t,e){const s=new kp(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let c=s;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),l=!0;break}l||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let l=this._namespaceLookup[t];l&&l.register(e,s)&&this.totalAnimations++}destroy(t,e){if(!t)return;const s=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[t];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,s=this.statesByElement.get(t);if(s){const l=Object.keys(s);for(let c=0;c<l.length;c++){const g=s[l[c]].namespaceId;if(g){const v=this._fetchNamespace(g);v&&e.add(v)}}}return e}trigger(t,e,s,l){if(D_(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,s,l),!0}return!1}insertNode(t,e,s,l){if(!D_(e))return;const c=e[As];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const g=this.collectedLeaveElements.indexOf(e);g>=0&&this.collectedLeaveElements.splice(g,1)}if(t){const g=this._fetchNamespace(t);g&&g.insertNode(e,s)}l&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ss(t,FI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Lh(t,FI))}removeNode(t,e,s,l){if(D_(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,l):this.markElementAsRemoved(t,e,!1,l),s){const g=this.namespacesByHostElement.get(e);g&&g.id!==t&&g.removeNode(e,l)}}else this._onRemovalComplete(e,l)}markElementAsRemoved(t,e,s,l){this.collectedLeaveElements.push(e),e[As]={namespaceId:t,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(t,e,s,l,c){return D_(e)?this._fetchNamespace(t).listen(e,s,l,c):()=>{}}_buildInstruction(t,e,s,l,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,l,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,UE,!0);e.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,BE,!0),e.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return uu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[As];if(e&&e.setForRemoval){if(t[As]=eC,e.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,LI)&&this.markElementAsDisabled(t,!1),this.driver.query(t,LI,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ss(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,t)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],e.length?uu(e).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const s=new Mh,l=[],c=new Map,g=[],v=new Map,b=new Map,S=new Map,x=new Set;this.disabledNodes.forEach($e=>{x.add($e);const Ye=this.driver.query($e,".ng-animate-queued",!0);for(let gt=0;gt<Ye.length;gt++)x.add(Ye[gt])});const O=this.bodyNode,z=Array.from(this.statesByElement.keys()),re=iC(z,this.collectedEnterElements),fe=new Map;let Ae=0;re.forEach(($e,Ye)=>{const gt=DI+Ae++;fe.set(Ye,gt),$e.forEach(Zt=>Ss(Zt,gt))});const Me=[],dt=new Set,Xe=new Set;for(let $e=0;$e<this.collectedLeaveElements.length;$e++){const Ye=this.collectedLeaveElements[$e],gt=Ye[As];gt&&gt.setForRemoval&&(Me.push(Ye),dt.add(Ye),gt.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(Zt=>dt.add(Zt)):Xe.add(Ye))}const Ft=new Map,ht=iC(z,Array.from(dt));ht.forEach(($e,Ye)=>{const gt=xc+Ae++;Ft.set(Ye,gt),$e.forEach(Zt=>Ss(Zt,gt))}),t.push(()=>{re.forEach(($e,Ye)=>{const gt=fe.get(Ye);$e.forEach(Zt=>Lh(Zt,gt))}),ht.forEach(($e,Ye)=>{const gt=Ft.get(Ye);$e.forEach(Zt=>Lh(Zt,gt))}),Me.forEach($e=>{this.processLeaveNode($e)})});const Fr=[],Kr=[];for(let $e=this._namespaceList.length-1;$e>=0;$e--)this._namespaceList[$e].drainQueuedTransitions(e).forEach(gt=>{const Zt=gt.player,Yr=gt.element;if(Fr.push(Zt),this.collectedEnterElements.length){const gu=Yr[As];if(gu&&gu.setForMove)return void Zt.destroy()}const pu=!O||!this.driver.containsElement(O,Yr),po=Ft.get(Yr),Uh=fe.get(Yr),Zn=this._buildInstruction(gt,s,Uh,po,pu);if(Zn.errors&&Zn.errors.length)Kr.push(Zn);else{if(pu)return Zt.onStart(()=>Fc(Yr,Zn.fromStyles)),Zt.onDestroy(()=>ea(Yr,Zn.toStyles)),void l.push(Zt);if(gt.isFallbackTransition)return Zt.onStart(()=>Fc(Yr,Zn.fromStyles)),Zt.onDestroy(()=>ea(Yr,Zn.toStyles)),void l.push(Zt);Zn.timelines.forEach(gu=>gu.stretchStartingKeyframe=!0),s.append(Yr,Zn.timelines),g.push({instruction:Zn,player:Zt,element:Yr}),Zn.queriedElements.forEach(gu=>gi(v,gu,[]).push(Zt)),Zn.preStyleProps.forEach((gu,hC)=>{const GI=Object.keys(gu);if(GI.length){let Vp=b.get(hC);Vp||b.set(hC,Vp=new Set),GI.forEach(gR=>Vp.add(gR))}}),Zn.postStyleProps.forEach((gu,hC)=>{const GI=Object.keys(gu);let Vp=S.get(hC);Vp||S.set(hC,Vp=new Set),GI.forEach(gR=>Vp.add(gR))})}});if(Kr.length){const $e=[];Kr.forEach(Ye=>{$e.push(`@${Ye.triggerName} has failed due to:\n`),Ye.errors.forEach(gt=>$e.push(`- ${gt}\n`))}),Fr.forEach(Ye=>Ye.destroy()),this.reportError($e)}const Qi=new Map,jc=new Map;g.forEach($e=>{const Ye=$e.element;s.has(Ye)&&(jc.set(Ye,Ye),this._beforeAnimationBuild($e.player.namespaceId,$e.instruction,Qi))}),l.forEach($e=>{const Ye=$e.element;this._getPreviousPlayers(Ye,!1,$e.namespaceId,$e.triggerName,null).forEach(Zt=>{gi(Qi,Ye,[]).push(Zt),Zt.destroy()})});const $c=Me.filter($e=>jI($e,b,S)),Hc=new Map;rC(Hc,this.driver,Xe,S,Qa).forEach($e=>{jI($e,b,S)&&$c.push($e)});const dC=new Map;re.forEach(($e,Ye)=>{rC(dC,this.driver,new Set($e),b,"!")}),$c.forEach($e=>{const Ye=Hc.get($e),gt=dC.get($e);Hc.set($e,Object.assign(Object.assign({},Ye),gt))});const Lp=[],hM=[],fM={};g.forEach($e=>{const{element:Ye,player:gt,instruction:Zt}=$e;if(s.has(Ye)){if(x.has(Ye))return gt.onDestroy(()=>ea(Ye,Zt.toStyles)),gt.disabled=!0,gt.overrideTotalTime(Zt.totalTime),void l.push(gt);let Yr=fM;if(jc.size>1){let po=Ye;const Uh=[];for(;po=po.parentNode;){const Zn=jc.get(po);if(Zn){Yr=Zn;break}Uh.push(po)}Uh.forEach(Zn=>jc.set(Zn,Yr))}const pu=this._buildAnimation(gt.namespaceId,Zt,Qi,c,dC,Hc);if(gt.setRealPlayer(pu),Yr===fM)Lp.push(gt);else{const po=this.playersByElement.get(Yr);po&&po.length&&(gt.parentPlayer=uu(po)),l.push(gt)}}else Fc(Ye,Zt.fromStyles),gt.onDestroy(()=>ea(Ye,Zt.toStyles)),hM.push(gt),x.has(Ye)&&l.push(gt)}),hM.forEach($e=>{const Ye=c.get($e.element);if(Ye&&Ye.length){const gt=uu(Ye);$e.setRealPlayer(gt)}}),l.forEach($e=>{$e.parentPlayer?$e.syncPlayerEvents($e.parentPlayer):$e.destroy()});for(let $e=0;$e<Me.length;$e++){const Ye=Me[$e],gt=Ye[As];if(Lh(Ye,xc),gt&&gt.hasAnimation)continue;let Zt=[];if(v.size){let pu=v.get(Ye);pu&&pu.length&&Zt.push(...pu);let po=this.driver.query(Ye,BE,!0);for(let Uh=0;Uh<po.length;Uh++){let Zn=v.get(po[Uh]);Zn&&Zn.length&&Zt.push(...Zn)}}const Yr=Zt.filter(pu=>!pu.destroyed);Yr.length?BI(this,Ye,Yr):this.processLeaveNode(Ye)}return Me.length=0,Lp.forEach($e=>{this.players.push($e),$e.onDone(()=>{$e.destroy();const Ye=this.players.indexOf($e);this.players.splice(Ye,1)}),$e.play()}),Lp}elementContainsData(t,e){let s=!1;const l=e[As];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(t).elementContainsData(e)||s}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,l,c){let g=[];if(e){const v=this.playersByQueriedElement.get(t);v&&(g=v)}else{const v=this.playersByElement.get(t);if(v){const b=!c||c==xp;v.forEach(S=>{S.queued||!b&&S.triggerName!=l||g.push(S)})}}return(s||l)&&(g=g.filter(v=>!(s&&s!=v.namespaceId||l&&l!=v.triggerName))),g}_beforeAnimationBuild(t,e,s){const c=e.element,g=e.isRemovalTransition?void 0:t,v=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const S=b.element,x=S!==c,O=gi(s,S,[]);this._getPreviousPlayers(S,x,g,v,e.toState).forEach(re=>{const fe=re.getRealPlayer();fe.beforeDestroy&&fe.beforeDestroy(),re.destroy(),O.push(re)})}Fc(c,e.fromStyles)}_buildAnimation(t,e,s,l,c,g){const v=e.triggerName,b=e.element,S=[],x=new Set,O=new Set,z=e.timelines.map(fe=>{const Ae=fe.element;x.add(Ae);const Me=Ae[As];if(Me&&Me.removedBeforeQueried)return new Oc(fe.duration,fe.delay);const dt=Ae!==b,Xe=function(n){const t=[];return T_(n,t),t}((s.get(Ae)||sR).map(Qi=>Qi.getRealPlayer())).filter(Qi=>!!Qi.element&&Qi.element===Ae),Ft=c.get(Ae),ht=g.get(Ae),Fr=ME(0,this._normalizer,0,fe.keyframes,Ft,ht),Kr=this._buildPlayer(fe,Fr,Xe);if(fe.subTimeline&&l&&O.add(Ae),dt){const Qi=new kh(t,v,Ae);Qi.setRealPlayer(Kr),S.push(Qi)}return Kr});S.forEach(fe=>{gi(this.playersByQueriedElement,fe.element,[]).push(fe),fe.onDone(()=>function(n,t,e){let s;if(n instanceof Map){if(s=n.get(t),s){if(s.length){const l=s.indexOf(e);s.splice(l,1)}0==s.length&&n.delete(t)}}else if(s=n[t],s){if(s.length){const l=s.indexOf(e);s.splice(l,1)}0==s.length&&delete n[t]}return s}(this.playersByQueriedElement,fe.element,fe))}),x.forEach(fe=>Ss(fe,TI));const re=uu(z);return re.onDestroy(()=>{x.forEach(fe=>Lh(fe,TI)),ea(b,e.toStyles)}),O.forEach(fe=>{gi(l,fe,[]).push(re)}),re}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new Oc(t.duration,t.delay)}}class kh{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new Oc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>vI(t,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){gi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function D_(n){return n&&1===n.nodeType}function nC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function rC(n,t,e,s,l){const c=[];e.forEach(b=>c.push(nC(b)));const g=[];s.forEach((b,S)=>{const x={};b.forEach(O=>{const z=x[O]=t.computeStyle(S,O,l);(!z||0==z.length)&&(S[As]=VI,g.push(S))}),n.set(S,x)});let v=0;return e.forEach(b=>nC(b,c[v++])),g}function iC(n,t){const e=new Map;if(n.forEach(v=>e.set(v,[])),0==t.length)return e;const l=new Set(t),c=new Map;function g(v){if(!v)return 1;let b=c.get(v);if(b)return b;const S=v.parentNode;return b=e.has(S)?S:l.has(S)?1:g(S),c.set(v,b),b}return t.forEach(v=>{const b=g(v);1!==b&&e.get(b).push(v)}),e}const Fp="$$classes";function Ss(n,t){if(n.classList)n.classList.add(t);else{let e=n[Fp];e||(e=n[Fp]={}),e[t]=!0}}function Lh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Fp];e&&delete e[t]}}function BI(n,t,e){uu(e).onDone(()=>n.processLeaveNode(t))}function T_(n,t){for(let e=0;e<n.length;e++){const s=n[e];s instanceof SE?T_(s.players,t):t.push(s)}}function jI(n,t,e){const s=e.get(n);if(!s)return!1;let l=t.get(n);return l?s.forEach(c=>l.add(c)):t.set(n,s),e.delete(n),!0}class sC{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,c)=>{},this._transitionEngine=new xh(t,e,s),this._timelineEngine=new hu(t,e,s),this._transitionEngine.onRemovalComplete=(l,c)=>this.onRemovalComplete(l,c)}registerTrigger(t,e,s,l,c){const g=t+"-"+l;let v=this._triggerCache[g];if(!v){const b=[],S=zE(this._driver,c,b);if(b.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);v=function(n,t,e){return new xI(n,t,e)}(l,S,this._normalizer),this._triggerCache[g]=v}this._transitionEngine.registerTrigger(e,l,v)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,l){this._transitionEngine.insertNode(t,e,s,l)}onRemove(t,e,s,l){this._transitionEngine.removeNode(t,e,l||!1,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,l){if("@"==s.charAt(0)){const[c,g]=ar(s);this._timelineEngine.command(c,e,g,l)}else this._transitionEngine.trigger(t,e,s,l)}listen(t,e,s,l,c){if("@"==s.charAt(0)){const[g,v]=ar(s);return this._timelineEngine.listen(g,e,v,c)}return this._transitionEngine.listen(t,e,s,l,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function uR(n,t){let e=null,s=null;return Array.isArray(t)&&t.length?(e=$I(t[0]),t.length>1&&(s=$I(t[t.length-1]))):t&&(e=$I(t)),e||s?new tM(n,e,s):null}let tM=(()=>{class n{constructor(e,s,l){this._element=e,this._startStyles=s,this._endStyles=l,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&ea(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ea(this._element,this._initialStyles),this._endStyles&&(ea(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fc(this._element,this._endStyles),this._endStyles=null),ea(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $I(n){let t=null;const e=Object.keys(n);for(let s=0;s<e.length;s++){const l=e[s];cR(l)&&(t=t||{},t[l]=n[l])}return t}function cR(n){return"display"===n||"position"===n}const hR="animation",fR="animationend";class rM{constructor(t,e,s,l,c,g,v){this._element=t,this._name=e,this._duration=s,this._delay=l,this._easing=c,this._fillMode=g,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,t){const e=o(n,"").trim();let s=0;e.length&&(function(n,t){let e=0;for(let s=0;s<n.length;s++)","===n.charAt(s)&&e++;return e}(e)+1,t=`${e}, ${t}`),i(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),r(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){HI(this._element,this._name,"paused")}resume(){HI(this._element,this._name,"running")}setPosition(t){const e=pR(this._element,this._name);this._position=t*this._duration,i(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),r(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const s=o(n,"").split(","),l=WI(s,t);l>=0&&(s.splice(l,1),i(n,"",s.join(",")))}(this._element,this._name))}}function HI(n,t,e){i(n,"PlayState",e,pR(n,t))}function pR(n,t){const e=o(n,"");return e.indexOf(",")>0?WI(e.split(","),t):WI([e],t)}function WI(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function r(n,t,e){e?n.removeEventListener(fR,t):n.addEventListener(fR,t)}function i(n,t,e,s){const l=hR+t;if(null!=s){const c=n.style[l];if(c.length){const g=c.split(",");g[s]=e,e=g.join(",")}}n.style[l]=e}function o(n,t){return n.style[hR+t]||""}class m{constructor(t,e,s,l,c,g,v,b){this.element=t,this.keyframes=e,this.animationName=s,this._duration=l,this._delay=c,this._finalStyles=v,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=g||"linear",this.totalTime=l+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new rM(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(t[s]=e?this._finalStyles[s]:Lc(this.element,s))})}this.currentSnapshot=t}}class y extends Oc{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=u_(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class A{constructor(){this._count=0}validateStyleProperty(t){return Pp(t)}matchesElement(t,e){return kE(t,e)}containsElement(t,e){return Rh(t,e)}query(t,e,s){return FE(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,s){s=s.map(v=>u_(v));let l=`@keyframes ${e} {\n`,c="";s.forEach(v=>{c=" ";const b=parseFloat(v.offset);l+=`${c}${100*b}% {\n`,c+=" ",Object.keys(v).forEach(S=>{const x=v[S];switch(S){case"offset":return;case"easing":return void(x&&(l+=`${c}animation-timing-function: ${x};\n`));default:return void(l+=`${c}${S}: ${x};\n`)}}),l+=`${c}}\n`}),l+="}\n";const g=document.createElement("style");return g.textContent=l,g}animate(t,e,s,l,c,g=[],v){const b=g.filter(Me=>Me instanceof m),S={};SI(s,l)&&b.forEach(Me=>{let dt=Me.currentSnapshot;Object.keys(dt).forEach(Xe=>S[Xe]=dt[Xe])});const x=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(t[l]=s[l])})}),t}(e=RI(t,e,S));if(0==s)return new y(t,x);const O="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(t,O,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(z);const fe=uR(t,e),Ae=new m(t,e,O,s,l,c,x,fe);return Ae.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(z)),Ae}}class X{constructor(t,e,s,l){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,s){return t.animate(e,s)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Lc(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(s=>s()),e.length=0}}class Te{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(He().toString()),this._cssKeyframesDriver=new A}validateStyleProperty(t){return Pp(t)}matchesElement(t,e){return kE(t,e)}containsElement(t,e){return Rh(t,e)}query(t,e,s){return FE(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,s,l,c,g=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,s,l,c,g);const x={duration:s,delay:l,fill:0==l?"both":"forwards"};c&&(x.easing=c);const O={},z=g.filter(fe=>fe instanceof X);SI(s,l)&&z.forEach(fe=>{let Ae=fe.currentSnapshot;Object.keys(Ae).forEach(Me=>O[Me]=Ae[Me])});const re=uR(t,e=RI(t,e=e.map(fe=>cu(fe,!1)),O));return new X(t,e,x,re)}}function He(){return yI()&&Element.prototype.animate||{}}let Je=(()=>{class n extends fI{constructor(e,s){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(s.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(e){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(e)?gI(e):e;return Yi(this._renderer,null,s,"register",[l]),new Nt(s,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Nt extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new lr(this._id,t,e||{},this._renderer)}}class lr{constructor(t,e,s,l){this.id=t,this.element=e,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Yi(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Yi(n,t,e,s,l){return n.setProperty(t,`@@${e}:${s}`,l)}const Uc="@.disabled";let Vh=(()=>{class n{constructor(e,s,l){this.delegate=e,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(c,g)=>{g&&g.parentNode(c)&&g.removeChild(c.parentNode,c)}}createRenderer(e,s){const c=this.delegate.createRenderer(e,s);if(!(e&&s&&s.data&&s.data.animation)){let x=this._rendererCache.get(c);return x||(x=new Bc("",c,this.engine),this._rendererCache.set(c,x)),x}const g=s.id,v=s.id+"-"+this._currentId;this._currentId++,this.engine.register(v,e);const b=x=>{Array.isArray(x)?x.forEach(b):this.engine.registerTrigger(g,v,e,x.name,x)};return s.data.animation.forEach(b),new oC(this,v,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,s,l){e>=0&&e<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[g,v]=c;g(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(h.FYo),h.LFG(sC),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Bc{constructor(t,e,s){this.namespaceId=t,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>e.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,l=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,l)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,l){this.delegate.setAttribute(t,e,s,l)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,l){this.delegate.setStyle(t,e,s,l)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){"@"==e.charAt(0)&&e==Uc?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class oC extends Bc{constructor(t,e,s,l){super(e,s,l),this.factory=t,this.namespaceId=e}setProperty(t,e,s){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Uc?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,e.substr(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if("@"==e.charAt(0)){const l=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),g="";return"@"!=c.charAt(0)&&([c,g]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,l,c,g,v=>{this.factory.scheduleListenerCallback(v._data||-1,s,v)})}return this.delegate.listen(t,e,s)}}let uC=(()=>{class n extends sC{constructor(e,s,l){super(e.body,s,l)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(pe),h.LFG(qn),h.LFG(kr))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const oM=new h.OlP("AnimationModuleType"),aM=[{provide:fI,useClass:Je},{provide:kr,useFactory:function(){return new w_}},{provide:sC,useClass:uC},{provide:h.FYo,useFactory:function(n,t,e){return new Vh(n,t,e)},deps:[$r,sC,h.R0b]}],lM=[{provide:qn,useFactory:function(){return"function"==typeof He()?new Te:new A}},{provide:oM,useValue:"BrowserAnimations"},...aM],uM=[{provide:qn,useClass:LE},{provide:oM,useValue:"NoopAnimations"},...aM];let kM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?uM:lM}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:lM,imports:[Ou]}),n})();const cM_firebase={projectId:"bit-quiz-ang",appId:"1:769211852440:web:4539908c76f2be9dde52ed",databaseURL:"https://bit-quiz-ang-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"bit-quiz-ang.appspot.com",apiKey:"AIzaSyDC5qplpvIY4b-TqA2RZfyjjQFCd0ypXSg",authDomain:"bit-quiz-ang.firebaseapp.com",messagingSenderId:"769211852440"};let FM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[MS]}),n.\u0275inj=h.cJS({providers:[],imports:[[Ou,hI,kM,AE.forRoot(),gs.hO.initializeApp(cM_firebase),cP,CE]]}),n})();(0,h.G48)(),ls().bootstrapModule(FM).catch(n=>console.error(n))},3394:(je,Ee,L)=>{"use strict";L.d(Ee,{Z:()=>ye});var h=L(3854),ee=L(3910),k=L(8026),ue=L(5422);class ne{constructor(he,te){this._delegate=he,this.firebase=te,(0,k._addComponent)(he,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(he,te=k._DEFAULT_ENTRY_NAME){var de;this._delegate.checkDestroyed();const me=this._delegate.container.getProvider(he);return!me.isInitialized()&&"EXPLICIT"===(null===(de=me.getComponent())||void 0===de?void 0:de.instantiationMode)&&me.initialize(),me.getImmediate({identifier:te})}_removeServiceInstance(he,te=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(te)}_addComponent(he){(0,k._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,k._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function J(){const ge=function(ge){const he={},te={__esModule:!0,initializeApp:function(ft,tn={}){const at=k.initializeApp(ft,tn);if((0,h.r3)(he,at.name))return he[at.name];const et=new ge(at,te);return he[at.name]=et,et},app:me,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function(ft){const tn=ft.name,at=tn.replace("-compat","");if(k._registerComponent(ft)&&"PUBLIC"===ft.type){const et=(Ut=me())=>{if("function"!=typeof Ut[at])throw pe.create("invalid-app-argument",{appName:tn});return Ut[at]()};void 0!==ft.serviceProps&&(0,h.ZB)(et,ft.serviceProps),te[at]=et,ge.prototype[at]=function(...Ut){return this._getService.bind(this,tn).apply(this,ft.multipleInstances?Ut:[])}}return"PUBLIC"===ft.type?te[at]:null},removeApp:function(ft){delete he[ft]},useAsService:function(ft,tn){return"serverAuth"===tn?null:tn},modularAPIs:k}};function me(ft){if(!(0,h.r3)(he,ft=ft||k._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ft});return he[ft]}return te.default=te,Object.defineProperty(te,"apps",{get:function(){return Object.keys(he).map(ft=>he[ft])}}),me.App=ge,te}(ne);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(te){(0,h.ZB)(ge,te)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ge}(),B=new ue.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=F;(0,k.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:(je,Ee,L)=>{"use strict";L.r(Ee),L.d(Ee,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>mo,_DEFAULT_ENTRY_NAME:()=>Mi,_addComponent:()=>Ni,_addOrOverwriteComponent:()=>Xi,_apps:()=>Ot,_clearComponents:()=>nn,_components:()=>xt,_getProvider:()=>Kt,_registerComponent:()=>mi,_removeServiceInstance:()=>go,deleteApp:()=>kn,getApp:()=>_i,getApps:()=>we,initializeApp:()=>Qr,onLog:()=>kt,registerVersion:()=>Fe,setLogLevel:()=>Jr});var h=L(8239),ee=L(3910),k=L(5422),ue=L(3854);class ne{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function(ze){const qe=ze.getComponent();return"VERSION"===(null==qe?void 0:qe.type)}(_t)){const yt=_t.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(_t=>_t).join(" ")}}const pe="@firebase/app",Y="0.7.9",J=new k.Yd("@firebase/app"),Mi="[DEFAULT]",ta={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,xt=new Map;function Ni(ze,qe){try{ze.container.addComponent(qe)}catch(_t){J.debug(`Component ${qe.name} failed to register with FirebaseApp ${ze.name}`,_t)}}function Xi(ze,qe){ze.container.addOrOverwriteComponent(qe)}function mi(ze){const qe=ze.name;if(xt.has(qe))return J.debug(`There were multiple attempts to register component ${qe}.`),!1;xt.set(qe,ze);for(const _t of Ot.values())Ni(_t,ze);return!0}function Kt(ze,qe){return ze.container.getProvider(qe)}function go(ze,qe,_t=Mi){Kt(ze,qe).clearInstance(_t)}function nn(){xt.clear()}const Rt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class rn{constructor(qe,_t,yt){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const mo="9.5.0";function Qr(ze,qe={}){"object"!=typeof qe&&(qe={name:qe});const _t=Object.assign({name:Mi,automaticDataCollectionEnabled:!1},qe),yt=_t.name;if("string"!=typeof yt||!yt)throw Rt.create("bad-app-name",{appName:String(yt)});const cr=Ot.get(yt);if(cr){if((0,ue.vZ)(ze,cr.options)&&(0,ue.vZ)(_t,cr.config))return cr;throw Rt.create("duplicate-app",{appName:yt})}const Lt=new ee.H0(yt);for(const We of xt.values())Lt.addComponent(We);const Re=new rn(ze,_t,Lt);return Ot.set(yt,Re),Re}function _i(ze=Mi){const qe=Ot.get(ze);if(!qe)throw Rt.create("no-app",{appName:ze});return qe}function we(){return Array.from(Ot.values())}function kn(ze){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(ze){const qe=ze.name;Ot.has(qe)&&(Ot.delete(qe),yield Promise.all(ze.container.getProviders().map(_t=>_t.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function Fe(ze,qe,_t){var yt;let cr=null!==(yt=ta[ze])&&void 0!==yt?yt:ze;_t&&(cr+=`-${_t}`);const Lt=cr.match(/\s|\//),Re=qe.match(/\s|\//);if(Lt||Re){const We=[`Unable to register library "${cr}" with version "${qe}":`];return Lt&&We.push(`library name "${cr}" contains illegal characters (whitespace or "/")`),Lt&&Re&&We.push("and"),Re&&We.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void J.warn(We.join(" "))}mi(new ee.wA(`${cr}-version`,()=>({library:cr,version:qe}),"VERSION"))}function kt(ze,qe){if(null!==ze&&"function"!=typeof ze)throw Rt.create("invalid-log-argument");(0,k.Am)(ze,qe)}function Jr(ze){(0,k.Ub)(ze)}mi(new ee.wA("platform-logger",qe=>new ne(qe),"PRIVATE")),Fe(pe,Y,""),Fe(pe,Y,"esm2017"),Fe("fire-js","")},3910:(je,Ee,L)=>{"use strict";L.d(Ee,{wA:()=>k,H0:()=>Y,zt:()=>ne});var h=L(8239),ee=L(3854);class k{constructor(F,B,H){this.name=F,this.instanceFactory=B,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ue="[DEFAULT]";class ne{constructor(F,B){this.name=F,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const B=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(B)){const H=new ee.BH;if(this.instancesDeferred.set(B,H),this.isInitialized(B)||this.shouldAutoInitialize())try{const oe=this.getOrInitializeService({instanceIdentifier:B});oe&&H.resolve(oe)}catch(oe){}}return this.instancesDeferred.get(B).promise}getImmediate(F){var B;const H=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),oe=null!==(B=null==F?void 0:F.optional)&&void 0!==B&&B;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(ce){if(oe)return null;throw ce}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(B){}for(const[B,H]of this.instancesDeferred.entries()){const oe=this.normalizeInstanceIdentifier(B);try{const ce=this.getOrInitializeService({instanceIdentifier:oe});H.resolve(ce)}catch(ce){}}}}clearInstance(F=ue){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,h.Z)(function*(){const B=Array.from(F.instances.values());yield Promise.all([...B.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...B.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ue){return this.instances.has(F)}getOptions(F=ue){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:B={}}=F,H=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const oe=this.getOrInitializeService({instanceIdentifier:H,options:B});for(const[ce,ye]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(ce)&&ye.resolve(oe);return oe}onInit(F,B){var H;const oe=this.normalizeInstanceIdentifier(B),ce=null!==(H=this.onInitCallbacks.get(oe))&&void 0!==H?H:new Set;ce.add(F),this.onInitCallbacks.set(oe,ce);const ye=this.instances.get(oe);return ye&&F(ye,oe),()=>{ce.delete(F)}}invokeOnInitCallbacks(F,B){const H=this.onInitCallbacks.get(B);if(H)for(const oe of H)try{oe(F,B)}catch(ce){}}getOrInitializeService({instanceIdentifier:F,options:B={}}){let H=this.instances.get(F);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(J=F,J===ue?void 0:J),options:B}),this.instances.set(F,H),this.instancesOptions.set(F,B),this.invokeOnInitCallbacks(H,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,H)}catch(oe){}var J;return H||null}normalizeInstanceIdentifier(F=ue){return this.component?this.component.multipleInstances?F:ue:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const B=this.getProvider(F.name);if(B.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);B.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const B=new ne(F,this);return this.providers.set(F,B),B}getProviders(){return Array.from(this.providers.values())}}},5422:(je,Ee,L)=>{"use strict";L.d(Ee,{in:()=>ee,Yd:()=>pe,Ub:()=>Y,Am:()=>J});const h=[];var ee=(()=>{return(F=ee||(ee={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",ee;var F})();const k={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ue=ee.INFO,ne={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},K=(F,B,...H)=>{if(B<F.logLevel)return;const oe=(new Date).toISOString(),ce=ne[B];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[ce](`[${oe}]  ${F.name}:`,...H)};class pe{constructor(B){this.name=B,this._logLevel=ue,this._logHandler=K,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in ee))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?k[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...B),this._logHandler(this,ee.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...B),this._logHandler(this,ee.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...B),this._logHandler(this,ee.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...B),this._logHandler(this,ee.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...B),this._logHandler(this,ee.ERROR,...B)}}function Y(F){h.forEach(B=>{B.setLogLevel(F)})}function J(F,B){for(const H of h){let oe=null;B&&B.level&&(oe=k[B.level]),H.userLogHandler=null===F?null:(ce,ye,...ge)=>{const he=ge.map(te=>{if(null==te)return null;if("string"==typeof te)return te;if("number"==typeof te||"boolean"==typeof te)return te.toString();if(te instanceof Error)return te.message;try{return JSON.stringify(te)}catch(de){return null}}).filter(te=>te).join(" ");ye>=(null!=oe?oe:ce.logLevel)&&F({level:ee[ye].toLowerCase(),message:he,args:ge,type:ce.name})}}}},8239:(je,Ee,L)=>{"use strict";function h(k,ue,ne,K,pe,Y,J){try{var F=k[Y](J),B=F.value}catch(H){return void ne(H)}F.done?ue(B):Promise.resolve(B).then(K,pe)}function ee(k){return function(){var ue=this,ne=arguments;return new Promise(function(K,pe){var Y=k.apply(ue,ne);function J(B){h(Y,K,pe,J,F,"next",B)}function F(B){h(Y,K,pe,J,F,"throw",B)}J(void 0)})}}L.d(Ee,{Z:()=>ee})}},je=>{je(je.s=9843)}]);